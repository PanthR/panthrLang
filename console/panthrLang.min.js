!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){!function(define){"use strict";define(function(require){var LinAlg;return LinAlg={},LinAlg.Vector=require("./linAlg/vector"),LinAlg.Matrix=require("./linAlg/matrix"),LinAlg})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./linAlg/matrix":2,"./linAlg/vector":26}],2:[function(require,module){!function(define){"use strict";define(function(require){function Matrix(arr,options){return arr instanceof Matrix?arr:new Matrix.DenseM(arr,options)}var op;return op=require("./utils").op,Matrix.Vector=require("./vector"),Matrix.DenseM=require("./matrix/dense")(Matrix),Matrix.SparseM=Matrix.DenseM.SparseM,Matrix.TabularM=Matrix.DenseM.TabularM,Matrix.StructuredM=require("./matrix/structured")(Matrix),Matrix.LowerTriM=Matrix.StructuredM.LowerTriM,Matrix.UpperTriM=Matrix.StructuredM.UpperTriM,Matrix.SymmetricM=Matrix.StructuredM.SymmetricM,Matrix.OuterM=Matrix.StructuredM.OuterM,Matrix.SumM=Matrix.StructuredM.SumM,Matrix.ProdM=Matrix.StructuredM.ProdM,Matrix.DiagM=Matrix.StructuredM.DiagM,Matrix.CDiagM=Matrix.StructuredM.CDiagM,Matrix.PermM=Matrix.StructuredM.PermM,Matrix.ViewM=require("./matrix/view")(Matrix),Matrix.ViewMV=require("./matrix/viewmv")(Matrix),Matrix.Solver=require("./solver")(Matrix),Matrix.diag=function(diagonal,len){return new Matrix.DiagM(diagonal,len)},Matrix.const=function(val,nrow){return new Matrix.CDiagM(val,nrow)},Matrix.perm=function perm(perm,nrow){return new Matrix.PermM(perm,nrow)},Matrix.rowBind=function(matrices){var ncol;if(matrices=[].concat.apply([],[].map.call(arguments,function(m){return m instanceof Matrix?m.toArray(!0):[m.toArray()]})),ncol=matrices[0].length,!matrices.every(function(m){return m.length===ncol}))throw new Error("Trying to rowBind rows of unequal length.");return new Matrix(matrices,!0)},Matrix.prototype.rowBind=function(matrices){return matrices=Array.prototype.slice.call(arguments),matrices.unshift(this),Matrix.rowBind.apply(null,matrices)},Matrix.Vector.rowBind=Matrix.rowBind,Matrix.Vector.prototype.rowBind=Matrix.prototype.rowBind,Matrix.colBind=function(matrices){var nrow;if(matrices=[].concat.apply([],[].map.call(arguments,function(m){return m instanceof Matrix?m.toArray():[m.toArray()]})),nrow=matrices[0].length,!matrices.every(function(m){return m.length===nrow}))throw new Error("Trying to colBind columns of unequal length.");return new Matrix(matrices,!1)},Matrix.prototype.colBind=function(matrices){return matrices=Array.prototype.slice.call(arguments),matrices.unshift(this),Matrix.colBind.apply(null,matrices)},Matrix.Vector.colBind=Matrix.colBind,Matrix.Vector.prototype.colBind=Matrix.prototype.colBind,Matrix.prototype.classes=[Matrix],Matrix.prototype.isA=function(constr){return this.classes.reduce(function(acc,con2){return acc||constr===con2},!1)},Matrix.commonConstr=function(A,B){var i;for(i=0;i<A.classes.length;i+=1)if(B.isA(A.classes[i]))return A.classes[i];throw new Error("Matrix is not a common ancestor for these BAD guys.")},Matrix.prototype.get=function(i,j){return arguments.length<=1?this.toArray(i||!1):this._get(i,j)},Matrix.prototype._get=function(i,j){return this.validIndices(i,j)?this.validate(i,j)?this.compute(i,j):0:null},Matrix.prototype.compute=function(i,j){return this.values.get(this.toIndex(i,j))},Matrix.prototype.set=function(i,j,val){function changeAll(target,vals){function makeLookup(vals){return"function"==typeof vals?vals:vals instanceof Matrix?(Matrix.ensureSameDims(target,vals),vals.get.bind(vals)):function(){return vals}}vals=makeLookup(vals),target.each(function(val,i,j){target._set(i,j,vals(i,j))})}return 1===arguments.length?changeAll(this,i):this._set(i,j,val),this},Matrix.prototype._set=function(i,j,val){if(!this.validate(i,j,val)||!this.validIndices(i,j))throw new Error("Setting out of Matrix bounds");return this.change(i,j,val)},Matrix.prototype.change=function(i,j,val){return this.values._set(this.toIndex(i,j),val),this},Matrix.prototype.validate=function(){return!0},Matrix.prototype.toArray=function(byRow){var arr=[];return byRow?this.eachRow(function(row){arr.push(row.toArray())}):this.eachCol(function(col){arr.push(col.toArray())}),arr},Matrix.prototype.toVector=function(byRow){var obj;return byRow=byRow||!1,obj={nrow:this.nrow,ncol:this.ncol,byRow:byRow},new Matrix.Vector(function(n){return this.get(this.rowFromIndex.call(obj,n),this.colFromIndex.call(obj,n))}.bind(this),this.nrow*this.ncol)},Matrix.prototype.force=function(){return this},Matrix.prototype.constr=function(){return Matrix},Matrix.prototype.clone=function(faithful){return faithful===!1?this._clone():this._faithfulClone()},Matrix.prototype._clone=function(){return new Matrix(this.toArray())},Matrix.prototype._faithfulClone=function(){return this.map(function(x){return x}).force()},Matrix.prototype.solve=function(b){if(null==this._solver&&(this._solver=this.getSolver()),this._solver.isSingular())throw new Error("System not solvable");return this._solver.solve(b)},Matrix.prototype.getSolver=function(){return new Matrix.Solver(this)},Matrix.prototype.inverse=function(){return this.solve(Matrix.const(1,this))},Matrix.prototype.toIndex=function(i,j){return this.byRow?(i-1)*this.ncol+j:(j-1)*this.nrow+i},Matrix.prototype.rowFromIndex=function(n){return this.byRow?Math.floor((n-1)/this.ncol)+1:(n-1)%this.nrow+1},Matrix.prototype.colFromIndex=function(n){return this.byRow?(n-1)%this.ncol+1:Math.floor((n-1)/this.nrow)+1},Matrix.Vector.prototype.outer=function(v2,f){var tabf;return null==f?new Matrix.OuterM(this,v2):(f=null!=op[f]?op[f]:f,tabf=function(i,j){return f(this.get(i),v2.get(j),i,j)}.bind(this),new Matrix(tabf,{nrow:this.length,ncol:v2.length}))},Matrix.prototype.pAdd=function(other,k){return new Matrix.SumM(this,other,k)},Matrix.prototype.sMult=function(k){return this.map(function(val){return k*val})},Matrix.prototype.mult=function(other){return new Matrix.ProdM(this,other)},Matrix.Vector.prototype.mult=function(other){return new Matrix.ProdM(this,other)},Matrix.prototype.lvMult=function(vec){return new Matrix.Vector(function(j){return vec.dot(this.colView(j))}.bind(this),this.ncol)},Matrix.prototype.rvMult=function(vec){return new Matrix.Vector(function(i){return vec.dot(this.rowView(i))}.bind(this),this.nrow)},Matrix.prototype.view=function(rowIndex,colIndex,dims){return new Matrix.ViewM(this,rowIndex,colIndex,dims)},Matrix.prototype.rowView=function(i){return new Matrix.ViewMV(this,i,"row")},Matrix.prototype.colView=function(j){return new Matrix.ViewMV(this,j,"col")},Matrix.prototype.rows=function(){var res,i;for(res=[],i=1;i<=this.nrow;i+=1)res.push(this.rowView(i));return res},Matrix.prototype.cols=function(){var res,j;for(res=[],j=1;j<=this.ncol;j+=1)res.push(this.colView(j));return res},Matrix.prototype.diagView=function(offset){return new Matrix.ViewMV(this,offset||0,"diag")},Matrix.prototype.rowPermute=function(perm){return Matrix.perm(perm,this.nrow).mult(this)},Matrix.prototype.colPermute=function(perm){return this.mult(Matrix.perm(perm,this.ncol).transpose())},Matrix.prototype.mutable=function(newSetting){return null!=newSetting?(this.values.mutable(newSetting),this):this.values.mutable()},Matrix.prototype.each=function(f){var i,j;for(i=1;i<=this.nrow;i+=1)for(j=1;j<=this.ncol;j+=1)f(this.compute(i,j),i,j)},Matrix.prototype.forEach=function(f){return this.each(f)},Matrix.prototype.eachRow=function(f){var i;for(i=1;i<=this.nrow;i+=1)f(this.rowView(i),i);return this},Matrix.prototype.eachCol=function(f){var j;for(j=1;j<=this.ncol;j+=1)f(this.colView(j),j);return this},Matrix.prototype.reduce=function(f,initial){return this.each(function(val,i,j){initial=f(initial,val,i,j)}),initial},Matrix.prototype.reduceRow=function(f,initial){var i;for(i=1;i<=this.nrow;i+=1)initial=f(initial,this.rowView(i),i);return initial},Matrix.prototype.reduceCol=function(f,initial){var j;for(j=1;j<=this.ncol;j+=1)initial=f(initial,this.colView(j),j);return initial},Matrix.prototype.map=function(f){return new(this.constr())(function(i,j){return f(this.get(i,j),i,j)}.bind(this),this)},Matrix.prototype.mapRow=function(f){var newRows=[];return this.eachRow(function(row,i){newRows.push(f(row,i))}),newRows[0]instanceof Matrix.Vector?new Matrix(newRows.map(function(row){return row.toArray()}),!0):Array.isArray(newRows[0])?new Matrix(newRows,!0):new Matrix.Vector(newRows)},Matrix.prototype.mapCol=function(f){var newCols=[];return this.eachCol(function(col,j){newCols.push(f(col,j))}),newCols[0]instanceof Matrix.Vector?new Matrix(newCols.map(function(col){return col.toArray()})):Array.isArray(newCols[0])?new Matrix(newCols):new Matrix.Vector(newCols)},Matrix.prototype.eachPair=function(other,f){var i,j;for(Matrix.ensureSameDims(this,other),i=1;i<=this.nrow;i+=1)for(j=1;j<=this.ncol;j+=1)f(this.get(i,j),other.get(i,j),i,j)},Matrix.prototype.reducePair=function(other,f,initial){var i,j;for(Matrix.ensureSameDims(this,other),i=1;i<=this.nrow;i+=1)for(j=1;j<=this.ncol;j+=1)initial=f(initial,this.get(i,j),other.get(i,j),i,j);return initial},Matrix.prototype.mapPair=function(other,f){return Matrix.ensureSameDims(this,other),new Matrix(function(i,j){return f(this.get(i,j),other.get(i,j),i,j)}.bind(this),this)},Matrix.prototype.any=function(pred){var i,j;for(i=1;i<=this.nrow;i+=1)for(j=1;j<=this.ncol;j+=1)if(pred(this.get(i,j),i,j))return!0;return!1},Matrix.prototype.all=function(pred){var i,j;for(i=1;i<=this.nrow;i+=1)for(j=1;j<=this.ncol;j+=1)if(!pred(this.get(i,j),i,j))return!1;return!0},Matrix.prototype.transpose=function(){return new Matrix(function(i,j){return this.get(j,i)}.bind(this),{nrow:this.ncol,ncol:this.nrow})},Matrix.prototype.lower=function(){return new Matrix.LowerTriM(this)},Matrix.prototype.upper=function(){return new Matrix.UpperTriM(this)},Matrix.prototype.isSymmetric=function(){return this.equals(this.transpose())},Matrix.prototype.isLower=function(){return this.equals(this.lower())},Matrix.prototype.isUpper=function(){return this.equals(this.upper())},Matrix.prototype.equals=function(m2,tolerance){var i;if(!Matrix.sameDims(this,m2))return!1;for(i=1;i<=this.nrow;i+=1)if(!this.rowView(i).equals(m2.rowView(i),tolerance))return!1;return!0},Matrix.sameDims=function(A,B){return A.nrow===B.nrow&&A.ncol===B.ncol},Matrix.ensureSameDims=function(A,B){if(!Matrix.sameDims(A,B))throw new Error("Expected matrices of same dimensions.")},Matrix.compatibleDims=function(A,B){return A instanceof Matrix.Vector?A.length===B.nrow:B instanceof Matrix.Vector?A.ncol===B.length:A.ncol===B.nrow},Matrix.prototype.validIndices=function(i,j){return i>=1&&i<=this.nrow&&j>=1&&j<=this.ncol},Matrix})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./matrix/dense":3,"./matrix/structured":6,"./matrix/view":16,"./matrix/viewmv":17,"./solver":19,"./utils":25,"./vector":26}],3:[function(require,module){!function(define){"use strict";define(function(require){return function(Matrix){function DenseM(arr,options){if(!Array.isArray(arr))return"function"==typeof arr?new DenseM.TabularM(arr,options):new DenseM.SparseM(arr,options);if(0===arr.length)throw new Error("Cannot create empty matrix yet.");if("boolean"==typeof options&&(options={byRow:options}),null==options&&(options={}),this.byRow=options.byRow===!0,Array.isArray(arr[0])&&(options[this.byRow?"nrow":"ncol"]=arr.length,arr=[].concat.apply([],arr)),this.values=new Matrix.Vector(arr),this.nrow=options.nrow||Math.floor(arr.length/options.ncol),this.ncol=options.ncol||Math.floor(arr.length/this.nrow),this.ncol*this.nrow!==this.values.length)throw new Error("Declared matrix dimensions invalid");return this}return DenseM.prototype=Object.create(Matrix.prototype),DenseM.SparseM=require("./dense/sparse")(Matrix,DenseM),DenseM.TabularM=require("./dense/tabular")(Matrix,DenseM),DenseM.prototype.each=function(f){var f2=function(val,n){return f(val,this.rowFromIndex(n),this.colFromIndex(n))}.bind(this);return this.values.each(f2,!0),this},DenseM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./dense/sparse":4,"./dense/tabular":5}],4:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,DenseM){function SparseM(arr,options){var i,j,values={};this.byRow=!0,this.nrow=options&&options.nrow,this.ncol=options&&options.ncol;for(i in arr)if(arr.hasOwnProperty(i)&&!isNaN(parseInt(i)))for(j in arr[i])arr[i].hasOwnProperty(j)&&!isNaN(parseInt(j))&&(values[this.toIndex(parseInt(i),parseInt(j))]=arr[i][j]);this.values=new Matrix.Vector(values,this.nrow*this.ncol)}return SparseM.prototype=Object.create(DenseM.prototype),SparseM.add=function(A,B,k){function addValue(val,i,j){0!==val&&(null==res[i]&&(res[i]={}),res[i][j]=(res[i][j]||0)+val)}var res;return res={},A.forEach(addValue),B.forEach(function(val,i,j){addValue(k*val,i,j)}),new SparseM(res,A)},SparseM.mult=function(A,B){function addValue(val,i,j){0!==val&&(null==res[i]&&(res[i]={}),res[i][j]=(res[i][j]||0)+val)}var res;return res={},A.forEach(function(Aval,i,k){Object.keys(B.values[k]||{}).forEach(function(j){addValue(Aval*B.values[k][j],i,j)})}),new SparseM(res,{nrow:A.nrow,ncol:B.ncol})},SparseM.prototype.classes=[SparseM,Matrix],SparseM.prototype.map=function(f){var newValues={};return this.each(function(val,i,j){newValues[i]=newValues[i]||{},newValues[i][j]=f(val,i,j)},!0),new Matrix(newValues,{nrow:this.nrow,ncol:this.ncol})},SparseM.prototype.transpose=function(){var newValues={};return this.each(function(val,i,j){newValues[j]=newValues[j]||{},newValues[j][i]=val},!0),new Matrix(newValues,{nrow:this.ncol,ncol:this.nrow})},SparseM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],5:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,DenseM){function TabularM(f,options){function f2(n){return f(this.rowFromIndex(n),this.colFromIndex(n))}this.byRow=!0,this.nrow=options&&options.nrow,this.ncol=options&&options.ncol,this.values=new Matrix.Vector(f2.bind(this),this.nrow*this.ncol)}return TabularM.prototype=Object.create(DenseM.prototype),TabularM.prototype.force=function(){return this.values.force(),this},TabularM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],6:[function(require,module){!function(define){"use strict";define(function(require){return function(Matrix){function StructuredM(){throw new Error("Not meant to call StructuredM")}return StructuredM.prototype=Object.create(Matrix.DenseM.prototype),StructuredM.LowerTriM=require("./structured/lowerTri")(Matrix,StructuredM),StructuredM.UpperTriM=require("./structured/upperTri")(Matrix,StructuredM),StructuredM.SymmetricM=require("./structured/symmetric")(Matrix,StructuredM),StructuredM.OuterM=require("./structured/outer")(Matrix,StructuredM),StructuredM.SumM=require("./structured/sum")(Matrix,StructuredM),StructuredM.ProdM=require("./structured/prod")(Matrix,StructuredM),StructuredM.DiagM=require("./structured/diag")(Matrix,StructuredM),StructuredM.CDiagM=require("./structured/cDiag")(Matrix,StructuredM),StructuredM.PermM=require("./structured/perm")(Matrix,StructuredM),StructuredM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./structured/cDiag":7,"./structured/diag":8,"./structured/lowerTri":9,"./structured/outer":10,"./structured/perm":11,"./structured/prod":12,"./structured/sum":13,"./structured/symmetric":14,"./structured/upperTri":15}],7:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function CDiagM(val,nrow){if(nrow=nrow&&nrow.nrow||nrow,null==nrow)throw new Error("Must specify matrix dimensions");this.val=val,this.byRow=!1,this.nrow=nrow,this.ncol=nrow}return CDiagM.prototype=Object.create(StructuredM.DiagM.prototype),CDiagM.add=function(A,B,k){return new CDiagM(A.val+k*B.val,A)},CDiagM.prototype.classes=[CDiagM,StructuredM.DiagM,StructuredM.LowerTriM,StructuredM.UpperTriM,StructuredM.SymmetricM,Matrix],CDiagM.prototype.mutable=function(newSetting){if(null==newSetting)return!1;throw new Error("Cannot set constant to be mutable")},CDiagM.prototype.change=function(){throw new Error("Trying to set entry in constant matrix")},CDiagM.prototype.compute=function(i,j){return i===j?this.val:0},CDiagM.prototype.constr=function(){return StructuredM.DiagM},CDiagM.prototype.each=function(f){var i;for(i=1;i<=this.nrow;i+=1)f(this.val,i,i);return this},CDiagM.prototype.inverse=function(){if(0===this.val)throw new Error("Cannot invert zero matrix.");return new CDiagM(1/this.val,this)},CDiagM.prototype.sMult=function(k){return new CDiagM(k*this.val,this)},CDiagM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],8:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function DiagM(diagonal,nrow){diagonal instanceof Matrix.Vector||("function"==typeof diagonal&&(diagonal=function(i){return this(i,i)}.bind(diagonal)),diagonal=new Matrix.Vector(diagonal,nrow&&nrow.nrow||nrow)),this.byRow=!1,this.values=diagonal,this.nrow=this.values.length,this.ncol=this.values.length}return DiagM.prototype=Object.create(StructuredM.prototype),DiagM.prototype.classes=[DiagM,StructuredM.LowerTriM,StructuredM.UpperTriM,StructuredM.SymmetricM,Matrix],DiagM.prototype.validate=function(i,j,val){if(i===j)return!0;if(arguments.length>2&&0!==val)throw new Error("Trying to set non-diagonal entry in diagonal matrix");return!1},DiagM.prototype.toIndex=function(i){return i},DiagM.prototype.rowFromIndex=function(n){return n},DiagM.prototype.colFromIndex=function(n){return n},DiagM.prototype.constr=function(){return DiagM},DiagM.prototype.transpose=function(){return this},DiagM.prototype.isSymmetric=DiagM.prototype.isLower=DiagM.prototype.isUpper=function(){return!0},DiagM.prototype.inverse=function(){return Matrix.diag(Matrix.prototype.inverse.call(this).diagView())},DiagM.prototype.lMult=function(B){return B.map(function(val,i,j){return val*this.get(j,j)}.bind(this))},DiagM.prototype.rMult=function(B){return B.map(function(val,i){return val*this.get(i,i)}.bind(this))},DiagM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],9:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function LowerTriM(values,nrow){var getValue;return values instanceof LowerTriM?values:(this.byRow=!0,this.nrow=nrow&&nrow.nrow||nrow,values instanceof Matrix?(this.nrow=Math.min(values.nrow,values.ncol),getValue=values._get.bind(values)):getValue="function"==typeof values?values:function(){return values},this.ncol=this.nrow,this.values=new Matrix.Vector(function(n){return getValue(this.rowFromIndex(n),this.colFromIndex(n))}.bind(this),this.toIndex(this.nrow,this.ncol)),void 0)}return LowerTriM.prototype=Object.create(StructuredM.prototype),LowerTriM.prototype.classes=[LowerTriM,Matrix],LowerTriM.prototype.toIndex=function(i,j){return i*(i-1)/2+j},LowerTriM.prototype.rowFromIndex=function(n){return Math.floor((1+Math.sqrt(1+8*(n-1)))/2)},LowerTriM.prototype.colFromIndex=function(n){var i=Math.floor((1+Math.sqrt(1+8*(n-1)))/2);return n-i*(i-1)/2},LowerTriM.prototype.validate=function(i,j,val){if(i>=j)return!0;if(arguments.length>2&&0!==val)throw new Error("Trying to set upper entry in Lower triangular matrix");return!1},LowerTriM.prototype.constr=function(){return LowerTriM},LowerTriM.prototype.transpose=function(){return new StructuredM.UpperTriM(function(i,j){return this.get(j,i)}.bind(this),{nrow:this.ncol,ncol:this.nrow})},LowerTriM.prototype.inverse=function(){return Matrix.prototype.inverse.call(this).lower()},LowerTriM.prototype.isLower=function(){return!0},LowerTriM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],10:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function OuterM(v1,v2){this.v1=new Matrix.Vector(v1),this.v2=new Matrix.Vector(v2),this.byRow=!1,this.nrow=this.v1.length,this.ncol=this.v2.length}return OuterM.prototype=Object.create(StructuredM.prototype),OuterM.prototype.classes=[OuterM,Matrix],OuterM.prototype.mutable=function(newSetting){if(null==newSetting)return!1;throw new Error("Cannot set outer product matrix to be mutable")},OuterM.prototype.change=function(){throw new Error("Trying to set entry in outer product matrix")},OuterM.prototype.compute=function(i,j){return this.v1.get(i)*this.v2.get(j)},OuterM.prototype.constr=function(){return Matrix},OuterM.prototype.lvMult=function(v){return this.v2.sMult(v.dot(this.v1))},OuterM.prototype.rvMult=function(v){return this.v1.sMult(v.dot(this.v2))},OuterM.prototype.lMult=function(m){return new OuterM(m.mult(this.v1),this.v2)},OuterM.prototype.rMult=function(m){return new OuterM(this.v1,this.v2.mult(m))},OuterM.prototype.sMult=function(k){return new OuterM(this.v1.sMult(k),this.v2)},OuterM.prototype.transpose=function(){return new OuterM(this.v2,this.v1)},OuterM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],11:[function(require,module){!function(define){"use strict";define(function(require){var Permutation=require("./../../permutation.js");return function(Matrix,StructuredM){function PermM(perm,nrow){this.perm=new Permutation(perm),this.invPerm=this.perm.inverse(),this.nrow=nrow&&nrow.nrow||nrow,this.ncol=this.nrow,this.byRow=!1}function ident(i){return i}function sparsify(m){var obj,i;for(obj={},i=1;i<=m.nrow;i+=1)obj[m.perm.get(i)]={},obj[m.perm.get(i)][i]=1;return new Matrix.SparseM(obj,m)}return PermM.mult=function(A,B){return new PermM(B.perm.compose(A.perm),A)},PermM.prototype=Object.create(StructuredM.prototype),PermM.prototype.classes=[PermM,StructuredM,Matrix],PermM.prototype.mutable=function(newSetting){if(null==newSetting)return!1;throw new Error("Cannot set permutation matrix to be mutable")},PermM.prototype.change=function(){throw new Error("Trying to set entry in permutation matrix")},PermM.prototype.compute=function(i,j){return i===this.perm.get(j)?1:0},PermM.prototype.constr=function(){return Matrix},PermM.prototype.lvMult=function(v){return v.permute(this.invPerm)},PermM.prototype.rvMult=function(v){return v.permute(this.perm)},PermM.prototype.lMult=function(m){return m.isA(PermM)?PermM.mult(m,this):m.view(ident,this.perm.get.bind(this.perm),m)},PermM.prototype.rMult=function(m){return m.isA(PermM)?PermM.mult(this,m):m.view(this.invPerm.get.bind(this.invPerm),ident,m)},PermM.prototype.sMult=function(k){return sparsify(this).sMult(k)},PermM.prototype.map=function(f){return sparsify(this).map(f)},PermM.prototype.each=function(f){return sparsify(this).each(f),this},PermM.prototype.inverse=PermM.prototype.transpose=function(){return new PermM(this.invPerm,this)},PermM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../../permutation.js":18}],12:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function ProdM(A,B){if(!Matrix.compatibleDims(A,B))throw new Error("Cannot multiply matrices/vectors with incompatible dimensions.");return computeProd(A,B)}function computeProd(A,B){var Constr,rowsA,colsB;return A instanceof Matrix.Vector?B.lvMult(A):B instanceof Matrix.Vector?A.rvMult(B):A.isA(Matrix.PermM)?A.rMult(B):B.isA(Matrix.PermM)?B.lMult(A):A.isA(Matrix.SparseM)&&B.isA(Matrix.SparseM)?Matrix.SparseM.mult(A,B):A.isA(Matrix.CDiagM)?B.sMult(A.val):B.isA(Matrix.CDiagM)?A.sMult(B.val):A.isA(Matrix.DiagM)||A.isA(Matrix.OuterM)?A.rMult(B):B.isA(Matrix.DiagM)||B.isA(Matrix.OuterM)?B.lMult(A):A.isA(Matrix.UpperTriM)&&B.isA(Matrix.LowerTriM)?Matrix.diag(function(i){return A.rowView(i).dot(B.colView(i))},A):(Constr=Matrix.commonConstr(A,B),Constr===Matrix.SymmetricM&&(Constr=Matrix),rowsA=A.rows(),colsB=B.cols(),new Constr(function(i,j){return rowsA[i-1].dot(colsB[j-1])},{nrow:A.nrow,ncol:B.ncol}))}return ProdM.prototype=Object.create(StructuredM.prototype),ProdM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],13:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function SumM(A,B,k){return null==k&&(k=1),Matrix.ensureSameDims(A,B),computeSum(A,B,k)}function computeSum(A,B,k){return A.isA(Matrix.SparseM)&&B.isA(Matrix.SparseM)?Matrix.SparseM.add(A,B,k):A.isA(Matrix.CDiagM)&&B.isA(Matrix.CDiagM)?Matrix.CDiagM.add(A,B,k):new(Matrix.commonConstr(A,B))(function(i,j){return A.get(i,j)+k*B.get(i,j)},A)}return SumM.prototype=Object.create(StructuredM.prototype),SumM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],14:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function SymmetricM(values,nrow){var getValue;return values instanceof SymmetricM?values:(this.byRow=!0,this.nrow=nrow&&nrow.nrow||nrow,values instanceof Matrix?(this.nrow=Math.min(values.nrow,values.ncol),getValue=values._get.bind(values)):getValue="function"==typeof values?values:function(){return values},this.ncol=this.nrow,this.values=new Matrix.Vector(function(n){return getValue(this.rowFromIndex(n),this.colFromIndex(n))}.bind(this),this.toIndex(this.nrow,this.ncol)),void 0)}return SymmetricM.prototype=Object.create(StructuredM.prototype),SymmetricM.prototype.classes=[SymmetricM,Matrix],SymmetricM.prototype.toIndex=function(i,j){return j>i?j*(j-1)/2+i:i*(i-1)/2+j},SymmetricM.prototype.rowFromIndex=function(n){return Math.floor((1+Math.sqrt(1+8*(n-1)))/2)},SymmetricM.prototype.colFromIndex=function(n){var i=Math.floor((1+Math.sqrt(1+8*(n-1)))/2);return n-i*(i-1)/2},SymmetricM.prototype.constr=function(){return Matrix},SymmetricM.prototype.transpose=function(){return this},SymmetricM.prototype.isSymmetric=function(){return!0},SymmetricM.prototype.inverse=function(){return new SymmetricM(Matrix.prototype.inverse.call(this))},SymmetricM.prototype.sMult=function(k){return new SymmetricM(function(i,j){return k*this.get(i,j)}.bind(this),this)},SymmetricM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],15:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix,StructuredM){function UpperTriM(values,ncol){var getValue;return values instanceof UpperTriM?values:(this.byRow=!1,this.nrow=ncol&&ncol.ncol||ncol,values instanceof Matrix?(this.nrow=Math.min(values.nrow,values.ncol),getValue=values._get.bind(values)):getValue="function"==typeof values?values:function(){return values},this.ncol=this.nrow,this.values=new Matrix.Vector(function(n){return getValue(this.rowFromIndex(n),this.colFromIndex(n))}.bind(this),this.toIndex(this.nrow,this.ncol)),void 0)}return UpperTriM.prototype=Object.create(StructuredM.prototype),UpperTriM.prototype.classes=[UpperTriM,Matrix],UpperTriM.prototype.toIndex=function(i,j){return j*(j-1)/2+i},UpperTriM.prototype.rowFromIndex=function(n){var j=Math.floor((1+Math.sqrt(1+8*(n-1)))/2);return n-j*(j-1)/2},UpperTriM.prototype.colFromIndex=function(n){return Math.floor((1+Math.sqrt(1+8*(n-1)))/2)},UpperTriM.prototype.constr=function(){return UpperTriM},UpperTriM.prototype.validate=function(i,j,val){if(j>=i)return!0;if(arguments.length>2&&0!==val)throw new Error("Trying to set lower entry in Upper triangular matrix");return!1},UpperTriM.prototype.transpose=function(){return new StructuredM.LowerTriM(function(i,j){return this.get(j,i)}.bind(this),{nrow:this.ncol,ncol:this.nrow})},UpperTriM.prototype.inverse=function(){return Matrix.prototype.inverse.call(this).upper()},UpperTriM.prototype.isUpper=function(){return!0},UpperTriM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],16:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix){function ViewM(target,rowIndex,colIndex,dims){function lookup(indices){return"function"==typeof indices?indices:Array.isArray(indices)?function(i){return indices[i-1]}:function(){return indices}}return this.target=target,this.i=lookup(rowIndex),this.j=lookup(colIndex),this.nrow=Array.isArray(rowIndex)?rowIndex.length:dims.nrow,this.ncol=Array.isArray(colIndex)?colIndex.length:dims.ncol,this.byRow=!1,this}return ViewM.prototype=Object.create(Matrix.prototype),ViewM.prototype.compute=function(i,j){return this.target._get(this.i(i),this.j(j))},ViewM.prototype.change=function(i,j,val){return this.target._set(this.i(i),this.j(j),val),this},ViewM.prototype.mutable=function(newSetting){return null!=newSetting?(this.target.mutable(newSetting),this):this.target.mutable()},ViewM}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],17:[function(require,module){!function(define){"use strict";define(function(){return function(Matrix){function ViewMV(target,index,direction){var jEnd;if(null==direction)throw new Error("`direction` is a required argument");if(this.direction=direction,this.target=target,this.index=index,"row"===this.direction){if(1>index||index>target.nrow)throw new Error("Row index out of bounds");this.length=target.ncol}else if("col"===this.direction){if(1>index||index>target.ncol)throw new Error("Column index out of bounds");this.length=target.nrow}else if(this.iOffset=Math.max(-index,0),this.jOffset=Math.max(index,0),jEnd=Math.min(target.ncol,target.nrow+index),this.length=jEnd-this.jOffset,this.length<=0)throw new Error("Diagonal offset out of bounds");return this}return ViewMV.prototype=Object.create(Matrix.Vector.ViewV.prototype),ViewMV.prototype.compute=function(i){return"row"===this.direction?this.target._get(this.index,i):"col"===this.direction?this.target._get(i,this.index):this.target._get(i+this.iOffset,i+this.jOffset)},ViewMV.prototype.change=function(i,val){return"row"===this.direction?this.target._set(this.index,i,val):"col"===this.direction?this.target._set(i,this.index,val):this.target._set(i+this.iOffset,i+this.jOffset,val),this},ViewMV}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],18:[function(require,module){!function(define){"use strict";define(function(){function Permutation(relation){return relation instanceof Permutation?relation:!this instanceof Permutation?new Permutation(relation):(this.nonfixed=Permutation.cycleToObject(relation||{}),void 0)}function convert(cycle){var result,i;for(result={},i=0;i<cycle.length;i+=1)result[cycle[i]]=cycle[(i+1)%cycle.length];return result}function _compose(first,second){var keys,result;return result={},keys=Object.keys(first).concat(Object.keys(second)),keys.forEach(function(key){var value;key=parseInt(key),value=first[key]||key,value=second[value]||value,value!==key&&(result[key]=value)}),result}return Permutation.prototype=Object.create({}),Permutation.prototype.get=function(i){if(1>i)throw new Error("Permutations require positive arguments.");return this.nonfixed[i]||i},Permutation.prototype.compose=function(other){return other=other instanceof Permutation?other.nonfixed:Permutation.cycleToObject(other),new Permutation(_compose(this.nonfixed,other))
},Permutation.prototype.inverse=function(){var newNonfixed,oldNonfixed;return oldNonfixed=this.nonfixed,newNonfixed={},Object.keys(oldNonfixed).forEach(function(key){newNonfixed[oldNonfixed[key]]=parseInt(key)}),new Permutation(newNonfixed)},Permutation.prototype.toCycles=function(){var cycles,cycle,visited,start,key,relation;cycles=[],visited={},relation=this.nonfixed;for(key in relation)if(relation.hasOwnProperty(key)&&!visited[key]){for(start=parseInt(key),cycle=[start],visited[key]=!0;relation[key]!==start;)key=relation[key],visited[key]=!0,cycle.push(key);cycles.push(cycle)}return cycles},Permutation.cycleToObject=function(cycles){var result;return Array.isArray(cycles)?(cycles=Array.isArray(cycles[0])?cycles:[cycles],result={},cycles.forEach(function(cycle){result=_compose(result,convert(cycle))}),result):cycles},Permutation})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],19:[function(require,module){!function(define){"use strict";define(function(require){return function(Matrix){function Solver(A){var ret;return A.isUpper()?A.isLower()?new Solver.DiagS(A.diagView()):new Solver.UpperS(A):A.isLower()?new Solver.LowerS(A):A.isSymmetric()&&(ret=new Solver.CholeskyS(A),!ret.isSingular())?ret:new Solver.PLUS(A)}var Vector;return Vector=Matrix.Vector,Solver.Matrix=Matrix,Solver.prototype=Object.create({}),Solver.DiagS=require("./solver/diag")(Solver),Solver.LowerS=require("./solver/lower")(Solver),Solver.UpperS=require("./solver/upper")(Solver),Solver.PLUS=require("./solver/plu")(Solver),Solver.CholeskyS=require("./solver/cholesky")(Solver),Solver.prototype.solve=function(b){return this.ensureCompatibleDims(b),b instanceof Vector?this._solve(b):new Matrix(b.mapCol(this._solve.bind(this)))},Solver.prototype.isSingular=function(){return!1},Solver.prototype.ensureCompatibleDims=function(b){if(this.nrow!==(b instanceof Vector?b.length:b.nrow))throw new Error("Solver and RHS have incompatible dimensions.")},Solver}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./solver/cholesky":20,"./solver/diag":21,"./solver/lower":22,"./solver/plu":23,"./solver/upper":24}],20:[function(require,module){!function(define){"use strict";define(function(){return function(Solver){function CholeskyS(A){this.A=A,computeCholesky.call(this),this.nrow=A.nrow}function computeCholesky(){var G,i,j,k,val;for(G=this.A.lower().mutable(!0),j=1;j<=G.ncol;j+=1){for(k=1;j>k;k+=1)for(i=j;i<=G.nrow;i+=1)G.set(i,j,G.get(i,j)-G.get(j,k)*G.get(i,k));for(val=Math.sqrt(G.get(j,j)),i=j;i<=G.nrow;i+=1)G.set(i,j,G.get(i,j)/val)}this.G=new Solver.LowerS(G),this.GT=new Solver.UpperS(G.transpose())}return CholeskyS.prototype=Object.create(Solver.prototype),CholeskyS.prototype._solve=function(b){return this.GT.solve(this.G.solve(b))},CholeskyS.prototype.isSingular=function(){return this.G.isSingular()},CholeskyS}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],21:[function(require,module){!function(define){"use strict";define(function(){return function(Solver){function DiagS(diag){this.diag=new Vector(diag),this.nrow=this.diag.length}var Vector,Matrix;return Matrix=Solver.Matrix,Vector=Matrix.Vector,DiagS.prototype=Object.create(Solver.prototype),DiagS.prototype._solve=function(b){return b.pDiv(this.diag)},DiagS.prototype.isSingular=function(){return this.diag.any(function(x){return 0===x})},DiagS}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],22:[function(require,module){!function(define){"use strict";define(function(require){return function(Solver){function LowerS(A){this.A=new Matrix.LowerTriM(A),this.nrow=this.A.nrow}var Vector,Matrix,utils;return utils=require("./../utils"),Matrix=Solver.Matrix,Vector=Matrix.Vector,LowerS.prototype=Object.create(Solver.prototype),LowerS.prototype._solve=function(b){var x,i,j,v;for(x=[],i=1;i<=this.nrow;i+=1){for(v=b.get(i),j=1;i>j;j+=1)v-=this.A.get(i,j)*x[j-1];x.push(v/this.A.get(i,i))}return new Vector(x)},LowerS.prototype.isSingular=function(){return this.A.diagView().any(function(x){return isNaN(x)||utils.veryClose(x,0,Vector.tolerance)})},LowerS}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../utils":25}],23:[function(require,module){!function(define){"use strict";define(function(require){return function(Solver){function PLUS(A,strategy){this.A=A,this.strategy=strategy||"partial",computePLU.call(this),this.nrow=A.nrow}function computePLU(){function getPivot(A,k){var max,maxRow,r;for(max=-1/0,r=k;r<=A.nrow;r+=1)Math.abs(A.get(r,k))>max&&(max=Math.abs(A.get(r,k)),maxRow=r);return maxRow}function lowerLookup(i,j){return i===j?1:A.get(i,j)}var A,origA,i,j,k,pivot;for(A=origA=this.A.clone(!1).mutable(!0),this.P=Matrix.perm({},A.nrow),k=1;k<=A.ncol;k+=1)if(pivot=getPivot(A,k),!utils.veryClose(A.get(pivot,k),0,Matrix.Vector.tolerance))for(pivot!==k&&(this.P=Matrix.perm([pivot,k],A.nrow).mult(this.P),A=this.P.mult(origA)),i=k+1;i<=A.nrow;i+=1)for(A.set(i,k,A.get(i,k)/A.get(k,k)),j=k+1;j<=A.ncol;j+=1)A.set(i,j,A.get(i,j)-A.get(i,k)*A.get(k,j));this.U=new Solver.UpperS(A.mutable(!1).upper()),this.L=new Solver.LowerS(new Matrix.LowerTriM(lowerLookup,A.nrow))}var Matrix,utils;return utils=require("./../utils"),Matrix=Solver.Matrix,PLUS.prototype=Object.create(Solver.prototype),PLUS.prototype._solve=function(b){return this.U.solve(this.L.solve(this.P.mult(b)))},PLUS.prototype.isSingular=function(){return this.U.isSingular()},PLUS}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../utils":25}],24:[function(require,module){!function(define){"use strict";define(function(require){return function(Solver){function UpperS(A){this.A=new Matrix.UpperTriM(A),this.nrow=this.A.nrow}var Vector,Matrix,utils;return utils=require("./../utils"),Matrix=Solver.Matrix,Vector=Matrix.Vector,UpperS.prototype=Object.create(Solver.prototype),UpperS.prototype._solve=function(b){var x,i,j,v;for(x=[],i=this.nrow;i>=1;i-=1){for(v=b.get(i),j=this.nrow;j>i;j-=1)v-=this.A.get(i,j)*x[j-1];x[i-1]=v/this.A.get(i,i)}return new Vector(x)},UpperS.prototype.isSingular=function(){return this.A.diagView().any(function(x){return isNaN(x)||utils.veryClose(x,0,Vector.tolerance)})},UpperS}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../utils":25}],25:[function(require,module){!function(define){"use strict";define(function(){var utils={};return utils.veryClose=function(a,b,tol){return Math.abs(a-b)<tol},utils.op={},utils.op.add=function(a,b){return a+b},utils.op["+"]=utils.op.add,utils.op.sub=function(a,b){return a-b},utils.op["-"]=utils.op.sub,utils.op.mult=function(a,b){return a*b},utils.op["*"]=utils.op.mult,utils.op.div=function(a,b){return a/b},utils.op["/"]=utils.op.div,utils})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],26:[function(require,module){!function(define){"use strict";define(function(require){function Vector(arr,len){return arr instanceof Vector?arr:Array.isArray(arr)?new Vector.DenseV(arr):"function"==typeof arr?new Vector.TabularV(arr,len):"number"==typeof arr?new Vector.TabularV(function(){return arr},len):new Vector.SparseV(arr,len)}function swap(f){return function(b,a,i){return f(a,b,i)}}var utils,op,Permutation;return Permutation=require("./permutation.js"),utils=require("./utils"),op=utils.op,Vector.tolerance=1e-8,Vector.DenseV=require("./vector/dense")(Vector),Vector.SparseV=require("./vector/sparse")(Vector),Vector.TabularV=require("./vector/tabular")(Vector),Vector.ConstV=require("./vector/const")(Vector),Vector.ViewV=require("./vector/view")(Vector),Vector.seq=function(a,b,step){var length;return 0===arguments.length?new Vector([]):(1===arguments.length&&(b=a,a=1,step=1,length=b),b===a?new Vector([a]):(step=step||(b>a?1:-1),length=Math.floor((b-a)/step)+1,new Vector(function(i){return a+(i-1)*step},length)))},Vector.const=function(val,len){return new Vector.ConstV(val,len)},Vector.ones=function(len){return Vector.const(1,len)},Vector.concat=function(vectors){return vectors=Array.prototype.concat.apply([],Array.prototype.map.call(arguments,function(vector){return vector instanceof Vector?vector.get():Array.isArray(vector)?vector:[vector]})),new Vector(vectors)},Vector.prototype.get=function(i){return null==i?this.toArray():(i instanceof Vector&&(i=i.get()),Array.isArray(i)?this.view(i).toArray():this._get(i))},Vector.prototype._get=function(i){return 1>i||i>this.length?null:(this.values||(this.values=[]),this.cached||null!=this.values[i-1]||(this.values[i-1]=this.compute(i)),this.values[i-1])},Vector.prototype.compute=function(){throw new Error("Subclasses of Vector need to implement compute: "+this.constructor.name)},Vector.prototype.set=function(i,vals){function changeAll(target,vals){function makeLookup(vals){if("function"==typeof vals)return vals;if(Array.isArray(vals)&&(vals=new Vector(vals)),vals instanceof Vector){if(!target.sameLength(vals))throw new Error("Incompatible vector lengths");return vals.get.bind(vals)}return function(){return vals}}var ind;for(vals=makeLookup(vals),ind=1;ind<=target.length;ind+=1)target._set(ind,vals(ind))}return 1===arguments.length?changeAll(this,i):Array.isArray(i)?changeAll(this.view(i),vals):this._set(i,vals),this},Vector.prototype._set=function(i,val){if(!this.mutable())throw new Error("Trying to set in an immutable vector.");if(1>i||i>this.length)throw new Error("Trying to set value out of bounds");return this.change(i,val),this},Vector.prototype.change=function(){throw new Error("Subclasses of Vector need to implement change: "+this.constructor.name)},Vector.prototype.mutable=function(isMutable){return this.hasOwnProperty("_mutable")||(this._mutable=!1),null!=isMutable?(this._mutable=isMutable===!0,this):this._mutable},Vector.prototype.force=function(){return this},Vector.prototype.view=function(arr,len){return new Vector.ViewV(this,arr,len)},Vector.prototype.fill=function(val,start,end){var i;if(start&&null!=start.forEach)start.forEach(function(ind){this._set(ind,val)}.bind(this));else for((null==end||end>this.length)&&(end=this.length),(null==start||1>start)&&(start=1),i=start;end>=i;i+=1)this._set(i,val);return this},Vector.prototype.rep=function(times){var arr,values;if(arr=[],values=this.toArray(),times instanceof Vector&&(times=times.toArray()),Array.isArray(times)){if(!this.sameLength(times))throw new Error('Incorrect "times" length.');return times.forEach(function(nTimes,i){for(nTimes=Math.floor(nTimes);nTimes>0;)arr.push(values[i]),nTimes-=1}),new Vector(arr)}return null!=times.length?this.resize(Math.floor(times.length),!0):null!=times.each?(times.each=Math.floor(times.each),new Vector(function(i){return values[Math.floor((i-1)/times.each)]},times.each*this.length)):this.resize(Math.floor(times)*this.length,!0)},Vector.prototype.concat=function(vectors){return vectors=Array.prototype.slice.call(arguments),vectors.unshift(this),Vector.concat.apply(null,vectors)},Vector.prototype.resize=function(length,fill){var arr,i,f;for(arr=this.toArray().slice(0,length),f="function"==typeof fill?fill:fill?function(i){return arr[(i-1)%this.length]}:function(){return 0},i=this.length+1;length>=i;i+=1)arr.push(f.call(this,i));return new Vector(arr).mutable(this.mutable())},Vector.prototype.permute=function(perm){var invPerm;return invPerm=new Permutation(perm).inverse(),this.view(invPerm.get.bind(invPerm),this.length)},Vector.prototype.each=function(){throw new Error("Subclasses of Vector need to implement each: "+this.constructor.name)},Vector.prototype.forEach=function(){return this.each.apply(this,[].slice.call(arguments))},Vector.prototype.eachPair=function(v2,f,skipZeros){if(!this.sameLength(v2))throw new Error("Vector#eachPair: vectors should be same length");return v2.isSparse()?(v2.eachPair(this,swap(f),skipZeros),this):(this.each(function(val,i){f(val,v2._get(i),i)}),this)},Vector.prototype.reduce=function(f,initial,skipZeros){return initial=initial||0,this.each(function(val,i){initial=f(initial,val,i)},skipZeros),initial},Vector.prototype.reducePair=function(v2,f,initial,skipZeros){return initial=initial||0,this.eachPair(v2,function(val1,val2,i){initial=f(initial,val1,val2,i)},skipZeros),initial},Vector.prototype.foldl=Vector.prototype.reduce,Vector.prototype.map=function(f){var f2=function(i){return f(this._get(i),i)}.bind(this);return new Vector(f2,this.length)},Vector.prototype.mapPair=function(v2,f,skipZeros){if(!this.sameLength(v2))throw new Error("Vector.mapPair: vectors should be same length");return skipZeros&&v2.isSparse()?v2.mapPair(this,swap(f),skipZeros):new Vector(function(i){return f(this._get(i),v2._get(i),i)}.bind(this),this.length)},Vector.prototype.any=function(pred){var i;for(i=1;i<=this.length;i+=1)if(pred(this.get(i),i))return!0;return!1},Vector.prototype.all=function(pred){var i;for(i=1;i<=this.length;i+=1)if(!pred(this.get(i),i))return!1;return!0},Vector.prototype.norm=function(p){var res;return null==p&&(p=2),1/0===p?this.reduce(function(acc,val){return Math.max(acc,Math.abs(val))},0,!0):(res=this.reduce(function(acc,val){return acc+Math.pow(Math.abs(val),p)},0,!0),Math.pow(res,1/p))},Vector.prototype.dot=function(v){return this.reducePair(v,function(acc,val1,val2){return acc+val1*val2},0,!0)},Vector.prototype.toArray=function(){if(this.cached)return this.values.slice();var arr=[];return this.each(function(val){arr.push(val)}),arr},Vector.prototype.clone=function(){return new Vector(this.toArray())},Vector.prototype.equals=function(v2,tolerance){var i;if(tolerance=tolerance||Vector.tolerance,!this.sameLength(v2))return!1;for(i=1;i<=this.length;i+=1)if(!utils.veryClose(this.get(i),v2.get(i),tolerance))return!1;return!0},Vector.prototype.pAdd=function(v){return this.mapPair(v,op.add,!1)},Vector.prototype.pSub=function(v){return this.mapPair(v,op.sub,!1)},Vector.prototype.sMult=function(a){return this.map(function(val){return a*val},!0)},Vector.prototype.pMult=function(v){return this.mapPair(v,op.mult,!0)},Vector.prototype.pDiv=function(v){return this.mapPair(v,op.div,!1)},Vector.prototype.pPow=function(n){return this.map(function(val){return Math.pow(val,n)},n>0)},Vector.prototype.order=function(desc){var f;return"function"!=typeof desc&&(desc=desc===!0?function(a,b){return isNaN(b)?-1:isNaN(a)?1:a>b?-1:a===b?0:1}:function(a,b){return isNaN(b)?-1:isNaN(a)?1:b>a?-1:a===b?0:1}),f=function(i,j){return desc(this.get(i),this.get(j))}.bind(this),new Vector(Vector.seq(this.length).toArray().sort(f))},Vector.prototype.sort=function(desc){return this.view(this.order(desc).toArray())},Vector.prototype.diff=function(){return new Vector(function(i){return this._get(i+1)-this._get(i)}.bind(this),this.length-1)},Vector.prototype.cumulative=function(f,initial){var arr=[];return this.reduce(function(acc,val,i){return acc=f(acc,val,i),arr.push(acc),acc},initial||0,!1),new Vector(arr)},Vector.prototype.cumSum=function(){return this.cumulative(op.add,0)},Vector.prototype.cumProd=function(){return this.cumulative(op.mult,1)},Vector.prototype.cumMin=function(){return this.cumulative(function(a,b){return Math.min(a,b)},1/0)},Vector.prototype.cumMax=function(){return this.cumulative(function(a,b){return Math.max(a,b)},-1/0)},Vector.prototype.isSparse=function(){return!1},Vector.prototype.sameLength=function(other){return this.length===other.length},Vector})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./permutation.js":18,"./utils":25,"./vector/const":27,"./vector/dense":28,"./vector/sparse":29,"./vector/tabular":30,"./vector/view":31}],27:[function(require,module){!function(define){"use strict";define(function(){return function(Vector){function ConstV(val,len){this.val=val,this.length=len,this.cached=!1}return ConstV.prototype=Object.create(Vector.prototype),ConstV.prototype._get=function(i){return 1>i||i>this.length?null:this.val},ConstV.prototype.mutable=function(newSetting){if(null==newSetting)return!1;throw new Error("Cannot set a constant to be mutable")},ConstV.prototype.each=function(f){var i;for(i=1;i<=this.length;i+=1)f(this.val,i);return this},ConstV}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],28:[function(require,module){!function(define){"use strict";define(function(){return function(Vector){function DenseV(arr){this.values=arr,this.length=arr.length,this.cached=!0}return DenseV.prototype=Object.create(Vector.prototype),DenseV.prototype.change=function(i,val){return this.values||(this.values=[]),this.values[i-1]=val,this},DenseV.prototype.each=function(f){return this.force(),(this.values||[]).forEach(function(val,i){f(val,i+1)}),this},DenseV}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],29:[function(require,module){!function(define){"use strict";define(function(){return function(Vector){function SparseV(arr,len){this._values=arr,this.length=len,this.cached=!1}return SparseV.prototype=Object.create(Vector.prototype),SparseV.prototype._get=function(i){return 1>i||i>this.length?null:this._values.hasOwnProperty(i)?this._values[i]:0},SparseV.prototype.change=function(i,val){return this._values[i]=val,this},SparseV.prototype.each=function(f,skipZeros){var i,vals;if(vals=this._values,skipZeros)Object.keys(vals).forEach(function(i){f(vals[i],parseInt(i))});else for(i=1;i<=this.length;i+=1)f(this._get(i),i);return this},SparseV.prototype.eachPair=function(v2,f,skipZeros){var i,vals;if(!this.sameLength(v2))throw new Error("SparseV#eachPair: vectors should be same length");if(vals=this._values,skipZeros)Object.keys(vals).forEach(function(i){f(vals[i],v2._get(parseInt(i)),parseInt(i))});else for(i=1;i<=this.length;i+=1)f(this._get(i),v2._get(i),i);return Vector},SparseV.prototype.map=function(f,skipZeros){if(!skipZeros)return Vector.prototype.map.call(this,f);var newValues={};return this.each(function(val,i){newValues[i]=f(val,i)},!0),new Vector(newValues,this.length)},SparseV.prototype.mapPair=function(v2,f,skipZeros){if(!this.sameLength(v2))throw new Error("Vector.mapPair: vectors should be same length");var newValues={};return skipZeros||v2.isSparse()?(this.eachPair(v2,function(val1,val2,i){newValues[i]=f(val1,val2,i)},!0),new Vector(newValues,this.length)):new Vector(function(i){return f(this._get(i),v2._get(i),i)}.bind(this),this.length)},SparseV.prototype.clone=function(){var values={},oldValues=this._values;return Object.keys(oldValues).forEach(function(k){values[k]=oldValues[k]}),new Vector(values,this.length)},SparseV.prototype.resize=function(length,fill){function fillMore(fill){for(key=this.length+1;length>=key;key+=1)val=fill.call(this,key),0!==val&&(obj[key]=val)}var obj,key,val,values;obj={},values=this._values;for(key in values)values.hasOwnProperty(key)&&parseInt(key)<=length&&(obj[key]=values[key]);return"function"==typeof fill?fillMore.call(this,fill):fill===!0&&fillMore.call(this,function(key){return this.get((key-1)%this.length+1)}),new Vector(obj,length)},SparseV.prototype.isSparse=function(){return!0},SparseV}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],30:[function(require,module){!function(define){"use strict";define(function(){return function(Vector){function TabularV(f,len){this.f=f,this.length=len,this.cached=!1}function fmoot(){throw new Error("Should not call the function of a cached tabular object")}return TabularV.prototype=Object.create(Vector.DenseV.prototype),TabularV.each=function(v,f){return v.force().each(f),Vector},TabularV.prototype.compute=function(i){return this.f(i)},TabularV.prototype.force=function(){var i;if(!this.cached){for(i=1;i<=this.length;i+=1)this._get(i);this.cached=!0,this.f=fmoot}return this},TabularV}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],31:[function(require,module){!function(define){"use strict";define(function(){return function(Vector){function ViewV(target,indices,len){if(!this instanceof ViewV)return new ViewV(target,indices,len);if(this.target=target,"function"==typeof indices){if(this.i=indices,null==len)throw new Error("ViewV with function requires length arg");this.length=len}else this.i=function(i){return indices[i-1]},this.length=indices.length;return this.cached=!1,this}return ViewV.prototype=Object.create(Vector.prototype),ViewV.prototype._get=function(i){return 1>i||i>this.length?null:this.compute(i)},ViewV.prototype.compute=function(i){return this.target._get(this.i(i))},ViewV.prototype.change=function(i,val){return this.target._set(this.i(i),val),this},ViewV.prototype.mutable=function(newSetting){return null!=newSetting?(this.target.mutable(newSetting),this):this.target.mutable()},ViewV.prototype.each=function(f){var i;for(i=1;i<=this.length;i+=1)f(this._get(i),i);return Vector},ViewV}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],32:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){loader.addModule("base",{}),loader.loadModule(require("./base/restructure")),loader.loadModule(require("./base/read-write")),loader.loadModule(require("./base/format"))}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./base/format":33,"./base/read-write":34,"./base/restructure":35}],33:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){var utils,Handlebars,variableTemplate;utils=require("../utils"),Handlebars=require("handlebars"),variableTemplate=Handlebars.compile(["{{#each values}}",'<{{@root.opts.row.tag}} class="{{@root.opts.row.class}}">',"{{#each this}}","{{#if @root.opts.withNames}}",'<{{@root.opts.name.tag}} data-relIndex="{{index}}">',"{{name}}","</{{@root.opts.name.tag}}>","{{/if}}",'<{{@root.opts.value.tag}} data-relIndex="{{index}}">',"{{value}}","</{{@root.opts.value.tag}}>","{{/each}}","</{{@root.opts.row.tag}}>","{{/each}}"].join("")),loader.addInstanceMethod("Variable","layOut",function(ncol){var rows,currentRow,i,stringVar,names;for(names=this.names(),stringVar=this.asString(),ncol=Math.floor(ncol),ncol>=1||(ncol=1),rows=[],currentRow=[],i=1;i<=this.length();i+=1)currentRow.push({index:i,value:utils.getDefault(stringVar.get(i),""),name:utils.isMissing(names)?"":names.get(i)}),currentRow.length>=ncol&&(rows.push(currentRow),currentRow=[]);return currentRow.length>0&&rows.push(currentRow),rows}),loader.addInstanceMethod("Variable","toHTML",function(options){var defaults;return defaults={ncol:1,withNames:!1,value:{tag:"td","class":"var-value"},name:{tag:"td","class":"var-name"},row:{tag:"tr","class":"var-row"}},options=utils.mixin({},options,defaults),options.value=utils.mixin(options.value,defaults.value),options.name=utils.mixin(options.name,defaults.name),options.row=utils.mixin(options.row,defaults.row),variableTemplate({values:this.layOut(options.ncol),opts:options})}),loader.addInstanceMethod("Variable","format",function(options){function nDigits(x){return 0===x?1:Math.abs(Math.log(Math.abs(x))/Math.LN10)}var v,maxDigits;return v=this.asScalar().names(this.names()),options=utils.mixin({},options),options.type||(maxDigits=Math.floor(v.map(nDigits).max()),options.type=maxDigits>4?"scientific":"fixed"),options.decimals>=0||(options.decimals="scientific"===options.type?4:2),v.map(utils.format[options.type](options.decimals),!1,"string")})}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../utils":42,handlebars:81}],34:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){function quote(options){var replacements;return replacements={"_\\":"\\\\","_	":"\\t","_\n":"\\n","_\r":"\\r"},function(str){return str=str.replace(/[\\\t\n\r]/g,function(m){return replacements["_"+m]}),options.quote?'"'+str.replace(/"/g,options.qescape?'\\"':'""')+'"':str}}function prepareVar(v,options){function killMissing(strv){return strv.map(function(str){return utils.getDefault(str,"")})}return"scalar"===v.mode?killMissing(v.asString()).toArray():killMissing(v.asString()).toArray().map(quote(options))}function variableInferMode(terms){return terms.filter(utils.isNotMissing).every(function(s){return null!==s.match(regexp.numberlike)})?"scalar":"factor"}function makeVariable(terms,mode){return terms=terms.map(function(val){return""===val?0/0:val}),mode||(mode=variableInferMode(terms)),"scalar"===mode&&(terms=terms.map(parseFloat)),new Variable(terms,{mode:mode})}function inferSep(terms){var sepCounts,seps;return sepCounts={"_	":[],"_,":[],"_;":[],"_ ":[]},seps=Object.keys(sepCounts),terms.forEach(function(term){seps.forEach(function(sep){sepCounts[sep].push(term.separators[sep])})}),sepCounts=new List(sepCounts).reduce(function(acc,arr,i,sep){return arr=Variable.scalar(arr).table().sort(!0),"0"!==arr.names().get(1)&&arr.get(1)>acc.freq?{freq:arr.get(1),sep:sep}:acc},{freq:-1}),sepCounts.sep}function tokenize(re,s,f){var m,arr;for(arr=[],"undefined"==typeof f&&(f=function(x){return x}),re.lastIndex=0,m=re.exec(s);null!==m&&""!==m[0];m=re.exec(s))arr.push(f(m));return arr}function tokenizeDatasetLine(line){var obj;return obj={tokens:[],separators:{"_	":0,"_,":0,"_;":0,"_ ":0}},obj.line=line.replace(regexp.datasetTerm,function(m,p1,p2,p3){return obj.tokens.push(cleanMatch([m,p1,p2,p3])),obj.tokens.length}),(obj.line.match(regexp.datasetSeparators)||[]).forEach(function(sep){obj.separators["_"+(1===sep.length?sep:" ")]+=1}),obj}function makeLineTokenizer(str){function preprocess(line){return line.replace(pattern2,function(m,s){return s?s:""})}var obj,pattern,pattern2;return obj={"_	":{term:"([^\\t\\n]*)",sep:"\\t",junk:" *"},"_,":{term:"([^,\\n]*)",sep:",",junk:"[\\t ]*"},"_;":{term:"([^;\\n]*)",sep:";",junk:"[\\t ]*"},"_ ":{term:"([^\\s]*)",sep:"[ \\t]+",junk:""}},pattern='(?:"('+reString.doubleQuoteContent+')"|'+"'("+reString.singleQuoteContent+")'|"+obj[str].term+")(?:"+obj[str].sep+")?",pattern=new RegExp(pattern,"g"),pattern2=obj[str].junk+"("+obj[str].sep+")"+obj[str].junk+"|^"+obj[str].junk+"|"+obj[str].junk+"$",pattern2=new RegExp(pattern2,"g"),function(line){return tokenize(pattern,preprocess(line),cleanMatch)}}function columnize(rows){var numCol,i,cols;for(cols=[],numCol=rows.reduce(function(maxLen,row){return Math.max(row.length,maxLen)},0),i=0;numCol>i;i+=1)cols.push([]);return rows.forEach(function(row){cols.forEach(function(col,j){col.push(utils.getDefault(row[j],utils.missing))})}),cols}function cleanMatch(m){return"undefined"!=typeof m[1]?quoteUnescape(m[1],'"'):"undefined"!=typeof m[2]?quoteUnescape(m[2],"'"):quoteUnescape(m[3],"")}var Variable,List,Dataset,reString,regexp,quoteUnescape,utils,writeDefaults;Variable=loader.getClass("Variable"),List=loader.getClass("List"),Dataset=loader.getClass("Dataset"),utils=require("../utils"),writeDefaults={sep:",",header:!0,quote:!1,qescape:!1},reString={},reString.doubleQuoteContent='(?:""|\\\\"|\\\\\\\\|[^"])*',reString.singleQuoteContent="(?:''|\\\\'|\\\\\\\\|[^'])*",reString.variableSeparators="(?:^|[\\s\\n;,]+)",reString.datasetSeparators="[\\t;,]| +",reString.regularTerm="[^\\s\\n;,]+",reString.variableTerm=reString.variableSeparators+"(?:"+'"('+reString.doubleQuoteContent+')"|'+"'("+reString.singleQuoteContent+")'|"+"("+reString.regularTerm+")"+")",reString.datasetTerm='(?:"('+reString.doubleQuoteContent+')"|'+"'("+reString.singleQuoteContent+")'|"+"("+reString.regularTerm+")"+")",reString.numberlike="^\\s*[+-]?(?:\\d+\\.?|\\.\\d+)\\d*(?:[eE][+-]?\\d+)?\\s*$",regexp={},["variableTerm","datasetTerm","datasetSeparators","numberlike"].forEach(function(key){regexp[key]=new RegExp(reString[key],"g")}),loader.addClassMethod("Variable","read",function(vals,mode){return makeVariable(tokenize(regexp.variableTerm,vals,cleanMatch),mode)}),loader.addInstanceMethod("Variable","write",function(options){return options=utils.mixin({},options,writeDefaults),prepareVar(this,options).join(options.sep)}),loader.addClassMethod("Dataset","read",function(vals,options){function makeVar(row){return makeVariable(row)}var terms,headings;return options=options||{},vals=vals.replace(/\r/g,"").split("\n"),options.sep||(terms=vals.map(tokenizeDatasetLine),options.sep=inferSep(terms)),terms=vals.map(makeLineTokenizer(options.sep)),terms=terms.filter(function(arr){return arr.length>0}),terms=columnize(terms),null==options.header&&(options.header=!1,terms.forEach(function(col){makeVar(col.slice(1,col.length)).sameMode(makeVar(col))||(options.header=!0)})),options.header===!0?(headings=[],terms.forEach(function(row){headings.push(row.shift())}),new Dataset(terms.map(makeVar)).names(headings)):new Dataset(terms.map(makeVar))}),loader.addInstanceMethod("Dataset","write",function(options){function addHeader(arr,name){return options.header&&arr.unshift(quote(options)(name)),arr}function prepVar(v,i,name){return addHeader(prepareVar(v,options),name)}var rows,row,cols;return options=utils.mixin({},options,writeDefaults),cols=this.map(prepVar),rows=[],cols.get(1).forEach(function(_first,i){row=[],cols.each(function(col){row.push(col[i])}),rows.push(row.join(options.sep))}),rows.join("\n")+"\n"}),quoteUnescape=function(dict){function lookup(c){return obj[c]||c[1]}var obj;return obj={"\\n":"\n","\\t":"	","\\r":"\r",'""':'"',"''":"'"},function(s,q){return s.replace(dict[q],lookup)}}({'"':/\\.|""/g,"'":/\\.|''/g,"":/\\./g})}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../utils":42}],35:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){var Variable,List,utils;Variable=loader.getClass("Variable"),List=loader.getClass("List"),utils=require("../utils"),loader.addInstanceMethod("Dataset","split",function(select){var that;return that=this,"function"==typeof select&&(select=Variable.tabulate(function(i){return select(that.rowFun(i),i)},1,that.nrow,{mode:"factor"})),select instanceof Variable&&(select=select.groupIndices()),select.map(function(val){return that.get(val,!0)})}),loader.addInstanceMethod("Variable","groupIndices",function(){var that,arr,levels;return that=this,"factor"!==that.mode&&"ordinal"!==that.mode&&(that=Variable.factor(that.toArray())),levels=that.levels(),arr=new Variable.Vector(function(){return[]},levels.length).get(),that.values.each(function(c,i){utils.isMissing(c)?(arr[levels.length]=arr[levels.length]||[],arr[levels.length].push(i)):arr[c-1].push(i)}),arr.length!==levels.length&&levels.push(utils.missing),new List(arr).names(levels)})}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../utils":42}],36:[function(require,module){!function(define){"use strict";define(function(require){function Dataset(values){return(arguments.length>1||utils.isOfType(values,[List,Variable,Variable.Vector,Variable.Matrix]))&&(values=[].slice.call(arguments)),List.call(this,values),normalizeList(this).unnest(1/0),this.each(function(val,i){List.prototype.set.call(this,i,new Variable(val))}.bind(this)),validateLengths(this),this.ncol=this.length(),this.nrow=0===this.ncol?0:this.values[1].length(),sanitizeNames(this)}function validateLengths(dSet){return dSet.reduce(function(acc,val){if(null===acc)return val.length();if(acc!==val.length())throw new Error("Dataset columns have unequal length.");return acc},null),dSet}function normalizeList(list){var listSet;return listSet=List.prototype.set,list.each(function(val,i){val instanceof List?normalizeList(val):val instanceof Variable.Matrix?listSet.call(list,i,normalizeList(List.call({},val.toArray()))):val instanceof Variable||listSet.call(list,i,new Variable(val))
}),list}function getColumns(cols,dset){if(cols===!0)return utils.seq(dset.length());if("number"==typeof cols||"string"==typeof cols)return[cols];if("function"==typeof cols)return utils.seq(dset.length()).filter(function(j){return cols(dset._names[j],j)});if(cols=Variable.oneDimToVariable(cols),"logical"===cols.mode()){if(dset.ncol!==cols.length())throw new Error("Logical vector does not match nCol");cols=cols.which()}return cols.get()}function getRows(rows,dset){if(rows===!0)return utils.seq(dset.nrow);if("function"==typeof rows)return utils.seq(dset.nrow).filter(function(i){return rows(dset.rowFun(i),i)});if("number"==typeof rows)return[rows];if(rows=Variable.oneDimToVariable(rows),"logical"===rows.mode()){if(dset.nrow!==rows.length())throw new Error("Logical vector does not match nRow");rows=rows.which()}return rows.get()}function getValsFunction(vals,rows,cols){if("function"==typeof vals)return vals;if(vals=Variable.oneDimToArray(vals),Array.isArray(vals)&&(vals=new Variable.Matrix(vals,1===rows.length?{nrow:1}:{ncol:1})),utils.isOfType(vals,[Variable.Matrix,Dataset])){if(rows.length!==vals.nrow||cols.length!==vals.ncol)throw new Error("incompatible dims in two-dimensional Dataset set");return rows=utils.arrayToObject(rows),cols=utils.arrayToObject(cols),function(i,j){return vals.get(rows[i],cols[j])}}return function(){return vals}}function sanitizeNames(dset){function ensureUnique(name){var j;if(j=1,cache[name]){for(;cache[name+"."+j];)j+=1;name=name+"."+j}return cache[name]=!0,name}var cache;return cache={},dset.values.forEach(function(val,i){i>0&&(dset._names[i]=ensureUnique(utils.getDefault(dset._names[i],"X"+i)))}),dset}var List,Variable,utils;return List=require("./list"),Variable=require("./variable"),utils=require("./utils"),Dataset.prototype=Object.create(List.prototype),Dataset.prototype.names=function(){var res;return res=List.prototype.names.apply(this,[].slice.call(arguments)),res!==this?res:sanitizeNames(this)},Dataset.prototype.getVar=function(col){return List.prototype.get.call(this,col).clone()},Dataset.prototype.rowFun=function(i){var that;return that=this,function(j){return that.getVar(j).get(i)}},Dataset.prototype.eachRow=function(f){Variable.seq(this.nrow).each(function(i){f(this.rowFun(i),i)}.bind(this))},Dataset.prototype.eachCol=List.prototype.each,Dataset.prototype.get=function(rows,cols){var that;return that=this,0===arguments.length?that.toArray():"string"==typeof cols||"number"==typeof cols?"number"==typeof rows?that.getVar(cols).get(rows):that.getVar(cols).select(getRows(rows,that)):(cols=getColumns(cols,that),rows=getRows(rows,that),new Dataset(cols.map(function(col){return List.prototype.get.call(that,col).select(rows)})).names(cols.map(function(col){return"string"==typeof col?col:that.names(col)})))},Dataset.prototype.setVar=function(col,val){if(val=Variable.oneDimToVariable(val),!(val instanceof Variable))throw new Error("Can only setVar with one-dimensional value");if(val.length()!==this.nrow)throw new Error("Attempting to setVar with variable of wrong length");return List.prototype.set.call(this,col,val.clone())},Dataset.prototype.set=function(rows,cols,vals){var that;return that=this,cols=getColumns(cols,this),rows=getRows(rows,this),vals=getValsFunction(vals,rows,cols),cols.forEach(function(j){var myVar;myVar=List.prototype.get.call(that,j),myVar.set(rows,function(i){return vals(i,j,that.names(j))})}),this},Dataset.prototype.appendRows=function(rows,values){var oldnrow;if(1===arguments.length&&(values=rows,rows=null==values.nrow?1:values.nrow),values=this===values?values.clone():Variable.oneDimToVector(values),values instanceof Variable.Vector&&(values=new Variable.Matrix(values.get(),{byRow:!0,nrow:1})),null!=values.ncol&&values.ncol!==this.ncol)throw new Error("Incompatible dimensions for appendRows.");return oldnrow=this.nrow,"function"==typeof values&&(values=function(oldValues){return function(i,j,colName){return oldValues(i-oldnrow,j,colName)}}(values)),this.nrow+=rows,this.each(function(val){val.resize(oldnrow+rows,!1)}),this.set(function(row,i){return i>oldnrow},!0,values)},Dataset.prototype.appendCols=function(names,values){var that,len;if(that=this,len=that.length(),1===arguments.length&&(values=names,names=utils.missing),"function"==typeof values&&(values=new Variable(values,{length:that.nrow})),values=new Dataset(Variable.oneDimToVariable(values)),values.nrow!==this.nrow)throw new Error("mismatch -- Dataset.nrow and num rows in new columns");return List.prototype.each.call(values,function(val,i,name){List.prototype.set.call(that,len+i,val).names(len+i,name)}),that.ncol+=values.ncol,utils.isMissing(names)||Variable.ensureArray(names).forEach(function(name,i){len+i+1<=that.length()&&that.names(len+i+1,name)}),sanitizeNames(that)},Dataset.prototype.which=function(pred){return new Variable(getRows(pred,this))},Dataset.prototype.deleteRows=function(rows){var that,indices;return that=this,"function"==typeof rows&&(rows=that.which(rows)),rows=Variable.ensureArray(rows),indices=that.which(function(row,i){return-1===rows.indexOf(i)}),that.nrow=indices.length(),that.each(function(col,i){List.prototype.set.call(that,i,col.select(indices))}),that},Dataset.prototype.deleteCols=function(cols){var del;return del=List.prototype.delete.bind(this),cols=List.prototype.getIndexOf.call(this,cols),Array.isArray(cols)?cols.sort(function(a,b){return b>a}).forEach(del):del(cols),this.ncol=this.length(),this},Dataset.prototype.clone=function(){return new Dataset(this)},Dataset.prototype.toArray=function(){return this.values.slice(1).map(function(val){return val.get()})},Dataset})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./list":38,"./utils":42,"./variable":43}],37:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){var utils;utils=require("./utils"),loader.addModule("fun",{}),loader.addModuleMethod("fun.interpolate",function(xs,ys){if(xs=xs.hasOwnProperty("toArray")?xs.toArray():xs,ys=ys.hasOwnProperty("toArray")?ys.toArray():ys,xs.length!==ys.length)throw new Error("fun.interpolate: lengths must agree.");return function(x){var i,gamma;if(x<xs[0]||x>xs[xs.length-1])return utils.missing;if(x===xs[xs.length-1])return ys[xs.length-1];for(i=-1;xs[i+1]<=x;)i+=1;return gamma=(x-xs[i])/(xs[i+1]-xs[i]),(1-gamma)*ys[i]+gamma*ys[i+1]}})}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./utils":42}],38:[function(require,module){!function(define){"use strict";define(function(require){function List(values){return this instanceof List?(Array.isArray(values)?(this.values=[utils.missing].concat(values),this._names=this.values.map(function(){return utils.missing})):(this._names=[utils.missing].concat(Object.keys(values||{})),this.values=this._names.map(function(key){return utils.optionMap(key,function(k){return values[k]})})),void 0):new List(values)}function joinNames(itemName,valueNames,length){if(utils.isMissing(itemName))return Variable.ensureArray(valueNames);if(utils.isMissing(valueNames)){if(1===length)return[itemName];valueNames=Variable.Vector.seq(length)}return Variable.ensureArray(valueNames).map(function(s){return itemName+"."+s})}var Variable,utils;return utils=require("./utils"),Variable=require("./variable"),List.prototype=Object.create({}),List.prototype.names=function(i,newNames){if(0===arguments.length)return utils.allMissing(this._names)?utils.missing:Variable.string(this._names.slice(1));if(arguments.length>1)this._names[i]=newNames;else{if(utils.isMissing(i))return this._names=this.values.map(function(){return utils.missing}),this;if(i instanceof Variable&&(i=i.asString().toArray()),!Array.isArray(i))return this._names[i];if(i.length!==this.length())throw new Error("Incompatible names length");this._names=[utils.missing].concat(i)}return this},List.prototype.length=function(){return this.values.length-1},List.prototype.getIndexOf=function(name){function tester(n){return"number"==typeof n?n:(n=names.indexOf(n),-1===n?utils.missing:n)}var names;return names=this._names,Array.isArray(name)?name.map(tester):tester(name)},List.prototype.get=function(i){return utils.isMissing(i)?this.values.slice(1):this.values[this.getIndexOf(i)]},List.prototype.deepGet=function(coords){return Variable.oneDimToArray(coords).reduce(function(result,index,i,array){var next;if(!result.has(index))throw new Error("Object "+result+" has no index "+index);if(next=result.get(index),i===array.length-1||next instanceof List||next instanceof Variable)return next;throw new Error("Trying to index non-list object: "+next)},this)},List.prototype.deepSet=function(coords,value){return Variable.oneDimToArray(coords).reduce(function(result,index,i,array){var next;if(i===array.length-1)return result.set(index,value);if(!result.has(index))throw new Error("Object "+result+" has no index "+index);if(next=result.get(index),next instanceof List||next instanceof Variable)return next;throw new Error("Trying to index non-list object: "+next)},this),this},List.prototype.set=function(i,val){return utils.isMissing(i)?this:"number"==typeof i||"string"==typeof i?this._set(i,val):(i instanceof List?i.each(function(v,ind,name){utils.isMissing(name)?this._set(this.length()+1,v):this._set(name,v)}.bind(this)):Array.isArray(i)?i.forEach(function(v){this._set(this.length()+1,v)}.bind(this)):Object.keys(i).forEach(function(key){this._set(key,i[key])}.bind(this)),this)},List.prototype._set=function(i,val){var name;if(utils.isMissing(i))return this;if("number"==typeof i){if(i=Math.floor(i),1>i)throw new Error("cannot set at negative index: "+i);this.values[i]=val}else name=i,i=this._names.indexOf(name),-1===i&&(i=this.length()+1,this._names[i]=name),this.values[i]=val;return this},List.prototype.push=function(val){return this._set(this.length()+1,val)},List.prototype.has=function(i){return"number"==typeof i?i<=this.length():!utils.isMissing(this.getIndexOf(i))},List.prototype.delete=function(i){return utils.isMissing(i)?this:(i=this.getIndexOf(i),i>=1&&(this.values.splice(i,1),this._names.splice(i,1)),this)},List.prototype.each=function(f){var i;for(i=1;i<=this.length();i+=1)f(this.values[i],i,this._names[i]);return this},List.prototype.reduce=function(f,initial){var i,acc;for(acc=initial,i=1;i<=this.length();i+=1)acc=f(acc,this.values[i],i,this._names[i]);return acc},List.prototype.map=function(f){var arr;return arr=[],this.each(function(val,i,name){arr.push(f(val,i,name))}),new List(arr).names(utils.optionMap(this.names(),function(nms){return nms.toArray()}))},List.prototype.clone=function(){return this.map(function(val){return val instanceof Object&&val.clone?val.clone():val})},List.prototype.toVariable=function(){var resolvedEntries;return resolvedEntries=this.get().map(function(val){return val instanceof List?val.toVariable():val instanceof Variable?val.clone():(val=Variable.oneDimToVariable(val),val instanceof Variable?val:new Variable([val]))}),resolvedEntries.forEach(function(val,i){val.names(joinNames(this.names(i+1),val.names(),val.length()))}.bind(this)),Variable.concat.apply(null,resolvedEntries)},List.prototype.concat=function(recursive){var lst,i;if(recursive=recursive===!0,0===this.length())return this;for(recursive&&this.unnest(1/0),lst=this.map(Variable.oneDimToVariable),i=1;i<=lst.length();i+=1)if(!(lst.get(i)instanceof Variable))return lst;return lst.toVariable()},List.prototype.unnest=function(levels){var i;if(0===arguments.length&&(levels=1),0===levels)return this;for(levels>1&&this.each(function(e){e instanceof List&&e.unnest(levels-1)}),i=this.length();i>0;i-=1)this.values[i]instanceof List&&([].splice.apply(this._names,[i,1].concat(joinNames(this._names[i],this.values[i].names(),this.values[i].length()))),[].splice.apply(this.values,[i,1].concat(this.values[i].get())));return this},List})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./utils":42,"./variable":43}],39:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){loader.addModule("stats",{}),loader.loadModule(require("./stats/basic")),loader.loadModule(require("./stats/distr"))}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./stats/basic":40,"./stats/distr":41}],40:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){function filterMissing(v,skipMissing){return skipMissing===!0?v.nonMissing():v}var utils,Variable,List;utils=require("../utils"),Variable=loader.getClass("Variable"),List=loader.getClass("List"),loader.addInstanceMethod("Variable","sum",function(skipMissing){return this.asScalar().reduce(utils.op.add,0,skipMissing)}),loader.addInstanceMethod("Variable","mean",function(skipMissing){var v;return v=filterMissing(this.asScalar(),skipMissing),utils.singleMissing(v.sum()/v.length())}),loader.addInstanceMethod("Variable","var",function(skipMissing){var res,K;return res=this.reduce(function(acc,val){return null==K&&(K=val),val-=K,acc.sum+=val,acc.sumSquares+=val*val,acc.length+=1,acc},{sum:0,sumSquares:0,length:0},skipMissing),utils.singleMissing((res.sumSquares-res.sum*res.sum/res.length)/(res.length-1))}),loader.addInstanceMethod("Variable","sd",function(skipMissing){return utils.singleMissing(Math.sqrt(this.var(skipMissing)))}),loader.addInstanceMethod("Variable","min",function(skipMissing){return this.asScalar().reduce(utils.op.min2,1/0,skipMissing)}),loader.addInstanceMethod("Variable","max",function(skipMissing){return this.asScalar().reduce(utils.op.max2,-1/0,skipMissing)}),loader.addInstanceMethod("Variable","order",function(desc){return Variable.scalar(this.toVector().order(desc))}),loader.addInstanceMethod("Variable","sort",function(desc){return this.select(this.toVector().order(desc).toArray())}),loader.addInstanceMethod("Variable","quantile",function(probs,skipMissing){var getQuant,quantiles,names;if(skipMissing===!0)return this.nonMissing().quantile(probs);if(this.hasMissing())throw new Error("missing values in variable and skipMissing not set to true");return probs=Variable.ensureArray(probs),probs.forEach(function(p){if(0>p||p>1)throw new Error('"probs" outside [0, 1]')}),getQuant=function(p){var g,k;return p=p*(this.length()-1)+1,k=Math.floor(p),g=p-k,(1-g)*this.get(k)+g*this.get(k+1)}.bind(this.asScalar().sort()),quantiles=probs.map(utils.makePreserveMissing(getQuant)),names=probs.map(function(prob){return utils.optionMap(prob,function(p){return 100*p+"%"})}),Variable.scalar(quantiles).names(names)}),loader.addInstanceMethod("Variable","median",function(skipMissing){return this.hasMissing()&&skipMissing!==!0?utils.missing:this.quantile(.5,!0).get(1)}),loader.addInstanceMethod("Variable","fiveNum",function(skipMissing){return this.quantile([0,.25,.5,.75,1],skipMissing).names(["Min","Q1","Median","Q3","Max"])}),loader.addInstanceMethod("Variable","table",function(){var factor,freqs,missing,names;return factor=Variable.factor(this.toArray()).sort(),freqs=[],missing=0,factor.each(function(val){utils.isMissing(val)?missing+=1:freqs[val-1]=freqs[val-1]?freqs[val-1]+1:1}),names=factor.levels(),missing>0&&(freqs.push(missing),names.push(utils.missing)),Variable.scalar(freqs).names(names)}),loader.addInstanceMethod("Variable","scale",function(center,scale){return new List({center:center,scale:scale,values:this.map(function(x){return(x-center)/scale})})}),loader.addInstanceMethod("Variable","zscore",function(){return this.scale(this.mean(!0),this.sd(!0))}),loader.addModuleMethod("stats","correlate",function(xs,ys,skipMissing){var M,MTM,V,validIndices;if(!xs.sameLength(ys))throw new Error("correlate requires same-length variables");if(validIndices=Variable.seq(xs.length()).filter(function(i){return utils.isNotMissing(xs.get(i))&&utils.isNotMissing(ys.get(i))}),validIndices.length()!==xs.length()){if(skipMissing!==!0)return utils.missing;xs=xs.get(validIndices),ys=ys.get(validIndices)}return M=new Variable.Matrix([Variable.ensureArray(xs),Variable.ensureArray(ys)]),MTM=M.transpose().mult(M),V=M.mapCol(function(col){return col.reduce(utils.op.add,0)}),M=MTM.pAdd(V.outer(V).sMult(-1/M.nrow)),M.get(1,2)/Math.sqrt(M.get(1,1)*M.get(2,2))})}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../utils":42}],41:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){function getOptions(opt,defs){return utils.mixin({},opt,defs,{lowerTail:!0,log:!1})}function makeRandom(f,defs){return function(n,opt){return opt=getOptions(opt,defs),new Variable(f(opt),{length:n})}}function makePdf(f,defs){return function(x,opt){var dens;return opt=getOptions(opt,defs),dens=f(opt),Variable.oneDimToVariable(x).map(dens,!0)}}function makeCdf(f,defs){return function(x,opt){var cdf;return opt=getOptions(opt,defs),cdf=f(opt),Variable.oneDimToVariable(x).map(cdf,!0)}}function makeInvCdf(f,defs){return function(p,opt){var invCdf;return opt=getOptions(opt,defs),invCdf=f(opt),Variable.oneDimToVariable(p).map(invCdf,!0)}}var utils,Variable,panthrMath;utils=require("../utils"),panthrMath=require("panthr-math"),Variable=loader.getClass("Variable"),loader.addModuleMethod("stats","runif",makeRandom(function(opt){return panthrMath.runif(opt.min,opt.max)},{min:0,max:1})),loader.addModuleMethod("stats","dunif",makePdf(function(opt){return panthrMath.dunif(opt.min,opt.max,opt.log)},{min:0,max:1})),loader.addModuleMethod("stats","punif",makeCdf(function(opt){return panthrMath.punif(opt.min,opt.max,opt.lowerTail,opt.log)},{min:0,max:1})),loader.addModuleMethod("stats","qunif",makeInvCdf(function(opt){return panthrMath.qunif(opt.min,opt.max,opt.lowerTail,opt.log)},{min:0,max:1})),loader.addModuleMethod("stats","rnorm",makeRandom(function(opt){return panthrMath.rnorm(opt.mu,opt.sigma)},{mu:0,sigma:1})),loader.addModuleMethod("stats","dnorm",makePdf(function(opt){return panthrMath.dnorm(opt.mu,opt.sigma,opt.log)},{mu:0,sigma:1})),loader.addModuleMethod("stats","pnorm",makeCdf(function(opt){return panthrMath.pnorm(opt.mu,opt.sigma,opt.lowerTail,opt.log)},{mu:0,sigma:1})),loader.addModuleMethod("stats","qnorm",makeInvCdf(function(opt){return panthrMath.qnorm(opt.mu,opt.sigma,opt.lowerTail,opt.log)},{mu:0,sigma:1})),loader.addModuleMethod("stats","rbeta",makeRandom(function(opt){return panthrMath.rbeta(opt.a,opt.b)},{a:2,b:2})),loader.addModuleMethod("stats","dbeta",makePdf(function(opt){return panthrMath.dbeta(opt.a,opt.b,opt.log)},{a:2,b:2})),loader.addModuleMethod("stats","pbeta",makeCdf(function(opt){return panthrMath.pbeta(opt.a,opt.b,opt.lowerTail,opt.log)},{a:2,b:2})),loader.addModuleMethod("stats","qbeta",makeInvCdf(function(opt){return panthrMath.qbeta(opt.a,opt.b,opt.lowerTail,opt.log)},{a:2,b:2})),loader.addModuleMethod("stats","rgamma",makeRandom(function(opt){return panthrMath.rgamma(opt.a,opt.s)},{a:1,s:1})),loader.addModuleMethod("stats","dgamma",makePdf(function(opt){return panthrMath.dgamma(opt.a,opt.s,opt.log)},{a:1,s:1})),loader.addModuleMethod("stats","pgamma",makeCdf(function(opt){return panthrMath.pgamma(opt.a,opt.s,opt.lowerTail,opt.log)},{a:1,s:1})),loader.addModuleMethod("stats","qgamma",makeInvCdf(function(opt){return panthrMath.qgamma(opt.a,opt.s,opt.lowerTail,opt.log)},{a:1,s:1})),loader.addModuleMethod("stats","rt",makeRandom(function(opt){return panthrMath.rt(opt.df)},{df:10})),loader.addModuleMethod("stats","dt",makePdf(function(opt){return panthrMath.dt(opt.df,opt.log)},{df:10})),loader.addModuleMethod("stats","pt",makeCdf(function(opt){return panthrMath.pt(opt.df,opt.lowerTail,opt.log)},{df:10})),loader.addModuleMethod("stats","qt",makeInvCdf(function(opt){return panthrMath.qt(opt.df,opt.lowerTail,opt.log)},{df:10})),loader.addModuleMethod("stats","rchisq",makeRandom(function(opt){return panthrMath.rchisq(opt.df)},{df:10})),loader.addModuleMethod("stats","dchisq",makePdf(function(opt){return panthrMath.dchisq(opt.df,opt.log)},{df:10})),loader.addModuleMethod("stats","pchisq",makeCdf(function(opt){return panthrMath.pchisq(opt.df,opt.lowerTail,opt.log)},{df:10})),loader.addModuleMethod("stats","qchisq",makeInvCdf(function(opt){return panthrMath.qchisq(opt.df,opt.lowerTail,opt.log)},{df:10})),loader.addModuleMethod("stats","rbinom",makeRandom(function(opt){return panthrMath.rbinom(opt.size,opt.p)},{size:10,p:.5})),loader.addModuleMethod("stats","dbinom",makePdf(function(opt){return panthrMath.dbinom(opt.size,opt.p,opt.log)},{size:10,p:.5})),loader.addModuleMethod("stats","pbinom",makeCdf(function(opt){return panthrMath.pbinom(opt.size,opt.p,opt.lowerTail,opt.log)},{size:10,p:.5})),loader.addModuleMethod("stats","qbinom",makeInvCdf(function(opt){return panthrMath.qbinom(opt.size,opt.p,opt.lowerTail,opt.log)},{size:10,p:.5})),loader.addModuleMethod("stats","rpois",makeRandom(function(opt){return panthrMath.rpois(opt.lambda)},{lambda:1})),loader.addModuleMethod("stats","dpois",makePdf(function(opt){return panthrMath.dpois(opt.lambda,opt.log)},{lambda:1})),loader.addModuleMethod("stats","ppois",makeCdf(function(opt){return panthrMath.ppois(opt.lambda,opt.lowerTail,opt.log)},{lambda:1})),loader.addModuleMethod("stats","qpois",makeInvCdf(function(opt){return panthrMath.qpois(opt.lambda,opt.lowerTail,opt.log)},{lambda:1})),loader.addModuleMethod("stats","rgeom",makeRandom(function(opt){return panthrMath.rgeom(opt.prob)},{prob:.5})),loader.addModuleMethod("stats","dgeom",makePdf(function(opt){return panthrMath.dgeom(opt.prob,opt.log)},{prob:.5})),loader.addModuleMethod("stats","pgeom",makeCdf(function(opt){return panthrMath.pgeom(opt.prob,opt.lowerTail,opt.log)},{prob:.5})),loader.addModuleMethod("stats","qgeom",makeInvCdf(function(opt){return panthrMath.qgeom(opt.prob,opt.lowerTail,opt.log)},{prob:.5})),loader.addModuleMethod("stats","rexp",makeRandom(function(opt){return panthrMath.rexp(opt.rate)},{rate:1})),loader.addModuleMethod("stats","dexp",makePdf(function(opt){return panthrMath.dexp(opt.rate,opt.log)},{rate:1})),loader.addModuleMethod("stats","pexp",makeCdf(function(opt){return panthrMath.pexp(opt.rate,opt.lowerTail,opt.log)},{rate:1})),loader.addModuleMethod("stats","qexp",makeInvCdf(function(opt){return panthrMath.qexp(opt.rate,opt.lowerTail,opt.log)},{rate:1}))}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../utils":42,"panthr-math":106}],42:[function(require,module){!function(define){"use strict";define(function(){var utils;return utils={},utils.mixin=function(target){var rest;return rest=[].slice.call(arguments,1),rest.forEach(function(o){o&&Object.keys(o).forEach(function(key){target.hasOwnProperty(key)||(target[key]=o[key])})}),target},utils.missing=0/0,utils.isMissing=function(val){return null==val||val!==val},utils.isNotMissing=function(val){return null!=val&&val===val},utils.hasMissing=function(arr){return arr.some(utils.isMissing)},utils.singleMissing=function(val){return utils.isMissing(val)?utils.missing:val},utils.makePreserveMissing=function(f){return function(val){return utils.isMissing(val)?utils.missing:utils.singleMissing(f.apply(null,[].slice.call(arguments)))}},utils.allMissing=function(arr){return arr.every(utils.isMissing)},utils.getDefault=function(val,deflt){return utils.isMissing(val)?deflt:val},utils.optionMap=function(val,f){return utils.isMissing(val)?utils.missing:f(val)},utils.equal=function(a,b){return utils.isMissing(a)?utils.isMissing(b):utils.isNotMissing(b)&&a===b},utils.areEqualArrays=function(A,B){var i;if(A.length!==B.length)return!1;for(i=0;i<A.length;i+=1)if(!utils.equal(A[i],B[i]))return!1;return!0},utils.arrayToObject=function(arr){var obj;return obj={},arr.forEach(function(k,i){obj[k]=i+1}),obj},utils.isOfType=function(v,types){return types.some(function(t){return v instanceof t})},utils.seq=function(from,to,step){var arr;for(arr=[],1===arguments.length&&(to=from,from=1),arguments.length<3&&(step=to>=from?1:-1);(to-from)*step>=0;)arr.push(from),from+=step;return arr},utils.op={},utils.op.add=function(a,b){return a+b},utils.op["+"]=utils.op.add,utils.op.sub=function(a,b){return a-b},utils.op["-"]=utils.op.sub,utils.op.mult=function(a,b){return a*b},utils.op["*"]=utils.op.mult,utils.op.div=function(a,b){return a/b},utils.op["/"]=utils.op.div,utils.op.min2=function(a,b){return Math.min(a,b)},utils.op.max2=function(a,b){return Math.max(a,b)},utils.getOption=function(s,optList,deflt){var i;if(null==s||""===s)return deflt;for(s=s.toLowerCase(),i=0;i<optList.length;i+=1)if(0===optList[i].toLowerCase().indexOf(s))return optList[i];return null},utils.format={scientific:function(decimals){return function(x){return x.toExponential(decimals)}},fixed:function(decimals){return function(x){return x.toFixed(decimals)}}},utils})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],43:[function(require,module){!function(define){"use strict";define(function(require){function Variable(values,options){var ret;if(values instanceof Variable)return values.clone();if(options=utils.getDefault(options,{}),"function"==typeof values){if(utils.isMissing(options.length))throw new Error("Variable definition via function requires length option");values=new Vector(values,options.length)}return values=Variable.ensureArray(values),options.mode=utils.getOption(options.mode,Object.keys(Variable.modes))||inferMode(values),ret=new Variable.modes[options.mode](values,options),ret._names=utils.missing,ret.label=options.label||"",ret}function normalizeValue(val,ind){var i;if("function"==typeof val)return Array.isArray(ind)?ind.map(val):val(ind);if(!Array.isArray(val))return utils.singleMissing(val);for(i=0;i<val.length;i+=1)val[i]=utils.singleMissing(val[i]);return val}function normalizeIndices(v,ind){var allNegOrZero,someNegatives;if(ind instanceof Variable&&"logical"===ind.mode()){if(!v.sameLength(ind))throw new Error("incompatible lengths");ind=ind.which()}if(ind=normalizeValue(Variable.oneDimToArray(ind)),Array.isArray(ind)){if(allNegOrZero=ind.every(function(val){return utils.isMissing(val)||"number"==typeof val&&0>=val}),someNegatives=ind.some(function(val){return"number"==typeof val&&0>val}),allNegOrZero)ind=v.values.map(function(val,k){return-1===ind.indexOf(-k)?k:0}).toArray();else if(someNegatives)throw new Error("Cannot use both positive and negative indices.");ind=ind.map(resolveIndex(v.names())).filter(function(val){return 0!==val})}return resolveIndex(v.names())(ind)}function resolveIndex(names){function buildNames(){var i;for(cachedNames={},names=utils.isMissing(names)?[]:names.toArray(),i=0;i<names.length;i+=1)utils.isMissing(names[i])||(cachedNames[names[i]]=i+1)}var cachedNames;return function(index){return"string"==typeof index?(null==cachedNames&&buildNames(),cachedNames.hasOwnProperty(index)?cachedNames[index]:utils.missing):index}}function inferMode(values){var i;for(i=0;i<values.length&&utils.isMissing(values[i]);)i+=1;return i>=values.length||"number"==typeof values[i]?"scalar":"boolean"==typeof values[i]?"logical":"factor"}function _lcMode(m1,m2){return"ordinal"===m1&&(m1="factor"),"ordinal"===m2&&(m2="factor"),m1===m2?m1:"string"===m1||"string"===m2?"string":"scalar"}var Vector,utils;return utils=require("./utils"),Variable.prototype=Object.create({}),Variable.Vector=require("linalg-panthr").Vector,Vector=Variable.Vector,Variable.Matrix=require("linalg-panthr").Matrix,Variable.ScalarVar=require("./variable/scalar")(Variable),Variable.LogicalVar=require("./variable/logical")(Variable),Variable.StringVar=require("./variable/string")(Variable),Variable.FactorVar=require("./variable/factor")(Variable),Variable.OrdinalVar=require("./variable/ordinal")(Variable),Variable.DateTimeVar=require("./variable/datetime")(Variable),Variable.modes={scalar:Variable.ScalarVar,logical:Variable.LogicalVar,string:Variable.StringVar,factor:Variable.FactorVar,ordinal:Variable.OrdinalVar,dateTime:Variable.DateTimeVar},Object.keys(Variable.modes).forEach(function(key){Variable.modes[key].prototype.mode=function(){return key}}),Variable.scalar=function(values,label){return new Variable(values,{mode:"scalar",label:label})},Variable.logical=function(values,label){return new Variable(values,{mode:"logical",label:label})},Variable.string=function(values,label){return new Variable(values,{mode:"string",label:label})},Variable.factor=function(values,label){return new Variable(values,{mode:"factor",label:label})},Variable.ordinal=function(values,levels,label){return new Variable(values,Array.isArray(levels)?{mode:"ordinal",levels:levels,label:label}:{mode:"ordinal",label:levels})},Variable.dateTime=function(values,label){return new Variable(values,{mode:"date",label:label})},Variable.tabulate=function(f,from,to,options){var arr,i;for(arr=[],i=from;to>=i;i+=1)arr.push(f(i));return new Variable(arr,options)},Variable.seq=function(from,to,step,options){var args,v;return args=Array.prototype.slice.call(arguments),"object"==typeof args[args.length-1]&&(options=args.pop()),v=Vector.seq.apply(null,args),new Variable(v,options)},Variable.concat=function(vars){var commonMode,converters,names;return 0===arguments.length?Variable.scalar([]):1===arguments.length?arguments[0]:(vars=[].slice.call(arguments),commonMode=vars.map(function(v){return v.mode()}).reduce(_lcMode),converters={scalar:function(v){return v.asScalar()},string:function(v){return v.asString()},factor:function(v){return v.asString()}},names=utils.missing,vars.every(function(v){return utils.isMissing(v.names())})||(names=[].concat.apply([],vars.map(function(v){return utils.getDefault(v.names(),Vector.const(utils.missing,v.length())).toArray()}))),converters[commonMode]&&(vars=vars.map(converters[commonMode])),vars=vars.map(function(v){return v.get()}),new Variable([].concat.apply([],vars),{mode:commonMode}).names(names))},Variable.mapPair=function(v1,v2,f,mode,skipZeros){var options,v;if(skipZeros=skipZeros===!0,options=null==mode?{}:{mode:mode},v1=Variable.oneDimToVariable(v1),v2=Variable.oneDimToVariable(v2),!v1 instanceof Variable||!v2 instanceof Variable)throw new Error("Variable.mapPair: Needs 1-dim arguments");return 1===v2.length()?v=v1.map(function(arg){return f(arg,v2.get(1))}):1===v1.length()?v=v2.map(function(arg){return f(v1.get(1),arg)}):(v=new Variable(v1.values.mapPair(v2.values,f,skipZeros),options),v.names(utils.isMissing(v1.names())?v2.names():v1.names())),v},Variable.ensureArray=function(val){return val=Variable.oneDimToArray(val),Array.isArray(val)||(val=[val]),normalizeValue(val)},Variable.oneDimToArray=function(val){return utils.isOfType(val,[Variable,Vector])?val.get():val},Variable.oneDimToVector=function(val){return val instanceof Variable&&(val=val.get()),Array.isArray(val)?new Vector(val):val},Variable.oneDimToVariable=function(val){return Array.isArray(val)?new Variable(val):val instanceof Vector?new Variable(val):val},Variable.prototype.asScalar=function(){return new Variable(this.values).names(this.names())},Variable.prototype.asString=function(){return Variable.string(this.values.map(utils.makePreserveMissing(function(val){return String(val)}))).names(this.names())},Variable.prototype.get=function(i){return 0===arguments.length?this.toArray():this._get(normalizeIndices(this,i))},Variable.prototype._get=function(i){return utils.isMissing(i)?utils.missing:this.values.get(i)},Variable.prototype.has=function(i){return i=resolveIndex(this.names())(i),"number"==typeof i&&i>0&&i<=this.length()},Variable.prototype.toArray=function(){return this.values.toArray()},Variable.prototype.toVector=function(){return this.values},Variable.prototype.index=function(indices){if(arguments.length>1)throw new Error("Only one-dimensional indexing allowed at this time.");return void 0===indices?this.clone():null===indices?this.reproduce([]):(indices=normalizeIndices(this,indices),this.reproduce(this.values.get(indices)))
},Variable.prototype.indexSet=function(values,indices){if(arguments.length>2)throw new Error("Only one-dimensional indexing allowed at this time.");void 0===indices?this.set(Variable.seq(1,this.length()),values):null!==indices&&this.set(indices,values)},Variable.prototype.set=function(i,val){if(i=normalizeIndices(this,i),val=val instanceof Variable?val.get():normalizeValue(val,i),utils.isMissing(i)||Array.isArray(i)&&utils.hasMissing(i))throw new Error('Missing indices not allowed in "set"');return this._set(i,val)},Variable.prototype._set=function(i,val){return this.values.set(i,val),this},Variable.prototype.length=function(){return this.values.length},Variable.prototype.names=function(newNames){var len;return len=this.length(),0===arguments.length?this._names:(this._names=utils.optionMap(newNames,function(nms){return Variable.string(nms).resize(len)}),this)},Variable.prototype.clone=function(){return this.select(Vector.seq(this.length()))},Variable.prototype.levels=function(){throw new Error('"levels" only applicable for factor/ordinal variables')},Variable.prototype.getCodes=function(){throw new Error('"getCodes" only applicable for factor/ordinal variables')},Variable.prototype.which=function(){throw new Error('"which" only applicable for logical variables')},Variable.prototype.reproduce=function(newValues,newNames){var newVar;return newVar=new Variable(newValues,{mode:this.mode(),label:this.label}),newNames?newVar.names(newNames):newVar},Variable.prototype.select=function(indices){return indices=Variable.oneDimToArray(indices),utils.isMissing(this._names)?this.reproduce(this.values.get(indices)):this.reproduce(this.values.get(indices),this.names().get(indices))},Variable.prototype.rep=function(times){return times instanceof Variable&&(times=times.values),this.select(Vector.seq(this.length()).rep(times))},Variable.prototype.resize=function(length,fill){return fill!==!0&&(fill=function(){return utils.missing}),this.values=this.values.resize(length,fill),utils.isMissing(this._names)||(this._names=this._names.resize(length)),this},Variable.prototype.concat=function(vars){return vars=[].slice.call(arguments),vars.unshift(this),Variable.concat.apply(null,vars)},Variable.prototype.each=function(f,skipMissing){var f2;f2=skipMissing!==!0?f:function(val,i){utils.isNotMissing(val)&&f(val,i)},this.values.each(f2)},Variable.prototype.reduce=function(f,initial,skipMissing){var f2;return f2=skipMissing!==!0?f:function(acc,val,i){return utils.isMissing(val)?acc:f(acc,val,i)},utils.singleMissing(this.values.reduce(f2,initial))},Variable.prototype.map=function(f,skipMissing,mode){var f2;return 2===arguments.length&&"string"==typeof skipMissing&&(mode=skipMissing,skipMissing=!1),mode&&(mode={mode:mode}),f2=skipMissing!==!0?f:utils.makePreserveMissing(f),new Variable(this.values.map(f2),mode).names(this.names())},Variable.prototype.filter=function(pred){var arr;return arr=[],this.values.each(function(val,i){pred(val,i)&&arr.push(i)}),this.select(arr)},Variable.prototype.nonMissing=function(){return this.filter(utils.isNotMissing)},Variable.prototype.hasMissing=function(){return utils.hasMissing(this.toArray())},Variable.prototype.sameLength=function(other){return this.values.length===other.values.length},Variable.prototype.sameMode=function(other){return this.mode()===other.mode()},Variable})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./utils":42,"./variable/datetime":44,"./variable/factor":45,"./variable/logical":46,"./variable/ordinal":47,"./variable/scalar":48,"./variable/string":49,"linalg-panthr":1}],44:[function(require,module){!function(define){"use strict";define(function(require){return function(Variable){function DateTimeVar(values,options){this.values=null==options.format?0===values.length||"number"==typeof values[0]?values.slice():values.map(utils.makePreserveMissing(function(val){return moment(val).valueOf()})):values.map(utils.makePreserveMissing(function(val){return moment(val,options.format).valueOf()})),this.values=new Variable.Vector(this.values).mutable(!0)}var moment,utils;return moment=require("moment"),utils=require("./../utils"),DateTimeVar.prototype=Object.create(Variable.prototype),DateTimeVar.prototype._set=function(i,val,format){function getMillis(v){return Array.isArray(v)?v.map(getMillis):utils.singleMissing("string"==typeof v?f(v):v)}var f;f=null==format?function(s){return moment(s)}:function(s){return moment(s,format)},this.values.set(i,getMillis(val))},DateTimeVar.prototype.asString=function(){return this.map(function(val){return moment(val).format()},!0,"string").names(this.names())},DateTimeVar}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../utils":42,moment:93}],45:[function(require,module){!function(define){"use strict";define(function(require){return function(Variable){function FactorVar(values,options){options.hasOwnProperty("levels")?this.levels(options.levels):this.levels(values.slice().sort()),this.values=new Variable.Vector(this.getCodes(values)).mutable(!0)}var utils;return utils=require("./../utils"),FactorVar.prototype=Object.create(Variable.prototype),FactorVar.prototype.levels=function(arr){var i;if(0===arguments.length)return this.c2v.slice(1);for(this.c2v=[utils.missing],this.v2c={},i=0;i<arr.length;i+=1)utils.isNotMissing(arr[i])&&!this.v2c.hasOwnProperty(arr[i])&&(this.v2c[arr[i]]=this.c2v.length,this.c2v.push(arr[i].toString()));return this},FactorVar.prototype.getCodes=function(values){var v2c;return v2c=this.v2c,values.map(utils.makePreserveMissing(function(val){return v2c[val]}))},FactorVar.prototype._get=function(i){var c2v;return c2v=this.c2v,utils.isMissing(i)&&(i=null),"number"==typeof i?utils.singleMissing(c2v[this.values.get(i)]):this.values.get(i).map(utils.makePreserveMissing(function(code){return c2v[code]}))},FactorVar.prototype._set=function(i,val){function getCode(v){if(Array.isArray(v))return v.map(getCode);if(utils.isMissing(v))return utils.missing;if("string"==typeof v){if(!v2c.hasOwnProperty(v))throw new Error("Invalid value for factor");return v2c[v]}if(isNaN(v)||1>v||v>=c2v.length)throw new Error("Invalid value for factor");return Math.floor(v)}var c2v,v2c;return c2v=this.c2v,v2c=this.v2c,1===arguments.length?this.values.set(getCode(i)):this.values.set(i,getCode(val)),this},FactorVar.prototype.reproduce=function(newValues,newNames){var newVar;return newValues=newValues.map(function(code){return this.c2v[code]}.bind(this)),newVar=new Variable(newValues,{mode:this.mode(),label:this.label,levels:this.levels()}),newNames?newVar.names(newNames):newVar},FactorVar.prototype.asString=function(){return Variable.string(this.get()).names(this.names())},FactorVar.prototype.toArray=function(){var c2v;return c2v=this.c2v,this.values.toArray().map(utils.makePreserveMissing(function(code){return c2v[code]}))},FactorVar}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../utils":42}],46:[function(require,module){!function(define){"use strict";define(function(require){return function(Variable){function LogicalVar(values){this.values=new Variable.Vector(values).mutable(!0)}var utils;return utils=require("./../utils"),LogicalVar.prototype=Object.create(Variable.prototype),LogicalVar.prototype.asScalar=function(){return new Variable(this.values.map(utils.makePreserveMissing(function(val){return val===!0?1:0}))).names(this.names())},LogicalVar.prototype.which=function(){var arr;return arr=[],this.values.forEach(function(v,i){v!==!1&&arr.push(v===!0?i:utils.missing)}),new Variable(arr)},LogicalVar}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./../utils":42}],47:[function(require,module){!function(define){"use strict";define(function(){return function(Variable){function OrdinalVar(values,options){this.levels(options.levels||values.slice().sort()),this.values=new Variable.Vector(this.getCodes(values)).mutable(!0)}return OrdinalVar.prototype=Object.create(Variable.FactorVar.prototype),OrdinalVar}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],48:[function(require,module){!function(define){"use strict";define(function(){return function(Variable){function ScalarVar(values){this.values=new Variable.Vector(values).mutable(!0)}return ScalarVar.prototype=Object.create(Variable.prototype),ScalarVar}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],49:[function(require,module){!function(define){"use strict";define(function(){return function(Variable){function StringVar(values){this.values=new Variable.Vector(values).mutable(!0)}return StringVar.prototype=Object.create(Variable.prototype),StringVar.prototype.asScalar=function(){return this.map(parseFloat,!0,"scalar").names(this.names())},StringVar}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],50:[function(require,module){!function(define){"use strict";define(function(require){var Base,loader;return Base={},loader=new(require("panthrLoader"))(Base),loader.loadModule(require("./panthrBase")),Base})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./panthrBase":94,panthrLoader:105}],51:[function(require,module){!function(process,__filename){"use strict";function amdefine(module,requireFn){function trimDots(ary){var i,part;for(i=0;ary[i];i+=1)if(part=ary[i],"."===part)ary.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===ary[2]||".."===ary[0]))break;i>0&&(ary.splice(i-1,2),i-=2)}}function normalize(name,baseName){var baseParts;return name&&"."===name.charAt(0)&&baseName&&(baseParts=baseName.split("/"),baseParts=baseParts.slice(0,baseParts.length-1),baseParts=baseParts.concat(name.split("/")),trimDots(baseParts),name=baseParts.join("/")),name}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(id){function load(value){loaderCache[id]=value}return load.fromText=function(){throw new Error("amdefine does not implement load.fromText")},load}function runFactory(id,deps,factory){var r,e,m,result;if(id)e=loaderCache[id]={},m={id:id,uri:__filename,exports:e},r=makeRequire(requireFn,e,m,id);else{if(alreadyCalled)throw new Error("amdefine with no module ID cannot be called more than once per file.");alreadyCalled=!0,e=module.exports,m=module,r=makeRequire(requireFn,e,m,module.id)}deps&&(deps=deps.map(function(depName){return r(depName)})),result="function"==typeof factory?factory.apply(m.exports,deps):factory,void 0!==result&&(m.exports=result,id&&(loaderCache[id]=m.exports))}function define(id,deps,factory){Array.isArray(id)?(factory=deps,deps=id,id=void 0):"string"!=typeof id&&(factory=id,id=deps=void 0),deps&&!Array.isArray(deps)&&(factory=deps,deps=void 0),deps||(deps=["require","exports","module"]),id?defineCache[id]=[id,deps,factory]:runFactory(id,deps,factory)}var makeRequire,stringRequire,defineCache={},loaderCache={},alreadyCalled=!1,path=require("path");return makeRequire=function(systemRequire,exports,module,relId){function amdRequire(deps,callback){return"string"==typeof deps?stringRequire(systemRequire,exports,module,deps,relId):(deps=deps.map(function(depName){return stringRequire(systemRequire,exports,module,depName,relId)}),callback&&process.nextTick(function(){callback.apply(null,deps)}),void 0)}return amdRequire.toUrl=function(filePath){return 0===filePath.indexOf(".")?normalize(filePath,path.dirname(module.filename)):filePath},amdRequire},requireFn=requireFn||function(){return module.require.apply(module,arguments)},stringRequire=function(systemRequire,exports,module,id,relId){var prefix,plugin,index=id.indexOf("!"),originalId=id;if(-1===index){if(id=normalize(id,relId),"require"===id)return makeRequire(systemRequire,exports,module,relId);if("exports"===id)return exports;if("module"===id)return module;if(loaderCache.hasOwnProperty(id))return loaderCache[id];if(defineCache[id])return runFactory.apply(null,defineCache[id]),loaderCache[id];if(systemRequire)return systemRequire(originalId);throw new Error("No module with ID: "+id)}return prefix=id.substring(0,index),id=id.substring(index+1,id.length),plugin=stringRequire(systemRequire,exports,module,prefix,relId),id=plugin.normalize?plugin.normalize(id,makeNormalize(relId)):normalize(id,relId),loaderCache[id]?loaderCache[id]:(plugin.load(id,makeRequire(systemRequire,exports,module,relId),makeLoad(id),{}),loaderCache[id])},define.require=function(id){return loaderCache[id]?loaderCache[id]:defineCache[id]?(runFactory.apply(null,defineCache[id]),loaderCache[id]):void 0},define.amd={},define}module.exports=amdefine}.call(this,require("_process"),"/../panthrBase/node_modules/amdefine/amdefine.js")},{_process:147,path:146}],52:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function create(){var hb=_create();return hb.compile=function(input,options){return _handlebarsCompilerCompiler.compile(input,options,hb)},hb.precompile=function(input,options){return _handlebarsCompilerCompiler.precompile(input,options,hb)},hb.AST=_handlebarsCompilerAst2["default"],hb.Compiler=_handlebarsCompilerCompiler.Compiler,hb.JavaScriptCompiler=_handlebarsCompilerJavascriptCompiler2["default"],hb.Parser=_handlebarsCompilerBase.parser,hb.parse=_handlebarsCompilerBase.parse,hb}exports.__esModule=!0;var _handlebarsRuntime=require("./handlebars.runtime"),_handlebarsRuntime2=_interopRequireDefault(_handlebarsRuntime),_handlebarsCompilerAst=require("./handlebars/compiler/ast"),_handlebarsCompilerAst2=_interopRequireDefault(_handlebarsCompilerAst),_handlebarsCompilerBase=require("./handlebars/compiler/base"),_handlebarsCompilerCompiler=require("./handlebars/compiler/compiler"),_handlebarsCompilerJavascriptCompiler=require("./handlebars/compiler/javascript-compiler"),_handlebarsCompilerJavascriptCompiler2=_interopRequireDefault(_handlebarsCompilerJavascriptCompiler),_handlebarsCompilerVisitor=require("./handlebars/compiler/visitor"),_handlebarsCompilerVisitor2=_interopRequireDefault(_handlebarsCompilerVisitor),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),_create=_handlebarsRuntime2["default"].create,inst=create();inst.create=create,_handlebarsNoConflict2["default"](inst),inst.Visitor=_handlebarsCompilerVisitor2["default"],inst["default"]=inst,exports["default"]=inst,module.exports=exports["default"]},{"./handlebars.runtime":53,"./handlebars/compiler/ast":55,"./handlebars/compiler/base":56,"./handlebars/compiler/compiler":58,"./handlebars/compiler/javascript-compiler":60,"./handlebars/compiler/visitor":63,"./handlebars/no-conflict":77}],53:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function create(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=_handlebarsSafeString2["default"],hb.Exception=_handlebarsException2["default"],hb.Utils=Utils,hb.escapeExpression=Utils.escapeExpression,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb}exports.__esModule=!0;var _handlebarsBase=require("./handlebars/base"),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=require("./handlebars/safe-string"),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=require("./handlebars/exception"),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=require("./handlebars/utils"),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=require("./handlebars/runtime"),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),inst=create();inst.create=create,_handlebarsNoConflict2["default"](inst),inst["default"]=inst,exports["default"]=inst,module.exports=exports["default"]},{"./handlebars/base":54,"./handlebars/exception":67,"./handlebars/no-conflict":77,"./handlebars/runtime":78,"./handlebars/safe-string":79,"./handlebars/utils":80}],54:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{},this.partials=partials||{},this.decorators=decorators||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=require("./utils"),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_helpers=require("./helpers"),_decorators=require("./decorators"),_logger=require("./logger"),_logger2=_interopRequireDefault(_logger),VERSION="4.0.5";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2["default"],log:_logger2["default"].log,registerHelper:function(name,fn){if(_utils.toString.call(name)===objectType){if(fn)throw new _exception2["default"]("Arg not supported with multiple helpers");_utils.extend(this.helpers,name)}else this.helpers[name]=fn},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,partial){if(_utils.toString.call(name)===objectType)_utils.extend(this.partials,name);else{if("undefined"==typeof partial)throw new _exception2["default"]('Attempting to register a partial called "'+name+'" as undefined');this.partials[name]=partial}},unregisterPartial:function(name){delete this.partials[name]},registerDecorator:function(name,fn){if(_utils.toString.call(name)===objectType){if(fn)throw new _exception2["default"]("Arg not supported with multiple decorators");_utils.extend(this.decorators,name)}else this.decorators[name]=fn},unregisterDecorator:function(name){delete this.decorators[name]}};var log=_logger2["default"].log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2["default"]},{"./decorators":65,"./exception":67,"./helpers":68,"./logger":76,"./utils":80}],55:[function(require,module,exports){"use strict";exports.__esModule=!0;var AST={helpers:{helperExpression:function(node){return"SubExpression"===node.type||("MustacheStatement"===node.type||"BlockStatement"===node.type)&&!!(node.params&&node.params.length||node.hash)},scopedId:function(path){return/^\.|this\b/.test(path.original)},simpleId:function(path){return 1===path.parts.length&&!AST.helpers.scopedId(path)&&!path.depth}}};exports["default"]=AST,module.exports=exports["default"]},{}],56:[function(require,module,exports){"use strict";function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function parse(input,options){if("Program"===input.type)return input;_parser2["default"].yy=yy,yy.locInfo=function(locInfo){return new yy.SourceLocation(options&&options.srcName,locInfo)};var strip=new _whitespaceControl2["default"](options);return strip.accept(_parser2["default"].parse(input))}exports.__esModule=!0,exports.parse=parse;var _parser=require("./parser"),_parser2=_interopRequireDefault(_parser),_whitespaceControl=require("./whitespace-control"),_whitespaceControl2=_interopRequireDefault(_whitespaceControl),_helpers=require("./helpers"),Helpers=_interopRequireWildcard(_helpers),_utils=require("../utils");exports.parser=_parser2["default"];var yy={};_utils.extend(yy,Helpers)},{"../utils":80,"./helpers":59,"./parser":61,"./whitespace-control":64}],57:[function(require,module,exports){"use strict";function castChunk(chunk,codeGen,loc){if(_utils.isArray(chunk)){for(var ret=[],i=0,len=chunk.length;len>i;i++)ret.push(codeGen.wrap(chunk[i],loc));return ret}return"boolean"==typeof chunk||"number"==typeof chunk?chunk+"":chunk}function CodeGen(srcFile){this.srcFile=srcFile,this.source=[]}exports.__esModule=!0;var _utils=require("../utils"),SourceNode=void 0;try{if("function"!=typeof define||!define.amd){var SourceMap=require("source-map");SourceNode=SourceMap.SourceNode}}catch(err){}SourceNode||(SourceNode=function(line,column,srcFile,chunks){this.src="",chunks&&this.add(chunks)},SourceNode.prototype={add:function(chunks){_utils.isArray(chunks)&&(chunks=chunks.join("")),this.src+=chunks},prepend:function(chunks){_utils.isArray(chunks)&&(chunks=chunks.join("")),this.src=chunks+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(source,loc){this.source.unshift(this.wrap(source,loc))},push:function(source,loc){this.source.push(this.wrap(source,loc))},merge:function(){var source=this.empty();return this.each(function(line){source.add(["  ",line,"\n"])}),source},each:function(iter){for(var i=0,len=this.source.length;len>i;i++)iter(this.source[i])},empty:function(){var loc=this.currentLocation||{start:{}};return new SourceNode(loc.start.line,loc.start.column,this.srcFile)},wrap:function(chunk){var loc=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return chunk instanceof SourceNode?chunk:(chunk=castChunk(chunk,this,loc),new SourceNode(loc.start.line,loc.start.column,this.srcFile,chunk))},functionCall:function(fn,type,params){return params=this.generateList(params),this.wrap([fn,type?"."+type+"(":"(",params,")"])},quotedString:function(str){return'"'+(str+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(obj){var pairs=[];for(var key in obj)if(obj.hasOwnProperty(key)){var value=castChunk(obj[key],this);"undefined"!==value&&pairs.push([this.quotedString(key),":",value])}var ret=this.generateList(pairs);return ret.prepend("{"),ret.add("}"),ret},generateList:function(entries){for(var ret=this.empty(),i=0,len=entries.length;len>i;i++)i&&ret.add(","),ret.add(castChunk(entries[i],this));return ret},generateArray:function(entries){var ret=this.generateList(entries);return ret.prepend("["),ret.add("]"),ret}},exports["default"]=CodeGen,module.exports=exports["default"]},{"../utils":80,"source-map":82}],58:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Compiler(){}function precompile(input,options,env){if(null==input||"string"!=typeof input&&"Program"!==input.type)throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input);options=options||{},"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,options,env){function compileInput(){var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,void 0,!0);return env.template(templateSpec)}function ret(context,execOptions){return compiled||(compiled=compileInput()),compiled.call(this,context,execOptions)}if(void 0===options&&(options={}),null==input||"string"!=typeof input&&"Program"!==input.type)throw new _exception2["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input);"data"in options||(options.data=!0),options.compat&&(options.useDepths=!0);var compiled=void 0;return ret._setup=function(setupOptions){return compiled||(compiled=compileInput()),compiled._setup(setupOptions)},ret._child=function(i,data,blockParams,depths){return compiled||(compiled=compileInput()),compiled._child(i,data,blockParams,depths)},ret}function argEquals(a,b){if(a===b)return!0;if(_utils.isArray(a)&&_utils.isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++)if(!argEquals(a[i],b[i]))return!1;return!0}}function transformLiteralToPath(sexpr){if(!sexpr.path.parts){var literal=sexpr.path;sexpr.path={type:"PathExpression",data:!1,depth:0,parts:[literal.original+""],original:literal.original+"",loc:literal.loc}}}exports.__esModule=!0,exports.Compiler=Compiler,exports.precompile=precompile,exports.compile=compile;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception),_utils=require("../utils"),_ast=require("./ast"),_ast2=_interopRequireDefault(_ast),slice=[].slice;Compiler.prototype={compiler:Compiler,equals:function(other){var len=this.opcodes.length;if(other.opcodes.length!==len)return!1;for(var i=0;len>i;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args))return!1}len=this.children.length;for(var i=0;len>i;i++)if(!this.children[i].equals(other.children[i]))return!1;return!0},guid:0,compile:function(program,options){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=options,this.stringParams=options.stringParams,this.trackIds=options.trackIds,options.blockParams=options.blockParams||[];var knownHelpers=options.knownHelpers;if(options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0,lookup:!0},knownHelpers)for(var _name in knownHelpers)_name in knownHelpers&&(options.knownHelpers[_name]=knownHelpers[_name]);return this.accept(program)},compileProgram:function(program){var childCompiler=new this.compiler,result=childCompiler.compile(program,this.options),guid=this.guid++;return this.usePartial=this.usePartial||result.usePartial,this.children[guid]=result,this.useDepths=this.useDepths||result.useDepths,guid},accept:function(node){if(!this[node.type])throw new _exception2["default"]("Unknown type: "+node.type,node);this.sourceNode.unshift(node);var ret=this[node.type](node);return this.sourceNode.shift(),ret},Program:function(program){this.options.blockParams.unshift(program.blockParams);for(var body=program.body,bodyLength=body.length,i=0;bodyLength>i;i++)this.accept(body[i]);return this.options.blockParams.shift(),this.isSimple=1===bodyLength,this.blockParams=program.blockParams?program.blockParams.length:0,this},BlockStatement:function(block){transformLiteralToPath(block);var program=block.program,inverse=block.inverse;program=program&&this.compileProgram(program),inverse=inverse&&this.compileProgram(inverse);var type=this.classifySexpr(block);"helper"===type?this.helperSexpr(block,program,inverse):"simple"===type?(this.simpleSexpr(block),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("blockValue",block.path.original)):(this.ambiguousSexpr(block,program,inverse),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(decorator){var program=decorator.program&&this.compileProgram(decorator.program),params=this.setupFullMustacheParams(decorator,program,void 0),path=decorator.path;this.useDecorators=!0,this.opcode("registerDecorator",params.length,path.original)},PartialStatement:function(partial){this.usePartial=!0;var program=partial.program;program&&(program=this.compileProgram(partial.program));var params=partial.params;if(params.length>1)throw new _exception2["default"]("Unsupported number of partial arguments: "+params.length,partial);params.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):params.push({type:"PathExpression",parts:[],depth:0}));var partialName=partial.name.original,isDynamic="SubExpression"===partial.name.type;isDynamic&&this.accept(partial.name),this.setupFullMustacheParams(partial,program,void 0,!0);var indent=partial.indent||"";this.options.preventIndent&&indent&&(this.opcode("appendContent",indent),indent=""),this.opcode("invokePartial",isDynamic,partialName,indent),this.opcode("append")},PartialBlockStatement:function(partialBlock){this.PartialStatement(partialBlock)},MustacheStatement:function(mustache){this.SubExpression(mustache),mustache.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(decorator){this.DecoratorBlock(decorator)},ContentStatement:function(content){content.value&&this.opcode("appendContent",content.value)},CommentStatement:function(){},SubExpression:function(sexpr){transformLiteralToPath(sexpr);var type=this.classifySexpr(sexpr);"simple"===type?this.simpleSexpr(sexpr):"helper"===type?this.helperSexpr(sexpr):this.ambiguousSexpr(sexpr)},ambiguousSexpr:function(sexpr,program,inverse){var path=sexpr.path,name=path.parts[0],isBlock=null!=program||null!=inverse;this.opcode("getContext",path.depth),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),path.strict=!0,this.accept(path),this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function(sexpr){var path=sexpr.path;path.strict=!0,this.accept(path),this.opcode("resolvePossibleLambda")},helperSexpr:function(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),path=sexpr.path,name=path.parts[0];if(this.options.knownHelpers[name])this.opcode("invokeKnownHelper",params.length,name);else{if(this.options.knownHelpersOnly)throw new _exception2["default"]("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr);path.strict=!0,path.falsy=!0,this.accept(path),this.opcode("invokeHelper",params.length,path.original,_ast2["default"].helpers.simpleId(path))}},PathExpression:function(path){this.addDepth(path.depth),this.opcode("getContext",path.depth);var name=path.parts[0],scoped=_ast2["default"].helpers.scopedId(path),blockParamId=!path.depth&&!scoped&&this.blockParamIndex(name);blockParamId?this.opcode("lookupBlockParam",blockParamId,path.parts):name?path.data?(this.options.data=!0,this.opcode("lookupData",path.depth,path.parts,path.strict)):this.opcode("lookupOnContext",path.parts,path.falsy,path.strict,scoped):this.opcode("pushContext")},StringLiteral:function(string){this.opcode("pushString",string.value)},NumberLiteral:function(number){this.opcode("pushLiteral",number.value)},BooleanLiteral:function(bool){this.opcode("pushLiteral",bool.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(hash){var pairs=hash.pairs,i=0,l=pairs.length;for(this.opcode("pushHash");l>i;i++)this.pushParam(pairs[i].value);for(;i--;)this.opcode("assignToHash",pairs[i].key);this.opcode("popHash")},opcode:function(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(depth){depth&&(this.useDepths=!0)},classifySexpr:function(sexpr){var isSimple=_ast2["default"].helpers.simpleId(sexpr.path),isBlockParam=isSimple&&!!this.blockParamIndex(sexpr.path.parts[0]),isHelper=!isBlockParam&&_ast2["default"].helpers.helperExpression(sexpr),isEligible=!isBlockParam&&(isHelper||isSimple);if(isEligible&&!isHelper){var _name2=sexpr.path.parts[0],options=this.options;
options.knownHelpers[_name2]?isHelper=!0:options.knownHelpersOnly&&(isEligible=!1)}return isHelper?"helper":isEligible?"ambiguous":"simple"},pushParams:function(params){for(var i=0,l=params.length;l>i;i++)this.pushParam(params[i])},pushParam:function(val){var value=null!=val.value?val.value:val.original||"";if(this.stringParams)value.replace&&(value=value.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),val.depth&&this.addDepth(val.depth),this.opcode("getContext",val.depth||0),this.opcode("pushStringParam",value,val.type),"SubExpression"===val.type&&this.accept(val);else{if(this.trackIds){var blockParamIndex=void 0;if(!val.parts||_ast2["default"].helpers.scopedId(val)||val.depth||(blockParamIndex=this.blockParamIndex(val.parts[0])),blockParamIndex){var blockParamChild=val.parts.slice(1).join(".");this.opcode("pushId","BlockParam",blockParamIndex,blockParamChild)}else value=val.original||value,value.replace&&(value=value.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",val.type,value)}this.accept(val)}},setupFullMustacheParams:function(sexpr,program,inverse,omitEmpty){var params=sexpr.params;return this.pushParams(params),this.opcode("pushProgram",program),this.opcode("pushProgram",inverse),sexpr.hash?this.accept(sexpr.hash):this.opcode("emptyHash",omitEmpty),params},blockParamIndex:function(name){for(var depth=0,len=this.options.blockParams.length;len>depth;depth++){var blockParams=this.options.blockParams[depth],param=blockParams&&_utils.indexOf(blockParams,name);if(blockParams&&param>=0)return[depth,param]}}}},{"../exception":67,"../utils":80,"./ast":55}],59:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function validateClose(open,close){if(close=close.path?close.path.original:close,open.path.original!==close){var errorNode={loc:open.path.loc};throw new _exception2["default"](open.path.original+" doesn't match "+close,errorNode)}}function SourceLocation(source,locInfo){this.source=source,this.start={line:locInfo.first_line,column:locInfo.first_column},this.end={line:locInfo.last_line,column:locInfo.last_column}}function id(token){return/^\[.*\]$/.test(token)?token.substr(1,token.length-2):token}function stripFlags(open,close){return{open:"~"===open.charAt(2),close:"~"===close.charAt(close.length-3)}}function stripComment(comment){return comment.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(data,parts,loc){loc=this.locInfo(loc);for(var original=data?"@":"",dig=[],depth=0,depthString="",i=0,l=parts.length;l>i;i++){var part=parts[i].part,isLiteral=parts[i].original!==part;if(original+=(parts[i].separator||"")+part,isLiteral||".."!==part&&"."!==part&&"this"!==part)dig.push(part);else{if(dig.length>0)throw new _exception2["default"]("Invalid path: "+original,{loc:loc});".."===part&&(depth++,depthString+="../")}}return{type:"PathExpression",data:data,depth:depth,parts:dig,original:original,loc:loc}}function prepareMustache(path,params,hash,open,strip,locInfo){var escapeFlag=open.charAt(3)||open.charAt(2),escaped="{"!==escapeFlag&&"&"!==escapeFlag,decorator=/\*/.test(open);return{type:decorator?"Decorator":"MustacheStatement",path:path,params:params,hash:hash,escaped:escaped,strip:strip,loc:this.locInfo(locInfo)}}function prepareRawBlock(openRawBlock,contents,close,locInfo){validateClose(openRawBlock,close),locInfo=this.locInfo(locInfo);var program={type:"Program",body:contents,strip:{},loc:locInfo};return{type:"BlockStatement",path:openRawBlock.path,params:openRawBlock.params,hash:openRawBlock.hash,program:program,openStrip:{},inverseStrip:{},closeStrip:{},loc:locInfo}}function prepareBlock(openBlock,program,inverseAndProgram,close,inverted,locInfo){close&&close.path&&validateClose(openBlock,close);var decorator=/\*/.test(openBlock.open);program.blockParams=openBlock.blockParams;var inverse=void 0,inverseStrip=void 0;if(inverseAndProgram){if(decorator)throw new _exception2["default"]("Unexpected inverse block on decorator",inverseAndProgram);inverseAndProgram.chain&&(inverseAndProgram.program.body[0].closeStrip=close.strip),inverseStrip=inverseAndProgram.strip,inverse=inverseAndProgram.program}return inverted&&(inverted=inverse,inverse=program,program=inverted),{type:decorator?"DecoratorBlock":"BlockStatement",path:openBlock.path,params:openBlock.params,hash:openBlock.hash,program:program,inverse:inverse,openStrip:openBlock.strip,inverseStrip:inverseStrip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}function prepareProgram(statements,loc){if(!loc&&statements.length){var firstLoc=statements[0].loc,lastLoc=statements[statements.length-1].loc;firstLoc&&lastLoc&&(loc={source:firstLoc.source,start:{line:firstLoc.start.line,column:firstLoc.start.column},end:{line:lastLoc.end.line,column:lastLoc.end.column}})}return{type:"Program",body:statements,strip:{},loc:loc}}function preparePartialBlock(open,program,close,locInfo){return validateClose(open,close),{type:"PartialBlockStatement",name:open.path,params:open.params,hash:open.hash,program:program,openStrip:open.strip,closeStrip:close&&close.strip,loc:this.locInfo(locInfo)}}exports.__esModule=!0,exports.SourceLocation=SourceLocation,exports.id=id,exports.stripFlags=stripFlags,exports.stripComment=stripComment,exports.preparePath=preparePath,exports.prepareMustache=prepareMustache,exports.prepareRawBlock=prepareRawBlock,exports.prepareBlock=prepareBlock,exports.prepareProgram=prepareProgram,exports.preparePartialBlock=preparePartialBlock;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception)},{"../exception":67}],60:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Literal(value){this.value=value}function JavaScriptCompiler(){}function strictLookup(requireTerminal,compiler,parts,type){var stack=compiler.popStack(),i=0,len=parts.length;for(requireTerminal&&len--;len>i;i++)stack=compiler.nameLookup(stack,parts[i],type);return requireTerminal?[compiler.aliasable("container.strict"),"(",stack,", ",compiler.quotedString(parts[i]),")"]:stack}exports.__esModule=!0;var _base=require("../base"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception),_utils=require("../utils"),_codeGen=require("./code-gen"),_codeGen2=_interopRequireDefault(_codeGen);JavaScriptCompiler.prototype={nameLookup:function(parent,name){return JavaScriptCompiler.isValidJavaScriptVariableName(name)?[parent,".",name]:[parent,"[",JSON.stringify(name),"]"]},depthedLookup:function(name){return[this.aliasable("container.lookup"),'(depths, "',name,'")']},compilerInfo:function(){var revision=_base.COMPILER_REVISION,versions=_base.REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function(source,location,explicit){return _utils.isArray(source)||(source=[source]),source=this.source.wrap(source,location),this.environment.isSimple?["return ",source,";"]:explicit?["buffer += ",source,";"]:(source.appendToBuffer=!0,source)},initializeBuffer:function(){return this.quotedString("")},compile:function(environment,options,context,asObject){this.environment=environment,this.options=options,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!asObject,this.name=this.environment.name,this.isChild=!!context,this.context=context||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(environment,options),this.useDepths=this.useDepths||environment.useDepths||environment.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||environment.useBlockParams;var opcodes=environment.opcodes,opcode=void 0,firstLoc=void 0,i=void 0,l=void 0;for(i=0,l=opcodes.length;l>i;i++)opcode=opcodes[i],this.source.currentLocation=opcode.loc,firstLoc=firstLoc||opcode.loc,this[opcode.opcode].apply(this,opcode.args);if(this.source.currentLocation=firstLoc,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new _exception2["default"]("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),asObject?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var fn=this.createFunctionContext(asObject);if(this.isChild)return fn;var ret={compiler:this.compilerInfo(),main:fn};this.decorators&&(ret.main_d=this.decorators,ret.useDecorators=!0);var _context=this.context,programs=_context.programs,decorators=_context.decorators;for(i=0,l=programs.length;l>i;i++)programs[i]&&(ret[i]=programs[i],decorators[i]&&(ret[i+"_d"]=decorators[i],ret.useDecorators=!0));return this.environment.usePartial&&(ret.usePartial=!0),this.options.data&&(ret.useData=!0),this.useDepths&&(ret.useDepths=!0),this.useBlockParams&&(ret.useBlockParams=!0),this.options.compat&&(ret.compat=!0),asObject?ret.compilerOptions=this.options:(ret.compiler=JSON.stringify(ret.compiler),this.source.currentLocation={start:{line:1,column:0}},ret=this.objectLiteral(ret),options.srcName?(ret=ret.toStringWithSourceMap({file:options.destName}),ret.map=ret.map&&ret.map.toString()):ret=ret.toString()),ret},preamble:function(){this.lastContext=0,this.source=new _codeGen2["default"](this.options.srcName),this.decorators=new _codeGen2["default"](this.options.srcName)},createFunctionContext:function(asObject){var varDeclarations="",locals=this.stackVars.concat(this.registers.list);locals.length>0&&(varDeclarations+=", "+locals.join(", "));var aliasCount=0;for(var alias in this.aliases){var node=this.aliases[alias];this.aliases.hasOwnProperty(alias)&&node.children&&node.referenceCount>1&&(varDeclarations+=", alias"+ ++aliasCount+"="+alias,node.children[0]="alias"+aliasCount)}var params=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&params.push("blockParams"),this.useDepths&&params.push("depths");var source=this.mergeSource(varDeclarations);return asObject?(params.push(source),Function.apply(this,params)):this.source.wrap(["function(",params.join(","),") {\n  ",source,"}"])},mergeSource:function(varDeclarations){var isSimple=this.environment.isSimple,appendOnly=!this.forceBuffer,appendFirst=void 0,sourceSeen=void 0,bufferStart=void 0,bufferEnd=void 0;return this.source.each(function(line){line.appendToBuffer?(bufferStart?line.prepend("  + "):bufferStart=line,bufferEnd=line):(bufferStart&&(sourceSeen?bufferStart.prepend("buffer += "):appendFirst=!0,bufferEnd.add(";"),bufferStart=bufferEnd=void 0),sourceSeen=!0,isSimple||(appendOnly=!1))}),appendOnly?bufferStart?(bufferStart.prepend("return "),bufferEnd.add(";")):sourceSeen||this.source.push('return "";'):(varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer()),bufferStart?(bufferStart.prepend("return buffer + "),bufferEnd.add(";")):this.source.push("return buffer;")),varDeclarations&&this.source.prepend("var "+varDeclarations.substring(2)+(appendFirst?"":";\n")),this.source.merge()},blockValue:function(name){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName),this.push(this.source.functionCall(blockHelperMissing,"call",params))},ambiguousBlockValue:function(){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs("",0,params,!0),this.flushInline();var current=this.topStack();params.splice(1,0,current),this.pushSource(["if (!",this.lastHelper,") { ",current," = ",this.source.functionCall(blockHelperMissing,"call",params),"}"])},appendContent:function(content){this.pendingContent?content=this.pendingContent+content:this.pendingLocation=this.source.currentLocation,this.pendingContent=content},append:function(){if(this.isInline())this.replaceStack(function(current){return[" != null ? ",current,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var local=this.popStack();this.pushSource(["if (",local," != null) { ",this.appendToBuffer(local,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(depth){this.lastContext=depth},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(parts,falsy,strict,scoped){var i=0;scoped||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(parts[i++])),this.resolvePath("context",parts,i,falsy,strict)},lookupBlockParam:function(blockParamId,parts){this.useBlockParams=!0,this.push(["blockParams[",blockParamId[0],"][",blockParamId[1],"]"]),this.resolvePath("context",parts,1)},lookupData:function(depth,parts,strict){depth?this.pushStackLiteral("container.data(data, "+depth+")"):this.pushStackLiteral("data"),this.resolvePath("data",parts,0,!0,strict)},resolvePath:function(type,parts,i,falsy,strict){var _this=this;if(this.options.strict||this.options.assumeObjects)return this.push(strictLookup(this.options.strict&&strict,this,parts,type)),void 0;for(var len=parts.length;len>i;i++)this.replaceStack(function(current){var lookup=_this.nameLookup(current,parts[i],type);return falsy?[" && ",lookup]:[" != null ? ",lookup," : ",current]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(string,type){this.pushContext(),this.pushString(type),"SubExpression"!==type&&("string"==typeof string?this.pushString(string):this.pushStackLiteral(string))},emptyHash:function(omitEmpty){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(omitEmpty?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var hash=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(hash.ids)),this.stringParams&&(this.push(this.objectLiteral(hash.contexts)),this.push(this.objectLiteral(hash.types))),this.push(this.objectLiteral(hash.values))},pushString:function(string){this.pushStackLiteral(this.quotedString(string))},pushLiteral:function(value){this.pushStackLiteral(value)},pushProgram:function(guid){null!=guid?this.pushStackLiteral(this.programExpression(guid)):this.pushStackLiteral(null)},registerDecorator:function(paramSize,name){var foundDecorator=this.nameLookup("decorators",name,"decorator"),options=this.setupHelperArgs(name,paramSize);this.decorators.push(["fn = ",this.decorators.functionCall(foundDecorator,"",["fn","props","container",options])," || fn;"])},invokeHelper:function(paramSize,name,isSimple){var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),simple=isSimple?[helper.name," || "]:"",lookup=["("].concat(simple,nonHelper);this.options.strict||lookup.push(" || ",this.aliasable("helpers.helperMissing")),lookup.push(")"),this.push(this.source.functionCall(lookup,"call",helper.callParams))},invokeKnownHelper:function(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(this.source.functionCall(helper.name,"call",helper.callParams))},invokeAmbiguous:function(name,helperCall){this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall),helperName=this.lastHelper=this.nameLookup("helpers",name,"helper"),lookup=["(","(helper = ",helperName," || ",nonHelper,")"];this.options.strict||(lookup[0]="(helper = ",lookup.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",lookup,helper.paramsInit?["),(",helper.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",helper.callParams)," : helper))"])},invokePartial:function(isDynamic,name,indent){var params=[],options=this.setupParams(name,1,params);isDynamic&&(name=this.popStack(),delete options.name),indent&&(options.indent=JSON.stringify(indent)),options.helpers="helpers",options.partials="partials",options.decorators="container.decorators",isDynamic?params.unshift(name):params.unshift(this.nameLookup("partials",name,"partial")),this.options.compat&&(options.depths="depths"),options=this.objectLiteral(options),params.push(options),this.push(this.source.functionCall("container.invokePartial","",params))},assignToHash:function(key){var value=this.popStack(),context=void 0,type=void 0,id=void 0;this.trackIds&&(id=this.popStack()),this.stringParams&&(type=this.popStack(),context=this.popStack());var hash=this.hash;context&&(hash.contexts[key]=context),type&&(hash.types[key]=type),id&&(hash.ids[key]=id),hash.values[key]=value},pushId:function(type,name,child){"BlockParam"===type?this.pushStackLiteral("blockParams["+name[0]+"].path["+name[1]+"]"+(child?" + "+JSON.stringify("."+child):"")):"PathExpression"===type?this.pushString(name):"SubExpression"===type?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(environment,options){for(var children=environment.children,child=void 0,compiler=void 0,i=0,l=children.length;l>i;i++){child=children[i],compiler=new this.compiler;var index=this.matchExistingProgram(child);null==index?(this.context.programs.push(""),index=this.context.programs.length,child.index=index,child.name="program"+index,this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile),this.context.decorators[index]=compiler.decorators,this.context.environments[index]=child,this.useDepths=this.useDepths||compiler.useDepths,this.useBlockParams=this.useBlockParams||compiler.useBlockParams):(child.index=index,child.name="program"+index,this.useDepths=this.useDepths||child.useDepths,this.useBlockParams=this.useBlockParams||child.useBlockParams)}},matchExistingProgram:function(child){for(var i=0,len=this.context.environments.length;len>i;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child))return i}},programExpression:function(guid){var child=this.environment.children[guid],programParams=[child.index,"data",child.blockParams];return(this.useBlockParams||this.useDepths)&&programParams.push("blockParams"),this.useDepths&&programParams.push("depths"),"container.program("+programParams.join(", ")+")"},useRegister:function(name){this.registers[name]||(this.registers[name]=!0,this.registers.list.push(name))},push:function(expr){return expr instanceof Literal||(expr=this.source.wrap(expr)),this.inlineStack.push(expr),expr},pushStackLiteral:function(item){this.push(new Literal(item))},pushSource:function(source){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),source&&this.source.push(source)},replaceStack:function(callback){var prefix=["("],stack=void 0,createdStack=void 0,usedLiteral=void 0;if(!this.isInline())throw new _exception2["default"]("replaceStack on non-inline");var top=this.popStack(!0);if(top instanceof Literal)stack=[top.value],prefix=["(",stack],usedLiteral=!0;else{createdStack=!0;var _name=this.incrStack();prefix=["((",this.push(_name)," = ",top,")"],stack=this.topStack()}var item=callback.call(this,stack);usedLiteral||this.popStack(),createdStack&&this.stackSlot--,this.push(prefix.concat(item,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var inlineStack=this.inlineStack;this.inlineStack=[];for(var i=0,len=inlineStack.length;len>i;i++){var entry=inlineStack[i];if(entry instanceof Literal)this.compileStack.push(entry);else{var stack=this.incrStack();this.pushSource([stack," = ",entry,";"]),this.compileStack.push(stack)}}},isInline:function(){return this.inlineStack.length},popStack:function(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal)return item.value;if(!inline){if(!this.stackSlot)throw new _exception2["default"]("Invalid stack pop");this.stackSlot--}return item},topStack:function(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];return item instanceof Literal?item.value:item},contextName:function(context){return this.useDepths&&context?"depths["+context+"]":"depth"+context},quotedString:function(str){return this.source.quotedString(str)},objectLiteral:function(obj){return this.source.objectLiteral(obj)},aliasable:function(name){var ret=this.aliases[name];return ret?(ret.referenceCount++,ret):(ret=this.aliases[name]=this.source.wrap(name),ret.aliasable=!0,ret.referenceCount=1,ret)},setupHelper:function(paramSize,name,blockHelper){var params=[],paramsInit=this.setupHelperArgs(name,paramSize,params,blockHelper),foundHelper=this.nameLookup("helpers",name,"helper"),callContext=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : {}");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:[callContext].concat(params)}},setupParams:function(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],objectArgs=!params,param=void 0;objectArgs&&(params=[]),options.name=this.quotedString(helper),options.hash=this.popStack(),this.trackIds&&(options.hashIds=this.popStack()),this.stringParams&&(options.hashTypes=this.popStack(),options.hashContexts=this.popStack());var inverse=this.popStack(),program=this.popStack();(program||inverse)&&(options.fn=program||"container.noop",options.inverse=inverse||"container.noop");for(var i=paramSize;i--;)param=this.popStack(),params[i]=param,this.trackIds&&(ids[i]=this.popStack()),this.stringParams&&(types[i]=this.popStack(),contexts[i]=this.popStack());return objectArgs&&(options.args=this.source.generateArray(params)),this.trackIds&&(options.ids=this.source.generateArray(ids)),this.stringParams&&(options.types=this.source.generateArray(types),options.contexts=this.source.generateArray(contexts)),this.options.data&&(options.data="data"),this.useBlockParams&&(options.blockParams="blockParams"),options},setupHelperArgs:function(helper,paramSize,params,useRegister){var options=this.setupParams(helper,paramSize,params);return options=this.objectLiteral(options),useRegister?(this.useRegister("options"),params.push("options"),["options=",options]):params?(params.push(options),""):options}},function(){for(var reservedWords="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),compilerWords=JavaScriptCompiler.RESERVED_WORDS={},i=0,l=reservedWords.length;l>i;i++)compilerWords[reservedWords[i]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)},exports["default"]=JavaScriptCompiler,module.exports=exports["default"]},{"../base":54,"../exception":67,"../utils":80,"./code-gen":57}],61:[function(require,module,exports){"use strict";var handlebars=function(){function Parser(){this.yy={}}var parser={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];case 2:this.$=yy.prepareProgram($$[$0]);break;case 3:this.$=$$[$0];break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=$$[$0];break;case 7:this.$=$$[$0];break;case 8:this.$=$$[$0];break;case 9:this.$={type:"CommentStatement",value:yy.stripComment($$[$0]),strip:yy.stripFlags($$[$0],$$[$0]),loc:yy.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:$$[$0],value:$$[$0],loc:yy.locInfo(this._$)};break;case 11:this.$=yy.prepareRawBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 12:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1]};break;case 13:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!1,this._$);break;case 14:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],!0,this._$);break;case 15:this.$={open:$$[$0-5],path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 16:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 17:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 18:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 19:var inverse=yy.prepareBlock($$[$0-2],$$[$0-1],$$[$0],$$[$0],!1,this._$),program=yy.prepareProgram([inverse],$$[$0-1].loc);program.chained=!0,this.$={strip:$$[$0-2].strip,program:program,chain:!0};break;case 20:this.$=$$[$0];break;case 21:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 22:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 23:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 24:this.$={type:"PartialStatement",name:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],indent:"",strip:yy.stripFlags($$[$0-4],$$[$0]),loc:yy.locInfo(this._$)};break;case 25:this.$=yy.preparePartialBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 26:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],strip:yy.stripFlags($$[$0-4],$$[$0])};break;case 27:this.$=$$[$0];break;case 28:this.$=$$[$0];break;case 29:this.$={type:"SubExpression",path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1],loc:yy.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:$$[$0],loc:yy.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:yy.id($$[$0-2]),value:$$[$0],loc:yy.locInfo(this._$)};break;case 32:this.$=yy.id($$[$0-1]);break;case 33:this.$=$$[$0];break;case 34:this.$=$$[$0];break;case 35:this.$={type:"StringLiteral",value:$$[$0],original:$$[$0],loc:yy.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number($$[$0]),original:Number($$[$0]),loc:yy.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===$$[$0],original:"true"===$$[$0],loc:yy.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:yy.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:yy.locInfo(this._$)};break;case 40:this.$=$$[$0];break;case 41:this.$=$$[$0];break;case 42:this.$=yy.preparePath(!0,$$[$0],this._$);break;case 43:this.$=yy.preparePath(!1,$$[$0],this._$);break;case 44:$$[$0-2].push({part:yy.id($$[$0]),original:$$[$0],separator:$$[$0-1]}),this.$=$$[$0-2];break;case 45:this.$=[{part:yy.id($$[$0]),original:$$[$0]}];break;case 46:this.$=[];break;case 47:$$[$0-1].push($$[$0]);break;case 48:this.$=[$$[$0]];break;case 49:$$[$0-1].push($$[$0]);break;case 50:this.$=[];break;case 51:$$[$0-1].push($$[$0]);break;case 58:this.$=[];break;case 59:$$[$0-1].push($$[$0]);break;case 64:this.$=[];break;case 65:$$[$0-1].push($$[$0]);break;case 70:this.$=[];break;case 71:$$[$0-1].push($$[$0]);break;case 78:this.$=[];break;case 79:$$[$0-1].push($$[$0]);break;case 82:this.$=[];break;case 83:$$[$0-1].push($$[$0]);break;case 86:this.$=[];break;case 87:$$[$0-1].push($$[$0]);break;case 90:this.$=[];break;case 91:$$[$0-1].push($$[$0]);break;case 94:this.$=[];break;case 95:$$[$0-1].push($$[$0]);break;case 98:this.$=[$$[$0]];break;case 99:$$[$0-1].push($$[$0]);break;case 100:this.$=[$$[$0]];break;case 101:$$[$0-1].push($$[$0])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(str){throw new Error(str)
},parse:function(input){function lex(){var token;return token=self.lexer.lex()||1,"number"!=typeof token&&(token=self.symbols_[token]||token),token}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0;this.lexer.setInput(input),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:((null===symbol||"undefined"==typeof symbol)&&(symbol=lex()),action=table[state]&&table[state][symbol]),"undefined"==typeof action||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])this.terminals_[p]&&p>2&&expected.push("'"+this.terminals_[p]+"'");errStr=this.lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(1==symbol?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(this.lexer.yytext),lstack.push(this.lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=this.lexer.yyleng,yytext=this.lexer.yytext,yylineno=this.lexer.yylineno,yyloc=this.lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack),"undefined"!=typeof r)return r;len&&(stack=stack.slice(0,2*-1*len),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}},lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input){return this._input=input,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len-1),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this},more:function(){return this._more=!0,this},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index,lines;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length&&(tempMatch=this._input.match(this.rules[rules[i]]),!tempMatch||match&&!(tempMatch[0].length>match[0].length)||(match=tempMatch,index=i,this.options.flex));i++);return match?(lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token?token:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return"undefined"!=typeof r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(condition){this.begin(condition)}};return lexer.options={},lexer.performAction=function(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}switch($avoiding_name_collisions){case 0:if("\\\\"===yy_.yytext.slice(-2)?(strip(0,1),this.begin("mu")):"\\"===yy_.yytext.slice(-1)?(strip(0,1),this.begin("emu")):this.begin("mu"),yy_.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(yy_.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return yy_.yytext=strip(1,2).replace(/\\"/g,'"'),80;case 32:return yy_.yytext=strip(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return yy_.yytext=yy_.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],lexer.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();exports.__esModule=!0,exports["default"]=handlebars},{}],62:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function print(ast){return(new PrintVisitor).accept(ast)}function PrintVisitor(){this.padding=0}exports.__esModule=!0,exports.print=print,exports.PrintVisitor=PrintVisitor;var _visitor=require("./visitor"),_visitor2=_interopRequireDefault(_visitor);PrintVisitor.prototype=new _visitor2["default"],PrintVisitor.prototype.pad=function(string){for(var out="",i=0,l=this.padding;l>i;i++)out+="  ";return out+=string+"\n"},PrintVisitor.prototype.Program=function(program){var out="",body=program.body,i=void 0,l=void 0;if(program.blockParams){var blockParams="BLOCK PARAMS: [";for(i=0,l=program.blockParams.length;l>i;i++)blockParams+=" "+program.blockParams[i];blockParams+=" ]",out+=this.pad(blockParams)}for(i=0,l=body.length;l>i;i++)out+=this.accept(body[i]);return this.padding--,out},PrintVisitor.prototype.MustacheStatement=function(mustache){return this.pad("{{ "+this.SubExpression(mustache)+" }}")},PrintVisitor.prototype.Decorator=function(mustache){return this.pad("{{ DIRECTIVE "+this.SubExpression(mustache)+" }}")},PrintVisitor.prototype.BlockStatement=PrintVisitor.prototype.DecoratorBlock=function(block){var out="";return out+=this.pad(("DecoratorBlock"===block.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,out+=this.pad(this.SubExpression(block)),block.program&&(out+=this.pad("PROGRAM:"),this.padding++,out+=this.accept(block.program),this.padding--),block.inverse&&(block.program&&this.padding++,out+=this.pad("{{^}}"),this.padding++,out+=this.accept(block.inverse),this.padding--,block.program&&this.padding--),this.padding--,out},PrintVisitor.prototype.PartialStatement=function(partial){var content="PARTIAL:"+partial.name.original;return partial.params[0]&&(content+=" "+this.accept(partial.params[0])),partial.hash&&(content+=" "+this.accept(partial.hash)),this.pad("{{> "+content+" }}")},PrintVisitor.prototype.PartialBlockStatement=function(partial){var content="PARTIAL BLOCK:"+partial.name.original;return partial.params[0]&&(content+=" "+this.accept(partial.params[0])),partial.hash&&(content+=" "+this.accept(partial.hash)),content+=" "+this.pad("PROGRAM:"),this.padding++,content+=this.accept(partial.program),this.padding--,this.pad("{{> "+content+" }}")},PrintVisitor.prototype.ContentStatement=function(content){return this.pad("CONTENT[ '"+content.value+"' ]")},PrintVisitor.prototype.CommentStatement=function(comment){return this.pad("{{! '"+comment.value+"' }}")},PrintVisitor.prototype.SubExpression=function(sexpr){for(var params=sexpr.params,paramStrings=[],hash=void 0,i=0,l=params.length;l>i;i++)paramStrings.push(this.accept(params[i]));return params="["+paramStrings.join(", ")+"]",hash=sexpr.hash?" "+this.accept(sexpr.hash):"",this.accept(sexpr.path)+" "+params+hash},PrintVisitor.prototype.PathExpression=function(id){var path=id.parts.join("/");return(id.data?"@":"")+"PATH:"+path},PrintVisitor.prototype.StringLiteral=function(string){return'"'+string.value+'"'},PrintVisitor.prototype.NumberLiteral=function(number){return"NUMBER{"+number.value+"}"},PrintVisitor.prototype.BooleanLiteral=function(bool){return"BOOLEAN{"+bool.value+"}"},PrintVisitor.prototype.UndefinedLiteral=function(){return"UNDEFINED"},PrintVisitor.prototype.NullLiteral=function(){return"NULL"},PrintVisitor.prototype.Hash=function(hash){for(var pairs=hash.pairs,joinedPairs=[],i=0,l=pairs.length;l>i;i++)joinedPairs.push(this.accept(pairs[i]));return"HASH{"+joinedPairs.join(", ")+"}"},PrintVisitor.prototype.HashPair=function(pair){return pair.key+"="+this.accept(pair.value)}},{"./visitor":63}],63:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function Visitor(){this.parents=[]}function visitSubExpression(mustache){this.acceptRequired(mustache,"path"),this.acceptArray(mustache.params),this.acceptKey(mustache,"hash")}function visitBlock(block){visitSubExpression.call(this,block),this.acceptKey(block,"program"),this.acceptKey(block,"inverse")}function visitPartial(partial){this.acceptRequired(partial,"name"),this.acceptArray(partial.params),this.acceptKey(partial,"hash")}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(node,name){var value=this.accept(node[name]);if(this.mutating){if(value&&!Visitor.prototype[value.type])throw new _exception2["default"]('Unexpected node type "'+value.type+'" found when accepting '+name+" on "+node.type);node[name]=value}},acceptRequired:function(node,name){if(this.acceptKey(node,name),!node[name])throw new _exception2["default"](node.type+" requires "+name)},acceptArray:function(array){for(var i=0,l=array.length;l>i;i++)this.acceptKey(array,i),array[i]||(array.splice(i,1),i--,l--)},accept:function(object){if(object){if(!this[object.type])throw new _exception2["default"]("Unknown type: "+object.type,object);this.current&&this.parents.unshift(this.current),this.current=object;var ret=this[object.type](object);return this.current=this.parents.shift(),!this.mutating||ret?ret:ret!==!1?object:void 0}},Program:function(program){this.acceptArray(program.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(partial){visitPartial.call(this,partial),this.acceptKey(partial,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(hash){this.acceptArray(hash.pairs)},HashPair:function(pair){this.acceptRequired(pair,"value")}},exports["default"]=Visitor,module.exports=exports["default"]},{"../exception":67}],64:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function WhitespaceControl(){var options=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=options}function isPrevWhitespace(body,i,isRoot){void 0===i&&(i=body.length);var prev=body[i-1],sibling=body[i-2];return prev?"ContentStatement"===prev.type?(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original):void 0:isRoot}function isNextWhitespace(body,i,isRoot){void 0===i&&(i=-1);var next=body[i+1],sibling=body[i+2];return next?"ContentStatement"===next.type?(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original):void 0:isRoot}function omitRight(body,i,multiple){var current=body[null==i?0:i+1];if(current&&"ContentStatement"===current.type&&(multiple||!current.rightStripped)){var original=current.value;current.value=current.value.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,""),current.rightStripped=current.value!==original}}function omitLeft(body,i,multiple){var current=body[null==i?body.length-1:i-1];if(current&&"ContentStatement"===current.type&&(multiple||!current.leftStripped)){var original=current.value;return current.value=current.value.replace(multiple?/\s+$/:/[ \t]+$/,""),current.leftStripped=current.value!==original,current.leftStripped}}exports.__esModule=!0;var _visitor=require("./visitor"),_visitor2=_interopRequireDefault(_visitor);WhitespaceControl.prototype=new _visitor2["default"],WhitespaceControl.prototype.Program=function(program){var doStandalone=!this.options.ignoreStandalone,isRoot=!this.isRootSeen;this.isRootSeen=!0;for(var body=program.body,i=0,l=body.length;l>i;i++){var current=body[i],strip=this.accept(current);if(strip){var _isPrevWhitespace=isPrevWhitespace(body,i,isRoot),_isNextWhitespace=isNextWhitespace(body,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;strip.close&&omitRight(body,i,!0),strip.open&&omitLeft(body,i,!0),doStandalone&&inlineStandalone&&(omitRight(body,i),omitLeft(body,i)&&"PartialStatement"===current.type&&(current.indent=/([ \t]+$)/.exec(body[i-1].original)[1])),doStandalone&&openStandalone&&(omitRight((current.program||current.inverse).body),omitLeft(body,i)),doStandalone&&closeStandalone&&(omitRight(body,i),omitLeft((current.inverse||current.program).body))}}return program},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(block){this.accept(block.program),this.accept(block.inverse);var program=block.program||block.inverse,inverse=block.program&&block.inverse,firstInverse=inverse,lastInverse=inverse;if(inverse&&inverse.chained)for(firstInverse=inverse.body[0].program;lastInverse.chained;)lastInverse=lastInverse.body[lastInverse.body.length-1].program;var strip={open:block.openStrip.open,close:block.closeStrip.close,openStandalone:isNextWhitespace(program.body),closeStandalone:isPrevWhitespace((firstInverse||program).body)};if(block.openStrip.close&&omitRight(program.body,null,!0),inverse){var inverseStrip=block.inverseStrip;inverseStrip.open&&omitLeft(program.body,null,!0),inverseStrip.close&&omitRight(firstInverse.body,null,!0),block.closeStrip.open&&omitLeft(lastInverse.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(program.body)&&isNextWhitespace(firstInverse.body)&&(omitLeft(program.body),omitRight(firstInverse.body))}else block.closeStrip.open&&omitLeft(program.body,null,!0);return strip},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(mustache){return mustache.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(node){var strip=node.strip||{};return{inlineStandalone:!0,open:strip.open,close:strip.close}},exports["default"]=WhitespaceControl,module.exports=exports["default"]},{"./visitor":63}],65:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function registerDefaultDecorators(instance){_decoratorsInline2["default"](instance)}exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=require("./decorators/inline"),_decoratorsInline2=_interopRequireDefault(_decoratorsInline)},{"./decorators/inline":66}],66:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;return props.partials||(props.partials={},ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);return container.partials=original,ret}),props.partials[options.args[0]]=options.fn,ret})},module.exports=exports["default"]},{"../utils":80}],67:[function(require,module,exports){"use strict";function Exception(message,node){var loc=node&&node.loc,line=void 0,column=void 0;loc&&(line=loc.start.line,column=loc.start.column,message+=" - "+line+":"+column);for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception),loc&&(this.lineNumber=line,this.column=column)}exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,exports["default"]=Exception,module.exports=exports["default"]},{}],68:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function registerDefaultHelpers(instance){_helpersBlockHelperMissing2["default"](instance),_helpersEach2["default"](instance),_helpersHelperMissing2["default"](instance),_helpersIf2["default"](instance),_helpersLog2["default"](instance),_helpersLookup2["default"](instance),_helpersWith2["default"](instance)}exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=require("./helpers/block-helper-missing"),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=require("./helpers/each"),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=require("./helpers/helper-missing"),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=require("./helpers/if"),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=require("./helpers/log"),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=require("./helpers/lookup"),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=require("./helpers/with"),_helpersWith2=_interopRequireDefault(_helpersWith)},{"./helpers/block-helper-missing":69,"./helpers/each":70,"./helpers/helper-missing":71,"./helpers/if":72,"./helpers/log":73,"./helpers/lookup":74,"./helpers/with":75}],69:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(context===!0)return fn(this);if(context===!1||null==context)return inverse(this);if(_utils.isArray(context))return context.length>0?(options.ids&&(options.ids=[options.name]),instance.helpers.each(context,options)):inverse(this);if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name),options={data:data}}return fn(context,options)})},module.exports=exports["default"]},{"../utils":80}],70:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("each",function(context,options){function execIteration(field,index,last){data&&(data.key=field,data.index=index,data.first=0===index,data.last=!!last,contextPath&&(data.contextPath=contextPath+field)),ret+=fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(!options)throw new _exception2["default"]("Must pass iterator to #each");var fn=options.fn,inverse=options.inverse,i=0,ret="",data=void 0,contextPath=void 0;if(options.data&&options.ids&&(contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."),_utils.isFunction(context)&&(context=context.call(this)),options.data&&(data=_utils.createFrame(options.data)),context&&"object"==typeof context)if(_utils.isArray(context))for(var j=context.length;j>i;i++)i in context&&execIteration(i,i,i===context.length-1);else{var priorKey=void 0;for(var key in context)context.hasOwnProperty(key)&&(void 0!==priorKey&&execIteration(priorKey,i-1),priorKey=key,i++);void 0!==priorKey&&execIteration(priorKey,i-1,!0)}return 0===i&&(ret=inverse(this)),ret})},module.exports=exports["default"]},{"../exception":67,"../utils":80}],71:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new _exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports["default"]},{"../exception":67}],72:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("if",function(conditional,options){return _utils.isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})},module.exports=exports["default"]},{"../utils":80}],73:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance){instance.registerHelper("log",function(){for(var args=[void 0],options=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)args.push(arguments[i]);var level=1;null!=options.hash.level?level=options.hash.level:options.data&&null!=options.data.level&&(level=options.data.level),args[0]=level,instance.log.apply(instance,args)})},module.exports=exports["default"]},{}],74:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})},module.exports=exports["default"]},{}],75:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("with",function(context,options){_utils.isFunction(context)&&(context=context.call(this));var fn=options.fn;if(_utils.isEmpty(context))return options.inverse(this);var data=options.data;return options.data&&options.ids&&(data=_utils.createFrame(options.data),data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])),fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})})},module.exports=exports["default"]},{"../utils":80}],76:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("./utils"),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(level){if("string"==typeof level){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());level=levelMap>=0?levelMap:parseInt(level,10)}return level},log:function(level){if(level=logger.lookupLevel(level),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];console[method]||(method="log");for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)message[_key-1]=arguments[_key];console[method].apply(console,message)}}};exports["default"]=logger,module.exports=exports["default"]},{"./utils":80}],77:[function(require,module,exports){!function(global){"use strict";exports.__esModule=!0,exports["default"]=function(Handlebars){var root="undefined"!=typeof global?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){return root.Handlebars===Handlebars&&(root.Handlebars=$Handlebars),Handlebars}},module.exports=exports["default"]}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],78:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(currentRevision>compilerRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){function invokePartialWrapper(partial,context,options){options.hash&&(context=Utils.extend({},context,options.hash),options.ids&&(options.ids[0]=!0)),partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(null==result&&env.compile&&(options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env),result=options.partials[options.name](context,options)),null!=result){if(options.indent){for(var lines=result.split("\n"),i=0,l=lines.length;l>i&&(lines[i]||i+1!==l);i++)lines[i]=options.indent+lines[i];result=lines.join("\n")}return result}throw new _exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}function ret(context){function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],data=options.data;ret._setup(options),!options.partial&&templateSpec.useData&&(data=initData(context,data));var depths=void 0,blockParams=templateSpec.useBlockParams?[]:void 0;return templateSpec.useDepths&&(depths=options.depths?context!==options.depths[0]?[context].concat(options.depths):options.depths:[context]),main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams),main(context,options)}if(!env)throw new _exception2["default"]("No environment passed to template");if(!templateSpec||!templateSpec.main)throw new _exception2["default"]("Unknown template object: "+typeof templateSpec);templateSpec.main.decorator=templateSpec.main_d,env.VM.checkRevision(templateSpec.compiler);var container={strict:function(obj,name){if(!(name in obj))throw new _exception2["default"]('"'+name+'" not defined in '+obj);return obj[name]},lookup:function(depths,name){for(var len=depths.length,i=0;len>i;i++)if(depths[i]&&null!=depths[i][name])return depths[i][name]},lambda:function(current,context){return"function"==typeof current?current.call(context):current
},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){var ret=templateSpec[i];return ret.decorator=templateSpec[i+"_d"],ret},programs:[],program:function(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);return data||depths||blockParams||declaredBlockParams?programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths):programWrapper||(programWrapper=this.programs[i]=wrapProgram(this,i,fn)),programWrapper},data:function(value,depth){for(;value&&depth--;)value=value._parent;return value},merge:function(param,common){var obj=param||common;return param&&common&&param!==common&&(obj=Utils.extend({},common,param)),obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};return ret.isTop=!0,ret._setup=function(options){options.partial?(container.helpers=options.helpers,container.partials=options.partials,container.decorators=options.decorators):(container.helpers=container.merge(options.helpers,env.helpers),templateSpec.usePartial&&(container.partials=container.merge(options.partials,env.partials)),(templateSpec.usePartial||templateSpec.useDecorators)&&(container.decorators=container.merge(options.decorators,env.decorators)))},ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams)throw new _exception2["default"]("must pass block params");if(templateSpec.useDepths&&!depths)throw new _exception2["default"]("must pass parent depths");return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)},ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],currentDepths=depths;return depths&&context!==depths[0]&&(currentDepths=[context].concat(depths)),fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}return prog=executeDecorators(fn,prog,container,depths,data,blockParams),prog.program=i,prog.depth=depths?depths.length:0,prog.blockParams=declaredBlockParams||0,prog}function resolvePartial(partial,context,options){return partial?partial.call||options.name||(options.name=partial,partial=options.partials[partial]):partial="@partial-block"===options.name?options.data["partial-block"]:options.partials[options.name],partial}function invokePartial(partial,context,options){options.partial=!0,options.ids&&(options.data.contextPath=options.ids[0]||options.data.contextPath);var partialBlock=void 0;if(options.fn&&options.fn!==noop&&(options.data=_base.createFrame(options.data),partialBlock=options.data["partial-block"]=options.fn,partialBlock.partials&&(options.partials=Utils.extend({},options.partials,partialBlock.partials))),void 0===partial&&partialBlock&&(partial=partialBlock),void 0===partial)throw new _exception2["default"]("The partial "+options.name+" could not be found");return partial instanceof Function?partial(context,options):void 0}function noop(){return""}function initData(context,data){return data&&"root"in data||(data=data?_base.createFrame(data):{},data.root=context),data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths),Utils.extend(prog,props)}return prog}exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=require("./utils"),Utils=_interopRequireWildcard(_utils),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_base=require("./base")},{"./base":54,"./exception":67,"./utils":80}],79:[function(require,module,exports){"use strict";function SafeString(string){this.string=string}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports["default"]=SafeString,module.exports=exports["default"]},{}],80:[function(require,module,exports){"use strict";function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],key)&&(obj[key]=arguments[i][key]);return obj}function indexOf(array,value){for(var i=0,len=array.length;len>i;i++)if(array[i]===value)return i;return-1}function escapeExpression(string){if("string"!=typeof string){if(string&&string.toHTML)return string.toHTML();if(null==string)return"";if(!string)return string+"";string=""+string}return possible.test(string)?string.replace(badChars,escapeChar):string}function isEmpty(value){return value||0===value?isArray(value)&&0===value.length?!0:!1:!0}function createFrame(object){var frame=extend({},object);return frame._parent=object,frame}function blockParams(params,ids){return params.path=ids,params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/,toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(exports.isFunction=isFunction=function(value){return"function"==typeof value&&"[object Function]"===toString.call(value)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&"object"==typeof value?"[object Array]"===toString.call(value):!1};exports.isArray=isArray},{}],81:[function(require,module){function extension(module,filename){var fs=require("fs"),templateString=fs.readFileSync(filename,"utf8");module.exports=handlebars.compile(templateString)}var handlebars=require("../dist/cjs/handlebars")["default"],printer=require("../dist/cjs/handlebars/compiler/printer");handlebars.PrintVisitor=printer.PrintVisitor,handlebars.print=printer.print,module.exports=handlebars,"undefined"!=typeof require&&require.extensions&&(require.extensions[".handlebars"]=extension,require.extensions[".hbs"]=extension)},{"../dist/cjs/handlebars":52,"../dist/cjs/handlebars/compiler/printer":62,fs:145}],82:[function(require,module,exports){exports.SourceMapGenerator=require("./source-map/source-map-generator").SourceMapGenerator,exports.SourceMapConsumer=require("./source-map/source-map-consumer").SourceMapConsumer,exports.SourceNode=require("./source-map/source-node").SourceNode},{"./source-map/source-map-consumer":89,"./source-map/source-map-generator":90,"./source-map/source-node":91}],83:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function ArraySet(){this._array=[],this._set={}}var util=require("./util");ArraySet.fromArray=function(aArray,aAllowDuplicates){for(var set=new ArraySet,i=0,len=aArray.length;len>i;i++)set.add(aArray[i],aAllowDuplicates);return set},ArraySet.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(aStr,aAllowDuplicates){var isDuplicate=this.has(aStr),idx=this._array.length;(!isDuplicate||aAllowDuplicates)&&this._array.push(aStr),isDuplicate||(this._set[util.toSetString(aStr)]=idx)},ArraySet.prototype.has=function(aStr){return Object.prototype.hasOwnProperty.call(this._set,util.toSetString(aStr))},ArraySet.prototype.indexOf=function(aStr){if(this.has(aStr))return this._set[util.toSetString(aStr)];throw new Error('"'+aStr+'" is not in the set.')},ArraySet.prototype.at=function(aIdx){if(aIdx>=0&&aIdx<this._array.length)return this._array[aIdx];throw new Error("No element indexed by "+aIdx)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet})},{"./util":92,amdefine:51}],84:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function toVLQSigned(aValue){return 0>aValue?(-aValue<<1)+1:(aValue<<1)+0}function fromVLQSigned(aValue){var isNegative=1===(1&aValue),shifted=aValue>>1;return isNegative?-shifted:shifted}var base64=require("./base64"),VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;exports.encode=function(aValue){var digit,encoded="",vlq=toVLQSigned(aValue);do digit=vlq&VLQ_BASE_MASK,vlq>>>=VLQ_BASE_SHIFT,vlq>0&&(digit|=VLQ_CONTINUATION_BIT),encoded+=base64.encode(digit);while(vlq>0);return encoded},exports.decode=function(aStr,aIndex,aOutParam){var continuation,digit,strLen=aStr.length,result=0,shift=0;do{if(aIndex>=strLen)throw new Error("Expected more digits in base 64 VLQ value.");if(digit=base64.decode(aStr.charCodeAt(aIndex++)),-1===digit)throw new Error("Invalid base64 digit: "+aStr.charAt(aIndex-1));continuation=!!(digit&VLQ_CONTINUATION_BIT),digit&=VLQ_BASE_MASK,result+=digit<<shift,shift+=VLQ_BASE_SHIFT}while(continuation);aOutParam.value=fromVLQSigned(result),aOutParam.rest=aIndex}})},{"./base64":85,amdefine:51}],85:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(number){if(number>=0&&number<intToCharMap.length)return intToCharMap[number];throw new TypeError("Must be between 0 and 63: "+aNumber)},exports.decode=function(charCode){var bigA=65,bigZ=90,littleA=97,littleZ=122,zero=48,nine=57,plus=43,slash=47,littleOffset=26,numberOffset=52;return charCode>=bigA&&bigZ>=charCode?charCode-bigA:charCode>=littleA&&littleZ>=charCode?charCode-littleA+littleOffset:charCode>=zero&&nine>=charCode?charCode-zero+numberOffset:charCode==plus?62:charCode==slash?63:-1}})},{amdefine:51}],86:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function recursiveSearch(aLow,aHigh,aNeedle,aHaystack,aCompare,aBias){var mid=Math.floor((aHigh-aLow)/2)+aLow,cmp=aCompare(aNeedle,aHaystack[mid],!0);return 0===cmp?mid:cmp>0?aHigh-mid>1?recursiveSearch(mid,aHigh,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?aHigh<aHaystack.length?aHigh:-1:mid:mid-aLow>1?recursiveSearch(aLow,mid,aNeedle,aHaystack,aCompare,aBias):aBias==exports.LEAST_UPPER_BOUND?mid:0>aLow?-1:aLow}exports.GREATEST_LOWER_BOUND=1,exports.LEAST_UPPER_BOUND=2,exports.search=function(aNeedle,aHaystack,aCompare,aBias){if(0===aHaystack.length)return-1;var index=recursiveSearch(-1,aHaystack.length,aNeedle,aHaystack,aCompare,aBias||exports.GREATEST_LOWER_BOUND);if(0>index)return-1;for(;index-1>=0&&0===aCompare(aHaystack[index],aHaystack[index-1],!0);)--index;return index}})},{amdefine:51}],87:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function generatedPositionAfter(mappingA,mappingB){var lineA=mappingA.generatedLine,lineB=mappingB.generatedLine,columnA=mappingA.generatedColumn,columnB=mappingB.generatedColumn;return lineB>lineA||lineB==lineA&&columnB>=columnA||util.compareByGeneratedPositionsInflated(mappingA,mappingB)<=0}function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}var util=require("./util");MappingList.prototype.unsortedForEach=function(aCallback,aThisArg){this._array.forEach(aCallback,aThisArg)},MappingList.prototype.add=function(aMapping){generatedPositionAfter(this._last,aMapping)?(this._last=aMapping,this._array.push(aMapping)):(this._sorted=!1,this._array.push(aMapping))},MappingList.prototype.toArray=function(){return this._sorted||(this._array.sort(util.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},exports.MappingList=MappingList})},{"./util":92,amdefine:51}],88:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function swap(ary,x,y){var temp=ary[x];ary[x]=ary[y],ary[y]=temp}function randomIntInRange(low,high){return Math.round(low+Math.random()*(high-low))}function doQuickSort(ary,comparator,p,r){if(r>p){var pivotIndex=randomIntInRange(p,r),i=p-1;swap(ary,pivotIndex,r);for(var pivot=ary[r],j=p;r>j;j++)comparator(ary[j],pivot)<=0&&(i+=1,swap(ary,i,j));swap(ary,i+1,j);var q=i+1;doQuickSort(ary,comparator,p,q-1),doQuickSort(ary,comparator,q+1,r)}}exports.quickSort=function(ary,comparator){doQuickSort(ary,comparator,0,ary.length-1)}})},{amdefine:51}],89:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function SourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;return"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,""))),null!=sourceMap.sections?new IndexedSourceMapConsumer(sourceMap):new BasicSourceMapConsumer(sourceMap)}function BasicSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sources=util.getArg(sourceMap,"sources"),names=util.getArg(sourceMap,"names",[]),sourceRoot=util.getArg(sourceMap,"sourceRoot",null),sourcesContent=util.getArg(sourceMap,"sourcesContent",null),mappings=util.getArg(sourceMap,"mappings"),file=util.getArg(sourceMap,"file",null);if(version!=this._version)throw new Error("Unsupported version: "+version);sources=sources.map(util.normalize),this._names=ArraySet.fromArray(names,!0),this._sources=ArraySet.fromArray(sources,!0),this.sourceRoot=sourceRoot,this.sourcesContent=sourcesContent,this._mappings=mappings,this.file=file}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(aSourceMap){var sourceMap=aSourceMap;"string"==typeof aSourceMap&&(sourceMap=JSON.parse(aSourceMap.replace(/^\)\]\}'/,"")));var version=util.getArg(sourceMap,"version"),sections=util.getArg(sourceMap,"sections");if(version!=this._version)throw new Error("Unsupported version: "+version);this._sources=new ArraySet,this._names=new ArraySet;var lastOffset={line:-1,column:0};this._sections=sections.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var offset=util.getArg(s,"offset"),offsetLine=util.getArg(offset,"line"),offsetColumn=util.getArg(offset,"column");if(offsetLine<lastOffset.line||offsetLine===lastOffset.line&&offsetColumn<lastOffset.column)throw new Error("Section offsets must be ordered and non-overlapping.");return lastOffset=offset,{generatedOffset:{generatedLine:offsetLine+1,generatedColumn:offsetColumn+1},consumer:new SourceMapConsumer(util.getArg(s,"map"))}})}var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;SourceMapConsumer.fromSourceMap=function(aSourceMap){return BasicSourceMapConsumer.fromSourceMap(aSourceMap)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(aStr,index){var c=aStr.charAt(index);return";"===c||","===c},SourceMapConsumer.prototype._parseMappings=function(){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(aCallback,aContext,aOrder){var mappings,context=aContext||null,order=aOrder||SourceMapConsumer.GENERATED_ORDER;switch(order){case SourceMapConsumer.GENERATED_ORDER:mappings=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:mappings=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var sourceRoot=this.sourceRoot;mappings.map(function(mapping){var source=null===mapping.source?null:this._sources.at(mapping.source);return null!=source&&null!=sourceRoot&&(source=util.join(sourceRoot,source)),{source:source,generatedLine:mapping.generatedLine,generatedColumn:mapping.generatedColumn,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:null===mapping.name?null:this._names.at(mapping.name)}},this).forEach(aCallback,context)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(aArgs){var line=util.getArg(aArgs,"line"),needle={source:util.getArg(aArgs,"source"),originalLine:line,originalColumn:util.getArg(aArgs,"column",0)};if(null!=this.sourceRoot&&(needle.source=util.relative(this.sourceRoot,needle.source)),!this._sources.has(needle.source))return[];needle.source=this._sources.indexOf(needle.source);var mappings=[],index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(index>=0){var mapping=this._originalMappings[index];if(void 0===aArgs.column)for(var originalLine=mapping.originalLine;mapping&&mapping.originalLine===originalLine;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index];else for(var originalColumn=mapping.originalColumn;mapping&&mapping.originalLine===line&&mapping.originalColumn==originalColumn;)mappings.push({line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}),mapping=this._originalMappings[++index]}return mappings},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.fromSourceMap=function(aSourceMap){var smc=Object.create(BasicSourceMapConsumer.prototype),names=smc._names=ArraySet.fromArray(aSourceMap._names.toArray(),!0),sources=smc._sources=ArraySet.fromArray(aSourceMap._sources.toArray(),!0);smc.sourceRoot=aSourceMap._sourceRoot,smc.sourcesContent=aSourceMap._generateSourcesContent(smc._sources.toArray(),smc.sourceRoot),smc.file=aSourceMap._file;for(var generatedMappings=aSourceMap._mappings.toArray().slice(),destGeneratedMappings=smc.__generatedMappings=[],destOriginalMappings=smc.__originalMappings=[],i=0,length=generatedMappings.length;length>i;i++){var srcMapping=generatedMappings[i],destMapping=new Mapping;destMapping.generatedLine=srcMapping.generatedLine,destMapping.generatedColumn=srcMapping.generatedColumn,srcMapping.source&&(destMapping.source=sources.indexOf(srcMapping.source),destMapping.originalLine=srcMapping.originalLine,destMapping.originalColumn=srcMapping.originalColumn,srcMapping.name&&(destMapping.name=names.indexOf(srcMapping.name)),destOriginalMappings.push(destMapping)),destGeneratedMappings.push(destMapping)}return quickSort(smc.__originalMappings,util.compareByOriginalPositions),smc},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._sources.toArray().map(function(s){return null!=this.sourceRoot?util.join(this.sourceRoot,s):s},this)}}),BasicSourceMapConsumer.prototype._parseMappings=function(aStr){for(var mapping,str,segment,end,value,generatedLine=1,previousGeneratedColumn=0,previousOriginalLine=0,previousOriginalColumn=0,previousSource=0,previousName=0,length=aStr.length,index=0,cachedSegments={},temp={},originalMappings=[],generatedMappings=[];length>index;)if(";"===aStr.charAt(index))generatedLine++,index++,previousGeneratedColumn=0;else if(","===aStr.charAt(index))index++;else{for(mapping=new Mapping,mapping.generatedLine=generatedLine,end=index;length>end&&!this._charIsMappingSeparator(aStr,end);end++);if(str=aStr.slice(index,end),segment=cachedSegments[str])index+=str.length;else{for(segment=[];end>index;)base64VLQ.decode(aStr,index,temp),value=temp.value,index=temp.rest,segment.push(value);if(2===segment.length)throw new Error("Found a source, but no line and column");if(3===segment.length)throw new Error("Found a source and line, but no column");cachedSegments[str]=segment}mapping.generatedColumn=previousGeneratedColumn+segment[0],previousGeneratedColumn=mapping.generatedColumn,segment.length>1&&(mapping.source=previousSource+segment[1],previousSource+=segment[1],mapping.originalLine=previousOriginalLine+segment[2],previousOriginalLine=mapping.originalLine,mapping.originalLine+=1,mapping.originalColumn=previousOriginalColumn+segment[3],previousOriginalColumn=mapping.originalColumn,segment.length>4&&(mapping.name=previousName+segment[4],previousName+=segment[4])),generatedMappings.push(mapping),"number"==typeof mapping.originalLine&&originalMappings.push(mapping)}quickSort(generatedMappings,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=generatedMappings,quickSort(originalMappings,util.compareByOriginalPositions),this.__originalMappings=originalMappings},BasicSourceMapConsumer.prototype._findMapping=function(aNeedle,aMappings,aLineName,aColumnName,aComparator,aBias){if(aNeedle[aLineName]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+aNeedle[aLineName]);if(aNeedle[aColumnName]<0)throw new TypeError("Column must be greater than or equal to 0, got "+aNeedle[aColumnName]);return binarySearch.search(aNeedle,aMappings,aComparator,aBias)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var index=0;index<this._generatedMappings.length;++index){var mapping=this._generatedMappings[index];if(index+1<this._generatedMappings.length){var nextMapping=this._generatedMappings[index+1];if(mapping.generatedLine===nextMapping.generatedLine){mapping.lastGeneratedColumn=nextMapping.generatedColumn-1;continue}}mapping.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._generatedMappings[index];if(mapping.generatedLine===needle.generatedLine){var source=util.getArg(mapping,"source",null);null!==source&&(source=this._sources.at(source),null!=this.sourceRoot&&(source=util.join(this.sourceRoot,source)));var name=util.getArg(mapping,"name",null);return null!==name&&(name=this._names.at(name)),{source:source,line:util.getArg(mapping,"originalLine",null),column:util.getArg(mapping,"originalColumn",null),name:name}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(sc){return null==sc}):!1},BasicSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(aSource=util.relative(this.sourceRoot,aSource)),this._sources.has(aSource))return this.sourcesContent[this._sources.indexOf(aSource)];var url;if(null!=this.sourceRoot&&(url=util.urlParse(this.sourceRoot))){var fileUriAbsPath=aSource.replace(/^file:\/\//,"");if("file"==url.scheme&&this._sources.has(fileUriAbsPath))return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];if((!url.path||"/"==url.path)&&this._sources.has("/"+aSource))return this.sourcesContent[this._sources.indexOf("/"+aSource)]}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){var source=util.getArg(aArgs,"source");if(null!=this.sourceRoot&&(source=util.relative(this.sourceRoot,source)),!this._sources.has(source))return{line:null,column:null,lastColumn:null};source=this._sources.indexOf(source);var needle={source:source,originalLine:util.getArg(aArgs,"line"),originalColumn:util.getArg(aArgs,"column")},index=this._findMapping(needle,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(aArgs,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(index>=0){var mapping=this._originalMappings[index];if(mapping.source===needle.source)return{line:util.getArg(mapping,"generatedLine",null),column:util.getArg(mapping,"generatedColumn",null),lastColumn:util.getArg(mapping,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var sources=[],i=0;i<this._sections.length;i++)for(var j=0;j<this._sections[i].consumer.sources.length;j++)sources.push(this._sections[i].consumer.sources[j]);return sources}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(aArgs){var needle={generatedLine:util.getArg(aArgs,"line"),generatedColumn:util.getArg(aArgs,"column")},sectionIndex=binarySearch.search(needle,this._sections,function(needle,section){var cmp=needle.generatedLine-section.generatedOffset.generatedLine;return cmp?cmp:needle.generatedColumn-section.generatedOffset.generatedColumn}),section=this._sections[sectionIndex];return section?section.consumer.originalPositionFor({line:needle.generatedLine-(section.generatedOffset.generatedLine-1),column:needle.generatedColumn-(section.generatedOffset.generatedLine===needle.generatedLine?section.generatedOffset.generatedColumn-1:0),bias:aArgs.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(s){return s.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(aSource,nullOnMissing){for(var i=0;i<this._sections.length;i++){var section=this._sections[i],content=section.consumer.sourceContentFor(aSource,!0);if(content)return content}if(nullOnMissing)return null;throw new Error('"'+aSource+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(aArgs){for(var i=0;i<this._sections.length;i++){var section=this._sections[i];if(-1!==section.consumer.sources.indexOf(util.getArg(aArgs,"source"))){var generatedPosition=section.consumer.generatedPositionFor(aArgs);if(generatedPosition){var ret={line:generatedPosition.line+(section.generatedOffset.generatedLine-1),column:generatedPosition.column+(section.generatedOffset.generatedLine===generatedPosition.line?section.generatedOffset.generatedColumn-1:0)};return ret}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var section=this._sections[i],sectionMappings=section.consumer._generatedMappings,j=0;j<sectionMappings.length;j++){var mapping=sectionMappings[i],source=section.consumer._sources.at(mapping.source);null!==section.consumer.sourceRoot&&(source=util.join(section.consumer.sourceRoot,source)),this._sources.add(source),source=this._sources.indexOf(source);var name=section.consumer._names.at(mapping.name);this._names.add(name),name=this._names.indexOf(name);var adjustedMapping={source:source,generatedLine:mapping.generatedLine+(section.generatedOffset.generatedLine-1),generatedColumn:mapping.column+(section.generatedOffset.generatedLine===mapping.generatedLine)?section.generatedOffset.generatedColumn-1:0,originalLine:mapping.originalLine,originalColumn:mapping.originalColumn,name:name};this.__generatedMappings.push(adjustedMapping),"number"==typeof adjustedMapping.originalLine&&this.__originalMappings.push(adjustedMapping)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer})},{"./array-set":83,"./base64-vlq":84,"./binary-search":86,"./quick-sort":88,"./util":92,amdefine:51}],90:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function SourceMapGenerator(aArgs){aArgs||(aArgs={}),this._file=util.getArg(aArgs,"file",null),this._sourceRoot=util.getArg(aArgs,"sourceRoot",null),this._skipValidation=util.getArg(aArgs,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(aSourceMapConsumer){var sourceRoot=aSourceMapConsumer.sourceRoot,generator=new SourceMapGenerator({file:aSourceMapConsumer.file,sourceRoot:sourceRoot});return aSourceMapConsumer.eachMapping(function(mapping){var newMapping={generated:{line:mapping.generatedLine,column:mapping.generatedColumn}};null!=mapping.source&&(newMapping.source=mapping.source,null!=sourceRoot&&(newMapping.source=util.relative(sourceRoot,newMapping.source)),newMapping.original={line:mapping.originalLine,column:mapping.originalColumn},null!=mapping.name&&(newMapping.name=mapping.name)),generator.addMapping(newMapping)}),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&generator.setSourceContent(sourceFile,content)}),generator},SourceMapGenerator.prototype.addMapping=function(aArgs){var generated=util.getArg(aArgs,"generated"),original=util.getArg(aArgs,"original",null),source=util.getArg(aArgs,"source",null),name=util.getArg(aArgs,"name",null);this._skipValidation||this._validateMapping(generated,original,source,name),null==source||this._sources.has(source)||this._sources.add(source),null==name||this._names.has(name)||this._names.add(name),this._mappings.add({generatedLine:generated.line,generatedColumn:generated.column,originalLine:null!=original&&original.line,originalColumn:null!=original&&original.column,source:source,name:name})},SourceMapGenerator.prototype.setSourceContent=function(aSourceFile,aSourceContent){var source=aSourceFile;null!=this._sourceRoot&&(source=util.relative(this._sourceRoot,source)),null!=aSourceContent?(this._sourcesContents||(this._sourcesContents={}),this._sourcesContents[util.toSetString(source)]=aSourceContent):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(source)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(aSourceMapConsumer,aSourceFile,aSourceMapPath){var sourceFile=aSourceFile;if(null==aSourceFile){if(null==aSourceMapConsumer.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');
sourceFile=aSourceMapConsumer.file}var sourceRoot=this._sourceRoot;null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile));var newSources=new ArraySet,newNames=new ArraySet;this._mappings.unsortedForEach(function(mapping){if(mapping.source===sourceFile&&null!=mapping.originalLine){var original=aSourceMapConsumer.originalPositionFor({line:mapping.originalLine,column:mapping.originalColumn});null!=original.source&&(mapping.source=original.source,null!=aSourceMapPath&&(mapping.source=util.join(aSourceMapPath,mapping.source)),null!=sourceRoot&&(mapping.source=util.relative(sourceRoot,mapping.source)),mapping.originalLine=original.line,mapping.originalColumn=original.column,null!=original.name&&(mapping.name=original.name))}var source=mapping.source;null==source||newSources.has(source)||newSources.add(source);var name=mapping.name;null==name||newNames.has(name)||newNames.add(name)},this),this._sources=newSources,this._names=newNames,aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aSourceMapPath&&(sourceFile=util.join(aSourceMapPath,sourceFile)),null!=sourceRoot&&(sourceFile=util.relative(sourceRoot,sourceFile)),this.setSourceContent(sourceFile,content))},this)},SourceMapGenerator.prototype._validateMapping=function(aGenerated,aOriginal,aSource,aName){if(!(aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aGenerated.line>0&&aGenerated.column>=0&&!aOriginal&&!aSource&&!aName||aGenerated&&"line"in aGenerated&&"column"in aGenerated&&aOriginal&&"line"in aOriginal&&"column"in aOriginal&&aGenerated.line>0&&aGenerated.column>=0&&aOriginal.line>0&&aOriginal.column>=0&&aSource))throw new Error("Invalid mapping: "+JSON.stringify({generated:aGenerated,source:aSource,original:aOriginal,name:aName}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var mapping,previousGeneratedColumn=0,previousGeneratedLine=1,previousOriginalColumn=0,previousOriginalLine=0,previousName=0,previousSource=0,result="",mappings=this._mappings.toArray(),i=0,len=mappings.length;len>i;i++){if(mapping=mappings[i],mapping.generatedLine!==previousGeneratedLine)for(previousGeneratedColumn=0;mapping.generatedLine!==previousGeneratedLine;)result+=";",previousGeneratedLine++;else if(i>0){if(!util.compareByGeneratedPositionsInflated(mapping,mappings[i-1]))continue;result+=","}result+=base64VLQ.encode(mapping.generatedColumn-previousGeneratedColumn),previousGeneratedColumn=mapping.generatedColumn,null!=mapping.source&&(result+=base64VLQ.encode(this._sources.indexOf(mapping.source)-previousSource),previousSource=this._sources.indexOf(mapping.source),result+=base64VLQ.encode(mapping.originalLine-1-previousOriginalLine),previousOriginalLine=mapping.originalLine-1,result+=base64VLQ.encode(mapping.originalColumn-previousOriginalColumn),previousOriginalColumn=mapping.originalColumn,null!=mapping.name&&(result+=base64VLQ.encode(this._names.indexOf(mapping.name)-previousName),previousName=this._names.indexOf(mapping.name)))}return result},SourceMapGenerator.prototype._generateSourcesContent=function(aSources,aSourceRoot){return aSources.map(function(source){if(!this._sourcesContents)return null;null!=aSourceRoot&&(source=util.relative(aSourceRoot,source));var key=util.toSetString(source);return Object.prototype.hasOwnProperty.call(this._sourcesContents,key)?this._sourcesContents[key]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var map={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(map.file=this._file),null!=this._sourceRoot&&(map.sourceRoot=this._sourceRoot),this._sourcesContents&&(map.sourcesContent=this._generateSourcesContent(map.sources,map.sourceRoot)),map},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator})},{"./array-set":83,"./base64-vlq":84,"./mapping-list":87,"./util":92,amdefine:51}],91:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function SourceNode(aLine,aColumn,aSource,aChunks,aName){this.children=[],this.sourceContents={},this.line=null==aLine?null:aLine,this.column=null==aColumn?null:aColumn,this.source=null==aSource?null:aSource,this.name=null==aName?null:aName,this[isSourceNode]=!0,null!=aChunks&&this.add(aChunks)}var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";SourceNode.fromStringWithSourceMap=function(aGeneratedCode,aSourceMapConsumer,aRelativePath){function addMappingWithCode(mapping,code){if(null===mapping||void 0===mapping.source)node.add(code);else{var source=aRelativePath?util.join(aRelativePath,mapping.source):mapping.source;node.add(new SourceNode(mapping.originalLine,mapping.originalColumn,source,code,mapping.name))}}var node=new SourceNode,remainingLines=aGeneratedCode.split(REGEX_NEWLINE),shiftNextLine=function(){var lineContents=remainingLines.shift(),newLine=remainingLines.shift()||"";return lineContents+newLine},lastGeneratedLine=1,lastGeneratedColumn=0,lastMapping=null;return aSourceMapConsumer.eachMapping(function(mapping){if(null!==lastMapping){if(!(lastGeneratedLine<mapping.generatedLine)){var nextLine=remainingLines[0],code=nextLine.substr(0,mapping.generatedColumn-lastGeneratedColumn);return remainingLines[0]=nextLine.substr(mapping.generatedColumn-lastGeneratedColumn),lastGeneratedColumn=mapping.generatedColumn,addMappingWithCode(lastMapping,code),lastMapping=mapping,void 0}var code="";addMappingWithCode(lastMapping,shiftNextLine()),lastGeneratedLine++,lastGeneratedColumn=0}for(;lastGeneratedLine<mapping.generatedLine;)node.add(shiftNextLine()),lastGeneratedLine++;if(lastGeneratedColumn<mapping.generatedColumn){var nextLine=remainingLines[0];node.add(nextLine.substr(0,mapping.generatedColumn)),remainingLines[0]=nextLine.substr(mapping.generatedColumn),lastGeneratedColumn=mapping.generatedColumn}lastMapping=mapping},this),remainingLines.length>0&&(lastMapping&&addMappingWithCode(lastMapping,shiftNextLine()),node.add(remainingLines.join(""))),aSourceMapConsumer.sources.forEach(function(sourceFile){var content=aSourceMapConsumer.sourceContentFor(sourceFile);null!=content&&(null!=aRelativePath&&(sourceFile=util.join(aRelativePath,sourceFile)),node.setSourceContent(sourceFile,content))}),node},SourceNode.prototype.add=function(aChunk){if(Array.isArray(aChunk))aChunk.forEach(function(chunk){this.add(chunk)},this);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);aChunk&&this.children.push(aChunk)}return this},SourceNode.prototype.prepend=function(aChunk){if(Array.isArray(aChunk))for(var i=aChunk.length-1;i>=0;i--)this.prepend(aChunk[i]);else{if(!aChunk[isSourceNode]&&"string"!=typeof aChunk)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+aChunk);this.children.unshift(aChunk)}return this},SourceNode.prototype.walk=function(aFn){for(var chunk,i=0,len=this.children.length;len>i;i++)chunk=this.children[i],chunk[isSourceNode]?chunk.walk(aFn):""!==chunk&&aFn(chunk,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(aSep){var newChildren,i,len=this.children.length;if(len>0){for(newChildren=[],i=0;len-1>i;i++)newChildren.push(this.children[i]),newChildren.push(aSep);newChildren.push(this.children[i]),this.children=newChildren}return this},SourceNode.prototype.replaceRight=function(aPattern,aReplacement){var lastChild=this.children[this.children.length-1];return lastChild[isSourceNode]?lastChild.replaceRight(aPattern,aReplacement):"string"==typeof lastChild?this.children[this.children.length-1]=lastChild.replace(aPattern,aReplacement):this.children.push("".replace(aPattern,aReplacement)),this},SourceNode.prototype.setSourceContent=function(aSourceFile,aSourceContent){this.sourceContents[util.toSetString(aSourceFile)]=aSourceContent},SourceNode.prototype.walkSourceContents=function(aFn){for(var i=0,len=this.children.length;len>i;i++)this.children[i][isSourceNode]&&this.children[i].walkSourceContents(aFn);for(var sources=Object.keys(this.sourceContents),i=0,len=sources.length;len>i;i++)aFn(util.fromSetString(sources[i]),this.sourceContents[sources[i]])},SourceNode.prototype.toString=function(){var str="";return this.walk(function(chunk){str+=chunk}),str},SourceNode.prototype.toStringWithSourceMap=function(aArgs){var generated={code:"",line:1,column:0},map=new SourceMapGenerator(aArgs),sourceMappingActive=!1,lastOriginalSource=null,lastOriginalLine=null,lastOriginalColumn=null,lastOriginalName=null;return this.walk(function(chunk,original){generated.code+=chunk,null!==original.source&&null!==original.line&&null!==original.column?((lastOriginalSource!==original.source||lastOriginalLine!==original.line||lastOriginalColumn!==original.column||lastOriginalName!==original.name)&&map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name}),lastOriginalSource=original.source,lastOriginalLine=original.line,lastOriginalColumn=original.column,lastOriginalName=original.name,sourceMappingActive=!0):sourceMappingActive&&(map.addMapping({generated:{line:generated.line,column:generated.column}}),lastOriginalSource=null,sourceMappingActive=!1);for(var idx=0,length=chunk.length;length>idx;idx++)chunk.charCodeAt(idx)===NEWLINE_CODE?(generated.line++,generated.column=0,idx+1===length?(lastOriginalSource=null,sourceMappingActive=!1):sourceMappingActive&&map.addMapping({source:original.source,original:{line:original.line,column:original.column},generated:{line:generated.line,column:generated.column},name:original.name})):generated.column++}),this.walkSourceContents(function(sourceFile,sourceContent){map.setSourceContent(sourceFile,sourceContent)}),{code:generated.code,map:map}},exports.SourceNode=SourceNode})},{"./source-map-generator":90,"./util":92,amdefine:51}],92:[function(require,module){if("function"!=typeof define)var define=require("amdefine")(module,require);define(function(require,exports){function getArg(aArgs,aName,aDefaultValue){if(aName in aArgs)return aArgs[aName];if(3===arguments.length)return aDefaultValue;throw new Error('"'+aName+'" is a required argument.')}function urlParse(aUrl){var match=aUrl.match(urlRegexp);return match?{scheme:match[1],auth:match[2],host:match[3],port:match[4],path:match[5]}:null}function urlGenerate(aParsedUrl){var url="";return aParsedUrl.scheme&&(url+=aParsedUrl.scheme+":"),url+="//",aParsedUrl.auth&&(url+=aParsedUrl.auth+"@"),aParsedUrl.host&&(url+=aParsedUrl.host),aParsedUrl.port&&(url+=":"+aParsedUrl.port),aParsedUrl.path&&(url+=aParsedUrl.path),url}function normalize(aPath){var path=aPath,url=urlParse(aPath);if(url){if(!url.path)return aPath;path=url.path}for(var part,isAbsolute="/"===path.charAt(0),parts=path.split(/\/+/),up=0,i=parts.length-1;i>=0;i--)part=parts[i],"."===part?parts.splice(i,1):".."===part?up++:up>0&&(""===part?(parts.splice(i+1,up),up=0):(parts.splice(i,2),up--));return path=parts.join("/"),""===path&&(path=isAbsolute?"/":"."),url?(url.path=path,urlGenerate(url)):path}function join(aRoot,aPath){""===aRoot&&(aRoot="."),""===aPath&&(aPath=".");var aPathUrl=urlParse(aPath),aRootUrl=urlParse(aRoot);if(aRootUrl&&(aRoot=aRootUrl.path||"/"),aPathUrl&&!aPathUrl.scheme)return aRootUrl&&(aPathUrl.scheme=aRootUrl.scheme),urlGenerate(aPathUrl);if(aPathUrl||aPath.match(dataUrlRegexp))return aPath;if(aRootUrl&&!aRootUrl.host&&!aRootUrl.path)return aRootUrl.host=aPath,urlGenerate(aRootUrl);var joined="/"===aPath.charAt(0)?aPath:normalize(aRoot.replace(/\/+$/,"")+"/"+aPath);return aRootUrl?(aRootUrl.path=joined,urlGenerate(aRootUrl)):joined}function relative(aRoot,aPath){""===aRoot&&(aRoot="."),aRoot=aRoot.replace(/\/$/,"");for(var level=0;0!==aPath.indexOf(aRoot+"/");){var index=aRoot.lastIndexOf("/");if(0>index)return aPath;if(aRoot=aRoot.slice(0,index),aRoot.match(/^([^\/]+:\/)?\/*$/))return aPath;++level}return Array(level+1).join("../")+aPath.substr(aRoot.length+1)}function toSetString(aStr){return"$"+aStr}function fromSetString(aStr){return aStr.substr(1)}function compareByOriginalPositions(mappingA,mappingB,onlyCompareOriginal){var cmp=mappingA.source-mappingB.source;return 0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp||onlyCompareOriginal?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp?cmp:(cmp=mappingA.generatedLine-mappingB.generatedLine,0!==cmp?cmp:mappingA.name-mappingB.name))))}function compareByGeneratedPositionsDeflated(mappingA,mappingB,onlyCompareGenerated){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp||onlyCompareGenerated?cmp:(cmp=mappingA.source-mappingB.source,0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:mappingA.name-mappingB.name))))}function strcmp(aStr1,aStr2){return aStr1===aStr2?0:aStr1>aStr2?1:-1}function compareByGeneratedPositionsInflated(mappingA,mappingB){var cmp=mappingA.generatedLine-mappingB.generatedLine;return 0!==cmp?cmp:(cmp=mappingA.generatedColumn-mappingB.generatedColumn,0!==cmp?cmp:(cmp=strcmp(mappingA.source,mappingB.source),0!==cmp?cmp:(cmp=mappingA.originalLine-mappingB.originalLine,0!==cmp?cmp:(cmp=mappingA.originalColumn-mappingB.originalColumn,0!==cmp?cmp:strcmp(mappingA.name,mappingB.name)))))}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,dataUrlRegexp=/^data:.+\,.+$/;exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.relative=relative,exports.toSetString=toSetString,exports.fromSetString=fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated})},{amdefine:51}],93:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.moment=factory()}(this,function(){"use strict";function utils_hooks__hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(callback){hookCallback=callback}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return"[object Object]"===Object.prototype.toString.call(input)}function isObjectEmpty(obj){var k;for(k in obj)return!1;return!0}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function create_utc__createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function getParsingFlags(m){return null==m._pf&&(m._pf=defaultParsingFlags()),m._pf}function valid__isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some.call(flags.parsedDateParts,function(i){return null!=i});m._isValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts),m._strict&&(m._isValid=m._isValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour)}return m._isValid}function valid__createInvalid(flags){var m=create_utc__createUTC(0/0);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}function isUndefined(input){return void 0===input}function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],isUndefined(val)||(to[prop]=val);return to}function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():0/0),updateInProgress===!1&&(updateInProgress=!0,utils_hooks__hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return 0>number?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){utils_hooks__hooks.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(null,msg),firstTime&&(warn(msg+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){null!=utils_hooks__hooks.deprecationHandler&&utils_hooks__hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function locale_set__set(config){var prop,i;for(i in config)prop=config[i],isFunction(prop)?this[i]=prop:this["_"+i]=prop;this._config=config,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}function locale_calendar__calendar(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output}function longDateFormat(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])}function invalidDate(){return this._invalidDate}function ordinal(number){return this._ordinal.replace("%d",number)}function relative__relativeTime(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)}function pastFuture(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)}function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function addUnitPriority(unit,priority){priorities[unit]=priority}function getPrioritizedUnits(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}function makeGetSet(unit,keepTime){return function(value){return null!=value?(get_set__set(this,unit,value),utils_hooks__hooks.updateOffset(this,keepTime),this):get_set__get(this,unit)}}function get_set__get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():0/0}function get_set__set(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function stringGet(units){return units=normalizeUnits(units),isFunction(this[units])?this[units]():this}function stringSet(units,value){if("object"==typeof units){units=normalizeObjectUnits(units);for(var prioritized=getPrioritizedUnits(units),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit])}else if(units=normalizeUnits(units),isFunction(this[units]))return this[units](value);return this}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length,sign=number>=0;return(sign?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var i,output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||makeFormatFunction(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(unescapeFormat(token))}function unescapeFormat(s){return regexEscape(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4}))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),"number"==typeof callback&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function localeMonths(m,format){return isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]}function localeMonthsShort(m,format){return isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]}function units_month__handleStrictParse(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)mom=create_utc__createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?(ii=indexOf.call(this._shortMonthsParse,llc),-1!==ii?ii:null):(ii=indexOf.call(this._longMonthsParse,llc),-1!==ii?ii:null):"MMM"===format?(ii=indexOf.call(this._shortMonthsParse,llc),-1!==ii?ii:(ii=indexOf.call(this._longMonthsParse,llc),-1!==ii?ii:null)):(ii=indexOf.call(this._longMonthsParse,llc),-1!==ii?ii:(ii=indexOf.call(this._shortMonthsParse,llc),-1!==ii?ii:null))}function localeMonthsParse(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return units_month__handleStrictParse.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=create_utc__createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}}function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(value=mom.localeData().monthsParse(value),"number"!=typeof value)return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),utils_hooks__hooks.updateOffset(this,!0),this):get_set__get(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;12>i;i++)mom=create_utc__createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;12>i;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;24>i;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return 0===year%4&&0!==year%100||0===year%400}function getIsLeapYear(){return isLeapYear(this.year())}function createDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 100>y&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 100>y&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy,fwdlw=(7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7;return-fwdlw+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,localWeekday=(7+weekday-dow)%7,weekOffset=firstWeekOffset(year,dow,doy),dayOfYear=1+7*(week-1)+localWeekday+weekOffset;return 0>=dayOfYear?(resYear=year-1,resDayOfYear=daysInYear(resYear)+dayOfYear):dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return 1>week?(resYear=mom.year()-1,resWeek=week+weeksInYear(resYear,dow,doy)):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}function localeWeek(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week}function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")}function getSetISOWeek(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")}function parseWeekday(input,locale){return"string"!=typeof input?input:isNaN(input)?(input=locale.weekdaysParse(input),"number"==typeof input?input:null):parseInt(input,10)}function parseIsoWeekday(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}function localeWeekdays(m,format){return isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]}function localeWeekdaysShort(m){return this._weekdaysShort[m.day()]}function localeWeekdaysMin(m){return this._weekdaysMin[m.day()]}function day_of_week__handleStrictParse(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();
if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)mom=create_utc__createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?(ii=indexOf.call(this._weekdaysParse,llc),-1!==ii?ii:null):"ddd"===format?(ii=indexOf.call(this._shortWeekdaysParse,llc),-1!==ii?ii:null):(ii=indexOf.call(this._minWeekdaysParse,llc),-1!==ii?ii:null):"dddd"===format?(ii=indexOf.call(this._weekdaysParse,llc),-1!==ii?ii:(ii=indexOf.call(this._shortWeekdaysParse,llc),-1!==ii?ii:(ii=indexOf.call(this._minWeekdaysParse,llc),-1!==ii?ii:null))):"ddd"===format?(ii=indexOf.call(this._shortWeekdaysParse,llc),-1!==ii?ii:(ii=indexOf.call(this._weekdaysParse,llc),-1!==ii?ii:(ii=indexOf.call(this._minWeekdaysParse,llc),-1!==ii?ii:null))):(ii=indexOf.call(this._minWeekdaysParse,llc),-1!==ii?ii:(ii=indexOf.call(this._weekdaysParse,llc),-1!==ii?ii:(ii=indexOf.call(this._shortWeekdaysParse,llc),-1!==ii?ii:null)))}function localeWeekdaysParse(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return day_of_week__handleStrictParse.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(mom=create_utc__createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}}function getSetDayOfWeek(input){if(!this.isValid())return null!=input?this:0/0;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day}function getSetLocaleDayOfWeek(input){if(!this.isValid())return null!=input?this:0/0;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")}function getSetISODayOfWeek(input){if(!this.isValid())return null!=input?this:0/0;if(null!=input){var weekday=parseIsoWeekday(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7}function weekdaysRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;7>i;i++)mom=create_utc__createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;7>i;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}function localeIsPM(input){return"p"===(input+"").toLowerCase().charAt(0)}function localeMeridiem(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&"undefined"!=typeof module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),locale_locales__getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function locale_locales__getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?locale_locales__getLocale(key):defineLocale(key,values),data&&(globalLocale=data)),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;return config.abbr=name,null!=locales[name]?(deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config):null!=config.parentLocale&&(null!=locales[config.parentLocale]?parentConfig=locales[config.parentLocale]._config:deprecateSimple("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),locales[name]=new Locale(mergeConfigs(parentConfig,config)),locale_locales__getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function updateLocale(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),config=mergeConfigs(parentConfig,config),locale=new Locale(config),locale.parentLocale=locales[name],locales[name]=locale,locale_locales__getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]}function locale_locales__getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)}function locale_locales__listLocales(){return keys(locales)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=isoDates[i][2]!==!1;break}if(null==dateFormat)return config._isValid=!1,void 0;if(match[3]){for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return config._isValid=!1,void 0}if(!allowTime&&null!=timeFormat)return config._isValid=!1,void 0;if(match[4]){if(!tzRegex.exec(match[4]))return config._isValid=!1,void 0;tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}function configFromString(config){var matched=aspNetJsonRegex.exec(config._i);return null!==matched?(config._d=new Date(+matched[1]),void 0):(configFromISO(config),config._isValid===!1&&(delete config._isValid,utils_hooks__hooks.createFromInputFallback(config)),void 0)}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function currentDateArray(config){var nowValue=new Date(utils_hooks__hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:createDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(local__createLocal(),1,4).year),week=defaults(w.W,1),weekday=defaults(w.E,1),(1>weekday||weekday>7)&&(weekdayOverflow=!0)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=defaults(w.gg,config._a[YEAR],weekOfYear(local__createLocal(),dow,doy).year),week=defaults(w.w,1),null!=w.d?(weekday=w.d,(0>weekday||weekday>6)&&(weekdayOverflow=!0)):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow),1>week||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}function configFromStringAndFormat(config){if(config._f===utils_hooks__hooks.ISO_8601)return configFromISO(config),void 0;config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&getParsingFlags(config).bigHour===!0&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function configFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,config._d=new Date(0/0),void 0;for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),valid__isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function configFromObject(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}function createFromConfig(config){var res=new Moment(checkOverflow(prepareConfig(config)));return res._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||locale_locales__getLocale(config._l),null===input||void 0===format&&""===input?valid__createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isArray(format)?configFromStringAndArray(config):isDate(input)?config._d=input:format?configFromStringAndFormat(config):configFromInput(config),valid__isValid(config)||(config._d=null),config))}function configFromInput(config){var input=config._i;void 0===input?config._d=new Date(utils_hooks__hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?configFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):"object"==typeof input?configFromObject(config):"number"==typeof input?config._d=new Date(input):utils_hooks__hooks.createFromInputFallback(config)}function createLocalOrUTC(input,format,locale,strict,isUTC){var c={};return"boolean"==typeof locale&&(strict=locale,locale=void 0),(isObject(input)&&isObjectEmpty(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,createFromConfig(c)}function local__createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return local__createLocal();for(res=moments[0],i=1;i<moments.length;++i)(!moments[i].isValid()||moments[i][fn](res))&&(res=moments[i]);return res}function min(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)}function max(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+60*60*1e3*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=locale_locales__getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return 0>offset&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}function offsetFromString(matcher,string){var matches=(string||"").match(matcher)||[],chunk=matches[matches.length-1]||[],parts=(chunk+"").match(chunkOffset)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():local__createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),utils_hooks__hooks.updateOffset(res,!1),res):local__createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function getSetOffset(input,keepLocalTime){var localAdjust,offset=this._offset||0;return this.isValid()?null!=input?("string"==typeof input?input=offsetFromString(matchShortOffset,input):Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?add_subtract__addSubtract(this,create__createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,utils_hooks__hooks.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:getDateOffset(this):null!=input?this:0/0}function getSetZone(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}function setOffsetToUTC(keepLocalTime){return this.utcOffset(0,keepLocalTime)}function setOffsetToLocal(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(offsetFromString(matchOffset,this._i)),this}function hasAlignedHourOffset(input){return this.isValid()?(input=input?local__createLocal(input).utcOffset():0,0===(this.utcOffset()-input)%60):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),c=prepareConfig(c),c._a){var other=c._isUTC?create_utc__createUTC(c._a):local__createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&0===this._offset:!1}function create__createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(local__createLocal(duration.from),local__createLocal(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return base.isValid()&&other.isValid()?(other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res):{milliseconds:0,months:0}}function absRound(number){return 0>number?-1*Math.round(-1*number):Math.round(number)}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=create__createDuration(val,period),add_subtract__addSubtract(this,dur,direction),this}}function add_subtract__addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&get_set__set(mom,"Date",get_set__get(mom,"Date")+days*isAdding),months&&setMonth(mom,get_set__get(mom,"Month")+months*isAdding),updateOffset&&utils_hooks__hooks.updateOffset(mom,days||months))}function getCalendarFormat(myMoment,now){var diff=myMoment.diff(now,"days",!0);return-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse"}function moment_calendar__calendar(time,formats){var now=time||local__createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=utils_hooks__hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,local__createLocal(now)))}function clone(){return new Moment(this)}function isAfter(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return this.isValid()&&localInput.isValid()?(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf()):!1}function isBefore(input,units){var localInput=isMoment(input)?input:local__createLocal(input);return this.isValid()&&localInput.isValid()?(units=normalizeUnits(isUndefined(units)?"millisecond":units),"millisecond"===units?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf()):!1}function isBetween(from,to,units,inclusivity){return inclusivity=inclusivity||"()",("("===inclusivity[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))}function isSame(input,units){var inputMs,localInput=isMoment(input)?input:local__createLocal(input);return this.isValid()&&localInput.isValid()?(units=normalizeUnits(units||"millisecond"),"millisecond"===units?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf())):!1}function isSameOrAfter(input,units){return this.isSame(input,units)||this.isAfter(input,units)}function isSameOrBefore(input,units){return this.isSame(input,units)||this.isBefore(input,units)}function diff(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()?(that=cloneWithOffset(input,this),that.isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):0/0):0/0}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function moment_format__toISOString(){var m=this.clone().utc();return 0<m.year()&&m.year()<=9999?isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function format(inputString){inputString||(inputString=this.isUtc()?utils_hooks__hooks.defaultFormatUtc:utils_hooks__hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)}function from(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function fromNow(withoutSuffix){return this.from(local__createLocal(),withoutSuffix)}function to(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||local__createLocal(time).isValid())?create__createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()}function toNow(withoutSuffix){return this.to(local__createLocal(),withoutSuffix)}function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(newLocaleData=locale_locales__getLocale(key),null!=newLocaleData&&(this._locale=newLocaleData),this)}function localeData(){return this._locale}function startOf(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this}function endOf(units){return units=normalizeUnits(units),void 0===units||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))}function to_type__valueOf(){return this._d.valueOf()-6e4*(this._offset||0)}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]}function toObject(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function moment_valid__isValid(){return valid__isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYear(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(weeksTarget=weeksInYear(input,dow,doy),week>weeksTarget&&(week=weeksTarget),setWeekAll.call(this,input,week,weekday,dow,doy))}function setWeekAll(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}function getSetQuarter(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)}function getSetDayOfYear(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")}function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}function moment__createUnix(input){return local__createLocal(1e3*input)}function moment__createInZone(){return local__createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(string){return string}function lists__get(format,index,field,setter){var locale=locale_locales__getLocale(),utc=create_utc__createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if("number"==typeof format&&(index=format,format=void 0),format=format||"",null!=index)return lists__get(format,index,field,"month");var i,out=[];for(i=0;12>i;i++)out[i]=lists__get(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?("number"==typeof format&&(index=format,format=void 0),format=format||""):(format=localeSorted,index=format,localeSorted=!1,"number"==typeof format&&(index=format,format=void 0),format=format||"");var locale=locale_locales__getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return lists__get(format,(index+shift)%7,field,"day");var i,out=[];for(i=0;7>i;i++)out[i]=lists__get(format,(i+shift)%7,field,"day");return out}function lists__listMonths(format,index){return listMonthsImpl(format,index,"months")
}function lists__listMonthsShort(format,index){return listMonthsImpl(format,index,"monthsShort")}function lists__listWeekdays(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")}function lists__listWeekdaysShort(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")}function lists__listWeekdaysMin(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")}function duration_abs__abs(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this}function duration_add_subtract__addSubtract(duration,input,value,direction){var other=create__createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function duration_add_subtract__add(input,value){return duration_add_subtract__addSubtract(this,input,value,1)}function duration_add_subtract__subtract(input,value){return duration_add_subtract__addSubtract(this,input,value,-1)}function absCeil(number){return 0>number?Math.floor(number):Math.ceil(number)}function bubble(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||0>=milliseconds&&0>=days&&0>=months||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,days+=absFloor(hours/24),monthsFromDays=absFloor(daysToMonths(days)),months+=monthsFromDays,days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function as(units){var days,months,milliseconds=this._milliseconds;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}}function duration_as__valueOf(){return this._milliseconds+864e5*this._days+2592e6*(this._months%12)+31536e6*toInt(this._months/12)}function makeAs(alias){return function(){return this.as(alias)}}function duration_get__get(units){return units=normalizeUnits(units),this[units+"s"]()}function makeGetter(name){return function(){return this._data[name]}}function weeks(){return absFloor(this.days()/7)}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}function duration_humanize__relativeTime(posNegDuration,withoutSuffix,locale){var duration=create__createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<thresholds.s&&["s",seconds]||1>=minutes&&["m"]||minutes<thresholds.m&&["mm",minutes]||1>=hours&&["h"]||hours<thresholds.h&&["hh",hours]||1>=days&&["d"]||days<thresholds.d&&["dd",days]||1>=months&&["M"]||months<thresholds.M&&["MM",months]||1>=years&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,substituteTimeAgo.apply(null,a)}function duration_humanize__getSetRelativeTimeRounding(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction?(round=roundingFunction,!0):!1}function duration_humanize__getSetRelativeTimeThreshold(threshold,limit){return void 0===thresholds[threshold]?!1:void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,!0)}function humanize(withSuffix){var locale=this.localeData(),output=duration_humanize__relativeTime(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)}function iso_string__toISOString(){var minutes,hours,years,seconds=iso_string__abs(this._milliseconds)/1e3,days=iso_string__abs(this._days),months=iso_string__abs(this._months);minutes=absFloor(seconds/60),hours=absFloor(minutes/60),seconds%=60,minutes%=60,years=absFloor(months/12),months%=12;var Y=years,M=months,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(0>total?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var hookCallback,some;some=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;len>i;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};var momentProperties=utils_hooks__hooks.momentProperties=[],updateInProgress=!1,deprecations={};utils_hooks__hooks.suppressDeprecationWarnings=!1,utils_hooks__hooks.deprecationHandler=null;var keys;keys=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var indexOf,defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},defaultInvalidDate="Invalid date",defaultOrdinal="%d",defaultOrdinalParse=/\d{1,2}/,defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},aliases={},priorities={},formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={},match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={},tokens={},YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;indexOf=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1},addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;addFormatToken("Y",0,0,function(){var y=this.year();return 9999>=y?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?utils_hooks__hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=utils_hooks__hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),utils_hooks__hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});var defaultLocaleWeek={dow:0,doy:6};addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,ordinalParse:defaultOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;utils_hooks__hooks.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),utils_hooks__hooks.ISO_8601=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?this>other?this:other:valid__createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=local__createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:valid__createInvalid()}),now=function(){return Date.now?Date.now():+new Date};offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;utils_hooks__hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;create__createDuration.fn=Duration.prototype;var add_subtract__add=createAdder(1,"add"),add_subtract__subtract=createAdder(-1,"subtract");utils_hooks__hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",utils_hooks__hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=utils_hooks__hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._ordinalParse:locale._ordinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0],10)});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3);var token;for(token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var momentPrototype__proto=Moment.prototype;momentPrototype__proto.add=add_subtract__add,momentPrototype__proto.calendar=moment_calendar__calendar,momentPrototype__proto.clone=clone,momentPrototype__proto.diff=diff,momentPrototype__proto.endOf=endOf,momentPrototype__proto.format=format,momentPrototype__proto.from=from,momentPrototype__proto.fromNow=fromNow,momentPrototype__proto.to=to,momentPrototype__proto.toNow=toNow,momentPrototype__proto.get=stringGet,momentPrototype__proto.invalidAt=invalidAt,momentPrototype__proto.isAfter=isAfter,momentPrototype__proto.isBefore=isBefore,momentPrototype__proto.isBetween=isBetween,momentPrototype__proto.isSame=isSame,momentPrototype__proto.isSameOrAfter=isSameOrAfter,momentPrototype__proto.isSameOrBefore=isSameOrBefore,momentPrototype__proto.isValid=moment_valid__isValid,momentPrototype__proto.lang=lang,momentPrototype__proto.locale=locale,momentPrototype__proto.localeData=localeData,momentPrototype__proto.max=prototypeMax,momentPrototype__proto.min=prototypeMin,momentPrototype__proto.parsingFlags=parsingFlags,momentPrototype__proto.set=stringSet,momentPrototype__proto.startOf=startOf,momentPrototype__proto.subtract=add_subtract__subtract,momentPrototype__proto.toArray=toArray,momentPrototype__proto.toObject=toObject,momentPrototype__proto.toDate=toDate,momentPrototype__proto.toISOString=moment_format__toISOString,momentPrototype__proto.toJSON=toJSON,momentPrototype__proto.toString=toString,momentPrototype__proto.unix=unix,momentPrototype__proto.valueOf=to_type__valueOf,momentPrototype__proto.creationData=creationData,momentPrototype__proto.year=getSetYear,momentPrototype__proto.isLeapYear=getIsLeapYear,momentPrototype__proto.weekYear=getSetWeekYear,momentPrototype__proto.isoWeekYear=getSetISOWeekYear,momentPrototype__proto.quarter=momentPrototype__proto.quarters=getSetQuarter,momentPrototype__proto.month=getSetMonth,momentPrototype__proto.daysInMonth=getDaysInMonth,momentPrototype__proto.week=momentPrototype__proto.weeks=getSetWeek,momentPrototype__proto.isoWeek=momentPrototype__proto.isoWeeks=getSetISOWeek,momentPrototype__proto.weeksInYear=getWeeksInYear,momentPrototype__proto.isoWeeksInYear=getISOWeeksInYear,momentPrototype__proto.date=getSetDayOfMonth,momentPrototype__proto.day=momentPrototype__proto.days=getSetDayOfWeek,momentPrototype__proto.weekday=getSetLocaleDayOfWeek,momentPrototype__proto.isoWeekday=getSetISODayOfWeek,momentPrototype__proto.dayOfYear=getSetDayOfYear,momentPrototype__proto.hour=momentPrototype__proto.hours=getSetHour,momentPrototype__proto.minute=momentPrototype__proto.minutes=getSetMinute,momentPrototype__proto.second=momentPrototype__proto.seconds=getSetSecond,momentPrototype__proto.millisecond=momentPrototype__proto.milliseconds=getSetMillisecond,momentPrototype__proto.utcOffset=getSetOffset,momentPrototype__proto.utc=setOffsetToUTC,momentPrototype__proto.local=setOffsetToLocal,momentPrototype__proto.parseZone=setOffsetToParsedOffset,momentPrototype__proto.hasAlignedHourOffset=hasAlignedHourOffset,momentPrototype__proto.isDST=isDaylightSavingTime,momentPrototype__proto.isLocal=isLocal,momentPrototype__proto.isUtcOffset=isUtcOffset,momentPrototype__proto.isUtc=isUtc,momentPrototype__proto.isUTC=isUtc,momentPrototype__proto.zoneAbbr=getZoneAbbr,momentPrototype__proto.zoneName=getZoneName,momentPrototype__proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),momentPrototype__proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),momentPrototype__proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),momentPrototype__proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),momentPrototype__proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var momentPrototype=momentPrototype__proto,prototype__proto=Locale.prototype;prototype__proto.calendar=locale_calendar__calendar,prototype__proto.longDateFormat=longDateFormat,prototype__proto.invalidDate=invalidDate,prototype__proto.ordinal=ordinal,prototype__proto.preparse=preParsePostFormat,prototype__proto.postformat=preParsePostFormat,prototype__proto.relativeTime=relative__relativeTime,prototype__proto.pastFuture=pastFuture,prototype__proto.set=locale_set__set,prototype__proto.months=localeMonths,prototype__proto.monthsShort=localeMonthsShort,prototype__proto.monthsParse=localeMonthsParse,prototype__proto.monthsRegex=monthsRegex,prototype__proto.monthsShortRegex=monthsShortRegex,prototype__proto.week=localeWeek,prototype__proto.firstDayOfYear=localeFirstDayOfYear,prototype__proto.firstDayOfWeek=localeFirstDayOfWeek,prototype__proto.weekdays=localeWeekdays,prototype__proto.weekdaysMin=localeWeekdaysMin,prototype__proto.weekdaysShort=localeWeekdaysShort,prototype__proto.weekdaysParse=localeWeekdaysParse,prototype__proto.weekdaysRegex=weekdaysRegex,prototype__proto.weekdaysShortRegex=weekdaysShortRegex,prototype__proto.weekdaysMinRegex=weekdaysMinRegex,prototype__proto.isPM=localeIsPM,prototype__proto.meridiem=localeMeridiem,locale_locales__getSetGlobalLocale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),utils_hooks__hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",locale_locales__getSetGlobalLocale),utils_hooks__hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",locale_locales__getLocale);var mathAbs=Math.abs,asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y"),milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years"),round=Math.round,thresholds={s:45,m:45,h:22,d:26,M:11},iso_string__abs=Math.abs,duration_prototype__proto=Duration.prototype;duration_prototype__proto.abs=duration_abs__abs,duration_prototype__proto.add=duration_add_subtract__add,duration_prototype__proto.subtract=duration_add_subtract__subtract,duration_prototype__proto.as=as,duration_prototype__proto.asMilliseconds=asMilliseconds,duration_prototype__proto.asSeconds=asSeconds,duration_prototype__proto.asMinutes=asMinutes,duration_prototype__proto.asHours=asHours,duration_prototype__proto.asDays=asDays,duration_prototype__proto.asWeeks=asWeeks,duration_prototype__proto.asMonths=asMonths,duration_prototype__proto.asYears=asYears,duration_prototype__proto.valueOf=duration_as__valueOf,duration_prototype__proto._bubble=bubble,duration_prototype__proto.get=duration_get__get,duration_prototype__proto.milliseconds=milliseconds,duration_prototype__proto.seconds=seconds,duration_prototype__proto.minutes=minutes,duration_prototype__proto.hours=hours,duration_prototype__proto.days=days,duration_prototype__proto.weeks=weeks,duration_prototype__proto.months=months,duration_prototype__proto.years=years,duration_prototype__proto.humanize=humanize,duration_prototype__proto.toISOString=iso_string__toISOString,duration_prototype__proto.toString=iso_string__toISOString,duration_prototype__proto.toJSON=iso_string__toISOString,duration_prototype__proto.locale=locale,duration_prototype__proto.localeData=localeData,duration_prototype__proto.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",iso_string__toISOString),duration_prototype__proto.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",matchTimestamp),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),utils_hooks__hooks.version="2.14.1",setHookCallback(local__createLocal),utils_hooks__hooks.fn=momentPrototype,utils_hooks__hooks.min=min,utils_hooks__hooks.max=max,utils_hooks__hooks.now=now,utils_hooks__hooks.utc=create_utc__createUTC,utils_hooks__hooks.unix=moment__createUnix,utils_hooks__hooks.months=lists__listMonths,utils_hooks__hooks.isDate=isDate,utils_hooks__hooks.locale=locale_locales__getSetGlobalLocale,utils_hooks__hooks.invalid=valid__createInvalid,utils_hooks__hooks.duration=create__createDuration,utils_hooks__hooks.isMoment=isMoment,utils_hooks__hooks.weekdays=lists__listWeekdays,utils_hooks__hooks.parseZone=moment__createInZone,utils_hooks__hooks.localeData=locale_locales__getLocale,utils_hooks__hooks.isDuration=isDuration,utils_hooks__hooks.monthsShort=lists__listMonthsShort,utils_hooks__hooks.weekdaysMin=lists__listWeekdaysMin,utils_hooks__hooks.defineLocale=defineLocale,utils_hooks__hooks.updateLocale=updateLocale,utils_hooks__hooks.locales=locale_locales__listLocales,utils_hooks__hooks.weekdaysShort=lists__listWeekdaysShort,utils_hooks__hooks.normalizeUnits=normalizeUnits,utils_hooks__hooks.relativeTimeRounding=duration_humanize__getSetRelativeTimeRounding,utils_hooks__hooks.relativeTimeThreshold=duration_humanize__getSetRelativeTimeThreshold,utils_hooks__hooks.calendarFormat=getCalendarFormat,utils_hooks__hooks.prototype=momentPrototype;var _moment=utils_hooks__hooks;return _moment})},{}],94:[function(require,module){!function(define){"use strict";define(function(require){return function(loader){var Base;return Base={},Base.Variable=require("./base/variable"),Base.List=require("./base/list"),Base.Dataset=require("./base/dataset"),Base.utils=require("./base/utils"),loader.addClass("Variable",Base.Variable),loader.addClass("List",Base.List),loader.addClass("Dataset",Base.Dataset),loader.addClass("utils",Base.utils),loader.loadModule(require("./base/fun")),loader.loadModule(require("./base/base")),loader.loadModule(require("./base/stats")),Base}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./base/base":32,"./base/dataset":36,"./base/fun":37,"./base/list":38,"./base/stats":39,"./base/utils":42,"./base/variable":43}],95:[function(require){window.panthrLang=require("./panthrlang.js")},{"./panthrlang.js":104}],96:[function(require,module){!function(define){"use strict";define(function(require){function doDiv(v1,v2){return Math.floor(v1/v2)}function doMod(v1,v2){return v1-doDiv(v1,v2)*v2}function configArithOp(resolver){resolver.addParameter("x","scalar",!0).addParameter("y","scalar",!0)}function configLogicOp(resolver){resolver.addParameter("x","logical",!0).addParameter("y","logical",!0)}function configSingleScalar(resolver){resolver.addParameter("x","scalar",!0)}var Base;return Base=require("panthrbase/index"),function(evalLang,addBuiltin,Value){addBuiltin("+",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return x+y},"scalar"))},configArithOp),addBuiltin("-",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return x-y},"scalar"))},configArithOp),addBuiltin("*",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return x*y},"scalar"))},configArithOp),addBuiltin("/",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return x/y
},"scalar"))},configArithOp),addBuiltin("^",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return Math.pow(x,y)},"scalar"))},configArithOp),addBuiltin("%/%",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return doDiv(x,y)},"scalar"))},configArithOp),addBuiltin("%%",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return doMod(x,y)},"scalar"))},configArithOp),addBuiltin("!",function(lst){return Value.makeVariable(lst.get(1).map(function(x){return!x},"logical"))},function(resolver){resolver.addParameter("x","logical",!0)}),addBuiltin("|",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return x||y},"logical"))},configLogicOp),addBuiltin("&",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return x&&y},"logical"))},configLogicOp),addBuiltin("xor",function(lst){return Value.makeVariable(Base.Variable.mapPair(lst.get(1),lst.get(2),function(x,y){return Base.utils.isMissing(x)||Base.utils.isMissing(y)?Base.utils.missing:x!==y},"logical"))},configLogicOp),addBuiltin("||",function(lst){return Value.makeVariable(new Base.Variable([lst.get(1)||lst.get(2)],{mode:"logical"}))},function(resolver){resolver.addParameter("x","boolean",!0).addParameter("y","boolean",!0)}),addBuiltin("&&",function(lst){return Value.makeVariable(new Base.Variable([lst.get(1)&&lst.get(2)],{mode:"logical"}))},function(resolver){resolver.addParameter("x","boolean",!0).addParameter("y","boolean",!0)}),addBuiltin("list",function(lst){return Value.makeList(lst.get("...").clone())},function(resolver){resolver.addDots()}),addBuiltin("names",function(lst){return Value.makeVariable(lst.get("x").names())},function(resolver){resolver.addParameter("x",["variable","list"],!0)}),addBuiltin("names<-",function(lst){return lst.get("x").names(lst.get("value")),Value.wrap(lst.get("x"))},function(resolver){resolver.addParameter("x",["variable","list"],!0).addParameter("value","variable",!0)}),addBuiltin("c",function(lst){var res;return res=lst.get("...").concat(lst.get("recursive")),res instanceof Base.Variable?Value.makeVariable(res):Value.makeList(res)},function(resolver){resolver.addDots().addParameter("recursive","boolean",!1).addDefault("recursive",function(){return!1})}),addBuiltin("[",function(lst){var x,dots;return x=lst.get("x"),dots=lst.get("..."),null==x?Value.null:Value.wrap(x.index.apply(x,dots.get()))},function(resolver){resolver.addParameter("x",["list","variable","null"],!0).addDots().addParameter("drop","boolean",!1).addDefault("drop",function(){return!0}).addNormalize(function(lst){var theDots;theDots=lst.get("..."),theDots.each(function(v,i){if("undefined"!=typeof v){if(v===Value.null)return theDots.set(i,null),void 0;if(!(v instanceof Base.Variable))throw new Error("inappropriate index "+v)}})})}),addBuiltin("[<-",function(lst){var x,dots;return x=lst.get("x"),dots=lst.get("...").get(),dots.unshift(lst.get("value")),x.indexSet.apply(x,dots),Value.wrap(x)},function(resolver){resolver.addParameter("x",["list","variable"],!0).addParameter("value",["variable","list"],!0).addDots().addNormalize(function(lst){var theDots;theDots=lst.get("..."),theDots.each(function(v,i){if("undefined"!=typeof v){if(v===Value.null)return theDots.set(i,null),void 0;if(!(v instanceof Base.Variable))throw new Error("inappropriate index "+v)}})})}),addBuiltin("sin",function(lst){return Value.makeVariable(lst.get(1).map(function(x){return Math.sin(x)},"scalar"))},configSingleScalar),addBuiltin("seq",function(lst){return Value.makeVariable(Base.Variable.seq(lst.get("from"),lst.get("to"),lst.get("by")))},function(resolver){resolver.addParameter("from","number",!0).addParameter("to","number",!0).addParameter("by","number",!0).addParameter("length.out","number").addParameter("along.with","variable").addDefault("from",function(){return 1}).addDependent("length.out","along.with",function(alongWith){return alongWith.length()}).addNormalize(function(lst){lst.has("to")||lst.has("by")||lst.has("length.out")||lst.has("along.with")||(lst.set("to",lst.get("from")),lst.set("from",1))}).addDefault("by",function(lst){return lst.has("to")?lst.has("length.out")?1===lst.get("length.out")?0:(lst.get("to")-lst.get("from"))/(lst.get("length.out")-1):Math.sign(lst.get("to")-lst.get("from")):Math.sign(lst.get("from"))}).addDefault("to",function(lst){return lst.has("length.out")?lst.get("from")+(lst.get("length.out")-1)*lst.get("by"):1})})}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"panthrbase/index":50}],97:[function(require,module){!function(define){"use strict";define(function(require){function Console(options){this.options=options||{},this.history=[],this.initialize()}var Evaluate;return Evaluate=require("./evaluate"),Console.prototype={initialize:function(){return this.evaluator=new Evaluate,this.evaluator.parseAndEval("library(base)"),this},evalAndUpdate:function(input){var results;return results=this.evaluator.parseAndEval(input),this.lastResult={input:this.inputFormat(input),results:this.resultsFormat(results)},this.history.push(this.lastResult),this},inputFormat:function(){throw new Error('Each console needs to implement "inputFormat"')},resultsFormat:function(){throw new Error('Each console needs to implement "resultsFormat"')}},Console.web=function(options){var webConsole;return webConsole=new Console(options),webConsole.inputFormat=function(input){return input},webConsole.resultsFormat=function(results){var that;return that=this,results.map(function(v){var o;switch(o={type:v.type},v.type){case"builtin":o.string="<func: builtin>";break;case"closure":o.string="<func: closure>";break;case"null":o.string="NULL";break;case"undefined":o.string="TODO Should print error here";break;case"error":o.string=v.value.message;break;case"pack":o.string="<package: "+v.value.package.name+">";break;case"logical":case"scalar":case"factor":case"string":case"datetime":o.html="<table>"+v.value.format(that.options).toHTML(that.options)+"</table>"}return o})},webConsole},Console})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./evaluate":98}],98:[function(require,module){!function(define){"use strict";define(function(require){function Evaluate(){this.global=Frame.newGlobal(),this.global.loadedPackages=null}function parseThenEval(str,frame){var vals;parser.yy.emit=function(nodes){vals=nodes.map(function(node){try{return evalInFrame(node,frame)}catch(e){if(e instanceof Error)throw e;return e}})};try{parser.parse(str)}catch(e){console.log("Serious parser error:",e)}return vals}function findPackage(packageName,current){for(;null!=current;)if(current.name===packageName)return current.package;return null}function loadPackage(packageName,frame,loc){var global,newEval;if(global=frame.getGlobal(),!packages.hasOwnProperty(packageName))throw errorInfo("Unknown package: "+packageName,loc);return newEval=findPackage(packageName,global.loadedPackages),null==newEval&&(newEval=new Evaluate,packages[packageName](function(str){newEval.parseAndEval(str)},function(name,f,config){var resolver;resolver=new Resolver,null!=config&&config(resolver),newEval.global.store(name,Value.makeBuiltin(f,resolver))},Value),global.loadedPackages={name:packageName,"package":newEval,next:global.loadedPackages}),Value.makePackage(global.loadedPackages)}function evalInFrame(node,frame){switch(node.name){case"number":return Value.makeScalar(node.value);case"boolean":return Value.makeLogical(node.value);case"string":return Value.makeString(node.value);case"missing":return Value.makeLogical(Base.utils.missing);case"null":return Value.makeNull();case"range":return evalRange(evalInFrame(node.from,frame),evalInFrame(node.to,frame),frame,node.from.loc);case"variable":return lookup(node.id,frame,node.loc);case"assign":return assign(node.lvalue,evalInFrame(node.rvalue,frame).clone(),frame);case"assign_existing":return assignExisting(node.lvalue.id,evalInFrame(node.rvalue,frame).clone(),frame);case"dollar_access":return evalListAccess(evalInFrame(node.object,frame),Value.makeString(node.index),node.loc);case"dbl_bracket_access":return evalListAccess(evalInFrame(node.object,frame),evalInFrame(node.index,frame),node.loc);case"single_bracket_access":return evalArrayAccess(node,frame);case"fun_def":return evalFunDef(node,frame);case"block":return evalSeq(node.exprs,frame);case"fun_call":return evalCall(evalInFrame(node.fun,frame),evalActuals(node.args,frame),node.fun.loc);case"library":return loadPackage(node.id,frame,node.loc);case"error":return errorInfo("unexpected token: "+node.error.hash.text,node.loc);default:throw new Error("Unknown node: "+node.name)}}function lookup(symbol,frame,loc){var val,pack;if(val=frame.lookup(symbol),null===val){for(pack=frame.getGlobal().loadedPackages;null!==pack;){if(val=pack.package.global.lookup(symbol),null!==val)return val;pack=pack.next}throw errorInfo("Unknown symbol: "+symbol,loc)}try{return val.resolve()}catch(e){throw errorInfo((e.message||e.toString())+" when accessing symbol "+symbol,loc)}}function assign(lvalue,rvalue,frame){switch(lvalue.name){case"single_bracket_access":evalArrayAssign(lvalue,rvalue,frame);break;case"dbl_bracket_access":evalListAssign(evalInFrame(lvalue.object,frame),evalInFrame(lvalue.index,frame),rvalue,lvalue.loc);break;case"dollar_access":evalListAssign(evalInFrame(lvalue.object,frame),Value.makeString(lvalue.index),rvalue,lvalue.loc);break;case"fun_call":evalFunCallAssign(lvalue,rvalue,frame);break;case"variable":frame.store(lvalue.id,rvalue);break;default:throw errorInfo("Invalid expression for left-hand-side of assignment",lvalue.loc)}return rvalue}function assignExisting(symbol,value,frame){for(;!frame.hasOwnProperty(symbol)&&null!==frame.getParent();)frame=frame.getParent();return frame.store(symbol,value),value}function evalRange(a,b,frame,loc){return evalCall(lookup("seq",frame),new Base.List({from:a,to:b}),loc)}function evalSeq(exprs,frame){var i,val;for(i=0;i<exprs.length;i+=1)val=evalInFrame(exprs[i],frame);return val}function evalListAccess(lst,index,loc){try{return lst=Resolver.resolveValue(["list"])(lst),index=Resolver.resolveValue(["scalar","string"])(index),Value.wrap(lst.deepGet(index))}catch(e){throw errorInfo(e.message||e.toString(),loc)}}function evalListAssign(lst,index,rvalue,loc){try{lst=Resolver.resolveValue(["list"])(lst),index=Resolver.resolveValue(["scalar","string"])(index),rvalue=Resolver.resolveValue(["any"])(rvalue),lst.deepSet(index,rvalue)}catch(e){throw errorInfo(e.message||e.toString(),loc)}}function evalFunCallAssign(lvalue,rvalue,frame){var args,funCallResult;if(1!==lvalue.args.length)throw errorInfo("Wrong arguments for function call on lhs of assignment",lvalue.loc);if("variable"!==lvalue.fun.name)throw errorInfo("Wrong function specification on lhs of assignment",lvalue.loc);lvalue.fun.id+="<-",args=evalActuals(lvalue.args,frame),args.set("value",rvalue),funCallResult=evalCall(evalInFrame(lvalue.fun,frame),args,lvalue.loc),assign(lvalue.args[0],funCallResult,frame)}function evalArrayAccess(node,frame){var actuals,fun;return actuals=new Base.List({x:evalInFrame(node.object,frame)}),actuals.set(evalActuals(node.coords,frame)),fun=lookup("[",frame,node.loc),evalCall(fun,actuals,node.loc)}function evalArrayAssign(node,rvalue,frame){var actuals,fun;actuals=new Base.List({x:evalInFrame(node.object,frame),value:rvalue}),actuals.set(evalActuals(node.coords,frame)),fun=lookup("[<-",frame,node.loc),evalCall(fun,actuals,node.loc)}function evalFunDef(node,frame){var formals,i,formal;for(formals={},i=0;i<node.params.length;i+=1){if(formal="param_dots"===node.params[i].name?"...":node.params[i].id,formals.hasOwnProperty(formal))return errorInfo("repeated formal argument: "+formal,node.loc);formals[formal]=!0}return Value.makeClosure(node,frame)}function evalActuals(exprs,frame){function addValue(value){actuals.push(value)}function addNamedValue(name,value,loc){if(actuals.has(name))throw errorInfo("symbol occurred twice "+name,loc);actuals.set(name,value)}var actuals;return actuals=new Base.List,exprs.forEach(function(expr){switch(expr.name){case"arg_named":addNamedValue(expr.id,evalInFrame(expr.value,frame),expr.loc);break;case"arg_dots":!function(result){if(null==result)throw new Error("Inappropriate use of ...");result.value.each(function(value,i,name){name?addNamedValue(name,value):addValue(value)})}(lookup("...",frame,expr.loc));break;case"arg_empty":addValue(Value.makeUndefined());break;default:addValue(evalInFrame(expr,frame))}}),actuals}function evalCall(clos,actuals,loc){if("closure"===clos.type||"builtin"===clos.type)try{return Value.functionFromValue(clos)(actuals)}catch(e){throw errorInfo(e.message||e.toString(),loc)}throw errorInfo("trying to call non-function "+clos.toString(),loc)}function errorInfo(msg,loc){return Value.makeError({message:msg,loc:loc})}var Frame,Value,Base,parser,Resolver,packages;return Frame=require("./frame"),Value=require("./value").setEvalInFrame(evalInFrame),Base=require("panthrbase/index"),parser=require("./parser").parser,Resolver=require("./resolver"),packages={},Evaluate.addPackage=function(name,func){return packages.hasOwnProperty(name)&&console.log("Warning: A package with name "+name+" already exists."+" The old package will no longer be accessible."),packages[name]=func,Evaluate},Evaluate.listPackages=function(){return Object.keys(packages)},Evaluate.prototype={eval:function(node){return evalInFrame(node,this.global)},parseAndEval:function(str){return parseThenEval(str,this.global)}},Evaluate})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./frame":99,"./parser":101,"./resolver":102,"./value":103,"panthrbase/index":50}],99:[function(require,module){!function(define){"use strict";define(function(){function Frame(parent){this.parent=parent,this.values={}}return Frame.prototype={extend:function(obj){var frame;return frame=new Frame(this),obj&&Object.keys(obj).forEach(function(symbol){frame.store(symbol,obj[symbol])}),frame},lookup:function(symbol){return this.values.hasOwnProperty(symbol)?this.values[symbol]:null===this.parent?null:this.parent.lookup(symbol)},store:function(symbol,value){return this.values[symbol]=value,this},getParent:function(){return this.parent},getGlobal:function(){return null===this.parent?this:this.parent.getGlobal()},lookupGlobal:function(symbol){return this.getGlobal().lookup(symbol)},storeGlobal:function(symbol,value){return this.getGlobal().store(symbol,value),this}},Frame.newGlobal=function(){return new Frame(null)},Frame})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],100:[function(require,module){!function(define){"use strict";define(function(){function Node(name,loc,obj){var key;if(this.name=name,this.loc={firstLine:loc.first_line,lastLine:loc.last_line,firstColumn:loc.first_column,lastColumn:loc.last_column},null!=obj)for(key in obj)obj.hasOwnProperty(key)&&(this[key]=obj[key])}return Node.error=function(loc,err){return new Node("error",loc,{error:err})},Node.assign=function(loc,lvalue,expr){return new Node("assign",loc,{lvalue:lvalue,rvalue:expr})},Node.assignExisting=function(loc,lvalue,expr){return new Node("assign_existing",loc,{lvalue:lvalue,rvalue:expr})},Node.number=function(loc,n){return new Node("number",loc,{value:n})},Node.string=function(loc,s){return s=s.replace(/\\(.)/g,function(m,c){switch(c){case"t":return"	";case"n":return"\n";case"r":return"\r";default:return c}}),new Node("string",loc,{value:s})},Node.boolean=function(loc,b){return new Node("boolean",loc,{value:b})},Node.missing=function(loc){return new Node("missing",loc)},Node.null=function(loc){return new Node("null",loc)},Node.variable=function(loc,id){return new Node("variable",loc,{id:id})},Node.dollarAccess=function(loc,object,index){return new Node("dollar_access",loc,{object:object,index:index})},Node.dblBracketAccess=function(loc,object,index){return new Node("dbl_bracket_access",loc,{object:object,index:index})},Node.singleBracketAccess=function(loc,object,coords){return new Node("single_bracket_access",loc,{object:object,coords:coords})},Node.funCall=function(loc,f,args){return"string"==typeof f&&(f=Node.variable(loc,f)),new Node("fun_call",loc,{fun:f,args:args})},Node.funDef=function(loc,params,body){return new Node("fun_def",loc,{params:params,body:body})},Node.range=function(loc,from,to){return new Node("range",loc,{from:from,to:to})},Node.block=function(loc,exprs){return new Node("block",loc,{exprs:exprs})},Node.library=function(loc,id){return new Node("library",loc,{id:id})},Node.argNamed=function(loc,id,expr){return new Node("arg_named",loc,{id:id,value:expr})},Node.argDots=function(loc){return new Node("arg_dots",loc)},Node.argEmpty=function(loc){return new Node("arg_empty",loc)},Node.param=function(loc,id){return new Node("param",loc,{id:id})},Node.paramDefault=function(loc,id,expr){return new Node("param_default",loc,{id:id,"default":expr})},Node.paramDots=function(loc){return new Node("param_dots",loc)},Node})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],101:[function(require,module,exports){!function(process){var parser=function(){function Parser(){this.yy={}}var o=function(k,v,o,l){for(o=o||{},l=k.length;l--;o[k[l]]=v);return o},$V0=[1,5],$V1=[1,4],$V2=[1,8],$V3=[1,9],$V4=[1,10],$V5=[1,11],$V6=[1,12],$V7=[1,13],$V8=[1,14],$V9=[1,15],$Va=[1,16],$Vb=[1,17],$Vc=[1,18],$Vd=[1,19],$Ve=[1,20],$Vf=[1,21],$Vg=[1,23],$Vh=[5,6,37],$Vi=[1,41],$Vj=[1,27],$Vk=[1,28],$Vl=[1,29],$Vm=[1,30],$Vn=[1,31],$Vo=[1,32],$Vp=[1,33],$Vq=[1,34],$Vr=[1,35],$Vs=[1,36],$Vt=[1,37],$Vu=[1,38],$Vv=[1,39],$Vw=[1,40],$Vx=[2,15],$Vy=[1,43],$Vz=[1,44],$VA=[5,6,19,20,21,23,24,25,26,27,28,29,30,31,32,33,37,42,45,46,47],$VB=[1,26],$VC=[5,6,10,17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,37,42,45,46,47],$VD=[2,50],$VE=[5,6,20,37,42,47],$VF=[2,44],$VG=[1,70],$VH=[1,71],$VI=[20,42],$VJ=[5,6,20,23,24,25,26,37,42,47],$VK=[5,6,20,21,23,24,25,26,27,28,29,30,32,33,37,42,47],$VL=[1,80],$VM=[1,81],$VN=[5,6,20,23,24,25,26,27,28,29,30,32,33,37,42,47],$VO=[5,6,20,23,25,37,42,47],$VP=[5,6,20,23,24,25,26,27,28,37,42,47],$VQ=[5,6,20,23,24,25,26,27,28,29,30,37,42,47],$VR=[20,47],$VS=[20,42,47],parser={trace:function(){},yy:{},symbols_:{error:2,expression:3,exprList:4,EOF:5,EOL:6,topExpr:7,expr:8,lvalue:9,EQUALS:10,NUM:11,STRING:12,TRUE:13,FALSE:14,MISSING:15,NULL:16,LARROW:17,LLARROW:18,"(":19,")":20,":":21,"!":22,"|":23,"&":24,"||":25,"&&":26,"+":27,"-":28,"*":29,"/":30,"^":31,DIV:32,MOD:33,FUN:34,formals:35,"{":36,"}":37,LIBRARY:38,VAR:39,actuals:40,actual:41,",":42,DOTS:43,formal:44,DOLLAR:45,"[":46,"]":47,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",6:"EOL",10:"EQUALS",11:"NUM",12:"STRING",13:"TRUE",14:"FALSE",15:"MISSING",16:"NULL",17:"LARROW",18:"LLARROW",19:"(",20:")",21:":",22:"!",23:"|",24:"&",25:"||",26:"&&",27:"+",28:"-",29:"*",30:"/",31:"^",32:"DIV",33:"MOD",34:"FUN",36:"{",37:"}",38:"LIBRARY",39:"VAR",42:",",43:"DOTS",45:"DOLLAR",46:"[",47:"]"},productions_:[0,[3,2],[4,3],[4,2],[4,1],[4,1],[4,1],[7,1],[7,3],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,3],[8,3],[8,2],[8,3],[8,3],[8,2],[8,3],[8,3],[8,3],[8,3],[8,2],[8,2],[8,3],[8,3],[8,3],[8,3],[8,3],[8,3],[8,3],[8,4],[8,5],[8,3],[8,4],[40,3],[40,1],[41,1],[41,3],[41,1],[41,0],[35,3],[35,1],[44,1],[44,3],[44,1],[9,1],[9,3],[9,4],[9,6],[9,4]],performAction:function(yytext,yyleng,yylineno,yy,yystate,$$){var $0=$$.length-1;switch(yystate){case 1:yy.emit($$[$0-1]);break;case 2:$$[$0-2].push($$[$0]),this.$=$$[$0-2];break;case 3:case 19:this.$=$$[$0-1];break;case 4:case 40:case 46:this.$=[$$[$0]];break;case 5:this.$=[];break;case 6:this.$=[Node.error(yy.lexer.yylloc,yy.parser.myError)];break;case 7:case 15:case 18:case 26:case 41:this.$=$$[$0];break;case 8:case 16:this.$=Node.assign(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 9:this.$=Node.number(yy.lexer.yylloc,parseFloat($$[$0]));break;case 10:this.$=Node.string(yy.lexer.yylloc,$$[$0]);break;case 11:this.$=Node.boolean(yy.lexer.yylloc,!0);break;case 12:this.$=Node.boolean(yy.lexer.yylloc,!1);break;case 13:this.$=Node.missing(yy.lexer.yylloc);break;case 14:this.$=Node.null(yy.lexer.yylloc);break;case 17:this.$=Node.assignExisting(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 20:this.$=Node.range(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 21:this.$=Node.funCall(yy.lexer.yylloc,"!",[$$[$0]]);break;case 22:this.$=Node.funCall(yy.lexer.yylloc,"|",[$$[$0-2],$$[$0]]);break;case 23:this.$=Node.funCall(yy.lexer.yylloc,"&",[$$[$0-2],$$[$0]]);break;case 24:this.$=Node.funCall(yy.lexer.yylloc,"||",[$$[$0-2],$$[$0]]);break;case 25:this.$=Node.funCall(yy.lexer.yylloc,"&&",[$$[$0-2],$$[$0]]);break;case 27:this.$=Node.funCall(yy.lexer.yylloc,"-",[Node.number(yy.lexer.yylloc,0),$$[$0]]);break;case 28:this.$=Node.funCall(yy.lexer.yylloc,"+",[$$[$0-2],$$[$0]]);break;case 29:this.$=Node.funCall(yy.lexer.yylloc,"-",[$$[$0-2],$$[$0]]);break;case 30:this.$=Node.funCall(yy.lexer.yylloc,"*",[$$[$0-2],$$[$0]]);break;case 31:this.$=Node.funCall(yy.lexer.yylloc,"/",[$$[$0-2],$$[$0]]);break;case 32:this.$=Node.funCall(yy.lexer.yylloc,"^",[$$[$0-2],$$[$0]]);break;case 33:this.$=Node.funCall(yy.lexer.yylloc,"%/%",[$$[$0-2],$$[$0]]);break;case 34:this.$=Node.funCall(yy.lexer.yylloc,"%%",[$$[$0-2],$$[$0]]);break;case 35:this.$=Node.funDef(yy.lexer.yylloc,[],$$[$0]);break;case 36:this.$=Node.funDef(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 37:this.$=Node.block(yy.lexer.yylloc,$$[$0-1]);break;case 38:this.$=Node.library(yy.lexer.yylloc,$$[$0-1]);break;case 39:case 45:$$[$0].unshift($$[$0-2]),this.$=$$[$0];break;case 42:this.$=Node.argNamed(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 43:this.$=Node.argDots(yy.lexer.yylloc);break;case 44:this.$=Node.argEmpty(yy.lexer.yylloc);break;case 47:this.$=Node.param(yy.lexer.yylloc,$$[$0]);break;case 48:this.$=Node.paramDefault(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 49:this.$=Node.paramDots(yy.lexer.yylloc);break;case 50:this.$=Node.variable(yy.lexer.yylloc,$$[$0]);break;case 51:this.$=Node.dollarAccess(yy.lexer.yylloc,$$[$0-2],$$[$0]);break;case 52:this.$=Node.singleBracketAccess(yy.lexer.yylloc,$$[$0-3],$$[$0-1]);break;case 53:this.$=Node.dblBracketAccess(yy.lexer.yylloc,$$[$0-5],$$[$0-2]);break;case 54:this.$=Node.funCall(yy.lexer.yylloc,$$[$0-3],$$[$0-1])}},table:[{2:$V0,3:1,4:2,6:$V1,7:3,8:6,9:7,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{1:[3]},{5:[1,22],6:$Vg},o($Vh,[2,4]),o($Vh,[2,5],{8:24,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf}),o($Vh,[2,6]),o($Vh,[2,7],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o([5,6,19,21,23,24,25,26,27,28,29,30,31,32,33,37,45,46],$Vx,{10:[1,42],17:$Vy,18:$Vz}),o($VA,[2,9]),o($VA,[2,10]),o($VA,[2,11]),o($VA,[2,12]),o($VA,[2,13]),o($VA,[2,14]),{6:$VB,8:45,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:46,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:47,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:48,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{19:[1,49]},{2:$V0,4:50,6:$V1,7:3,8:6,9:7,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{19:[1,51]},o($VC,$VD),{1:[2,1]},o($Vh,[2,3],{8:6,9:7,7:52,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf}),o($VE,[2,18],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VA,$Vx,{17:$Vy,18:$Vz}),{6:$VB,8:24,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:53,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:54,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:55,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:56,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:57,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:58,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:59,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:60,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:61,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:62,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:63,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:64,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{39:[1,65]},o([42,47],$VF,{9:25,40:66,41:68,8:69,6:$VB,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$VG,43:$VH,46:[1,67]}),o($VI,$VF,{9:25,41:68,8:69,40:72,6:$VB,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$VG,43:$VH}),{6:$VB,8:73,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:74,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{6:$VB,8:75,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{19:$Vi,20:[1,76],21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw},o($VJ,[2,21],{19:$Vi,21:$Vj,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VK,[2,26],{19:$Vi,31:$Vs,45:$Vv,46:$Vw}),o($VK,[2,27],{19:$Vi,31:$Vs,45:$Vv,46:$Vw}),{20:[1,77],35:78,39:$VL,43:$VM,44:79},{6:$Vg,37:[1,82]},{39:[1,83]},o($Vh,[2,2]),o($VN,[2,20],{19:$Vi,31:$Vs,45:$Vv,46:$Vw}),o($VO,[2,22],{19:$Vi,21:$Vj,24:$Vl,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VJ,[2,23],{19:$Vi,21:$Vj,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VO,[2,24],{19:$Vi,21:$Vj,24:$Vl,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VJ,[2,25],{19:$Vi,21:$Vj,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VP,[2,28],{19:$Vi,21:$Vj,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VP,[2,29],{19:$Vi,21:$Vj,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VQ,[2,30],{19:$Vi,21:$Vj,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VQ,[2,31],{19:$Vi,21:$Vj,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VK,[2,32],{19:$Vi,31:$Vs,45:$Vv,46:$Vw}),o($VN,[2,33],{19:$Vi,21:$Vj,31:$Vs,45:$Vv,46:$Vw}),o($VN,[2,34],{19:$Vi,21:$Vj,31:$Vs,45:$Vv,46:$Vw}),o($VC,[2,51]),{47:[1,84]},{6:$VB,8:85,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},o($VR,[2,40],{42:[1,86]}),o($VS,[2,41],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o([17,18,19,20,21,23,24,25,26,27,28,29,30,31,32,33,42,45,46,47],$VD,{10:[1,87]}),o($VS,[2,43]),{20:[1,88]},o($Vh,[2,8],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VE,[2,16],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VE,[2,17],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VA,[2,19]),{6:$VB,8:89,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{20:[1,90]},{20:[2,46],42:[1,91]},o($VI,[2,47],{10:[1,92]}),o($VI,[2,49]),o($VA,[2,37]),{20:[1,93]},o($VC,[2,52]),{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw,47:[1,94]},o($VS,$VF,{9:25,41:68,8:69,40:95,6:$VB,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$VG,43:$VH}),{6:$VB,8:96,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},o($VC,[2,54]),o($VE,[2,35],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),{6:$VB,8:97,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},{35:98,39:$VL,43:$VM,44:79},{6:$VB,8:99,9:25,11:$V2,12:$V3,13:$V4,14:$V5,15:$V6,16:$V7,19:$V8,22:$V9,27:$Va,28:$Vb,34:$Vc,36:$Vd,38:$Ve,39:$Vf},o($VA,[2,38]),{47:[1,100]},o($VR,[2,39]),o($VS,[2,42],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VE,[2,36],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),{20:[2,45]},o($VI,[2,48],{19:$Vi,21:$Vj,23:$Vk,24:$Vl,25:$Vm,26:$Vn,27:$Vo,28:$Vp,29:$Vq,30:$Vr,31:$Vs,32:$Vt,33:$Vu,45:$Vv,46:$Vw}),o($VC,[2,53])],defaultActions:{22:[2,1],98:[2,45]},parseError:function(str,hash){function _parseError(msg,hash){this.message=msg,this.hash=hash}if(!hash.recoverable)throw _parseError.prototype=Error,new _parseError(str,hash);this.trace(str)},parse:function(input){function popStack(n){stack.length=stack.length-2*n,vstack.length=vstack.length-n,lstack.length=lstack.length-n}function locateNearestErrorRecoveryRule(state){for(var stack_probe=stack.length-1,depth=0;;){if(TERROR.toString()in table[state])return depth;if(0===state||2>stack_probe)return!1;stack_probe-=2,state=stack[stack_probe],++depth}}var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1,args=lstack.slice.call(arguments,1),lexer=Object.create(this.lexer),sharedState={yy:{}};for(var k in this.yy)Object.prototype.hasOwnProperty.call(this.yy,k)&&(sharedState.yy[k]=this.yy[k]);lexer.setInput(input,sharedState.yy),sharedState.yy.lexer=lexer,sharedState.yy.parser=this,"undefined"==typeof lexer.yylloc&&(lexer.yylloc={});var yyloc=lexer.yylloc;lstack.push(yyloc);var ranges=lexer.options&&lexer.options.ranges;this.parseError="function"==typeof sharedState.yy.parseError?sharedState.yy.parseError:Object.getPrototypeOf(this).parseError;for(var symbol,preErrorSymbol,state,action,r,p,len,newState,expected,lex=function(){var token;return token=lexer.lex()||EOF,"number"!=typeof token&&(token=self.symbols_[token]||token),token},yyval={};;){if(state=stack[stack.length-1],this.defaultActions[state]?action=this.defaultActions[state]:((null===symbol||"undefined"==typeof symbol)&&(symbol=lex()),action=table[state]&&table[state][symbol]),"undefined"==typeof action||!action.length||!action[0]){var error_rule_depth,errStr="";if(recovering)preErrorSymbol!==EOF&&(error_rule_depth=locateNearestErrorRecoveryRule(state));else{error_rule_depth=locateNearestErrorRecoveryRule(state),expected=[];for(p in table[state])this.terminals_[p]&&p>TERROR&&expected.push("'"+this.terminals_[p]+"'");errStr=lexer.showPosition?"Parse error on line "+(yylineno+1)+":\n"+lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'":"Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==EOF?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'"),this.parseError(errStr,{text:lexer.match,token:this.terminals_[symbol]||symbol,line:lexer.yylineno,loc:yyloc,expected:expected,recoverable:error_rule_depth!==!1})
}if(3==recovering){if(symbol===EOF||preErrorSymbol===EOF)throw new Error(errStr||"Parsing halted while starting to recover from another error.");yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,symbol=lex()}if(error_rule_depth===!1)throw new Error(errStr||"Parsing halted. No suitable error recovery rule available.");popStack(error_rule_depth),preErrorSymbol=symbol==TERROR?null:symbol,symbol=TERROR,state=stack[stack.length-1],action=table[state]&&table[state][TERROR],recovering=3}if(action[0]instanceof Array&&action.length>1)throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol);switch(action[0]){case 1:stack.push(symbol),vstack.push(lexer.yytext),lstack.push(lexer.yylloc),stack.push(action[1]),symbol=null,preErrorSymbol?(symbol=preErrorSymbol,preErrorSymbol=null):(yyleng=lexer.yyleng,yytext=lexer.yytext,yylineno=lexer.yylineno,yyloc=lexer.yylloc,recovering>0&&recovering--);break;case 2:if(len=this.productions_[action[1]][1],yyval.$=vstack[vstack.length-len],yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column},ranges&&(yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]),r=this.performAction.apply(yyval,[yytext,yyleng,yylineno,sharedState.yy,action[1],vstack,lstack].concat(args)),"undefined"!=typeof r)return r;len&&(stack=stack.slice(0,2*-1*len),vstack=vstack.slice(0,-1*len),lstack=lstack.slice(0,-1*len)),stack.push(this.productions_[action[1]][0]),vstack.push(yyval.$),lstack.push(yyval._$),newState=table[stack[stack.length-2]][stack[stack.length-1]],stack.push(newState);break;case 3:return!0}}return!0}};Node=require("./node");var lexer=function(){var lexer={EOF:1,parseError:function(str,hash){if(!this.yy.parser)throw new Error(str);this.yy.parser.parseError(str,hash)},setInput:function(input,yy){return this.yy=yy||this.yy||{},this._input=input,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ch=this._input[0];this.yytext+=ch,this.yyleng++,this.offset++,this.match+=ch,this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);return lines?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ch},unput:function(ch){var len=ch.length,lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-len),this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),lines.length-1&&(this.yylineno-=lines.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-len]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(n){this.unput(this.match.slice(n))},pastInput:function(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var next=this.match;return next.length<20&&(next+=this._input.substr(0,20-next.length)),(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var pre=this.pastInput(),c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},test_match:function(match,indexed_rule){var token,lines,backup;if(this.options.backtrack_lexer&&(backup={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(backup.yylloc.range=this.yylloc.range.slice(0))),lines=match[0].match(/(?:\r\n?|\n).*/g),lines&&(this.yylineno+=lines.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length},this.yytext+=match[0],this.match+=match[0],this.matches=match,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(match[0].length),this.matched+=match[0],token=this.performAction.call(this,this.yy,this,indexed_rule,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),token)return token;if(this._backtrack){for(var k in backup)this[k]=backup[k];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var token,match,tempMatch,index;this._more||(this.yytext="",this.match="");for(var rules=this._currentRules(),i=0;i<rules.length;i++)if(tempMatch=this._input.match(this.rules[rules[i]]),tempMatch&&(!match||tempMatch[0].length>match[0].length)){if(match=tempMatch,index=i,this.options.backtrack_lexer){if(token=this.test_match(tempMatch,rules[i]),token!==!1)return token;if(this._backtrack){match=!1;continue}return!1}if(!this.options.flex)break}return match?(token=this.test_match(match,rules[index]),token!==!1?token:!1):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var r=this.next();return r?r:this.lex()},begin:function(condition){this.conditionStack.push(condition)},popState:function(){var n=this.conditionStack.length-1;return n>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(n){return n=this.conditionStack.length-1-Math.abs(n||0),n>=0?this.conditionStack[n]:"INITIAL"},pushState:function(condition){this.begin(condition)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(yy,yy_,$avoiding_name_collisions,YY_START){switch($avoiding_name_collisions){case 0:this.begin("backtick");break;case 1:return 39;case 2:this.popState();break;case 3:this.begin("doublequote");break;case 4:this.popState();break;case 5:return 12;case 6:this.begin("singlequote");break;case 7:this.popState();break;case 8:return 12;case 9:break;case 10:return 11;case 11:return 6;case 12:return 26;case 13:return 25;case 14:return yy_.yytext;case 15:return 34;case 16:return 34;case 17:return 16;case 18:return 13;case 19:return 14;case 20:return 15;case 21:return 38;case 22:return 17;case 23:return 18;case 24:return 10;case 25:return 43;case 26:return 45;case 27:return 33;case 28:return 32;case 29:return 39;case 30:return 5}},rules:[/^(?:`)/,/^(?:[^` \t\n]+)/,/^(?:`)/,/^(?:")/,/^(?:")/,/^(?:(\\.|[^"])*)/,/^(?:')/,/^(?:')/,/^(?:(\\.|[^'])*)/,/^(?:[ \t]+)/,/^(?:((0|[1-9][0-9]*)(\.[0-9]*)?|\.[0-9]+)([eE][+-]?[0-9]+)?)/,/^(?:\n|;)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:[:+\-*^\/\,()\[\]\{\}\!\|\&])/,/^(?:function\b)/,/^(?:fun\b)/,/^(?:NULL\b)/,/^(?:TRUE\b)/,/^(?:FALSE\b)/,/^(?:NA|NaN\b)/,/^(?:library\b)/,/^(?:<-)/,/^(?:<<-)/,/^(?:=)/,/^(?:\.\.\.)/,/^(?:\$)/,/^(?:%%)/,/^(?:%\/%)/,/^(?:\w[\w\.]*)/,/^(?:$)/],conditions:{singlequote:{rules:[7,8],inclusive:!1},doublequote:{rules:[4,5],inclusive:!1},backtick:{rules:[1,2],inclusive:!1},INITIAL:{rules:[0,3,6,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],inclusive:!0}}};return lexer}();return parser.lexer=lexer,Parser.prototype=parser,parser.Parser=Parser,new Parser}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=parser,exports.Parser=parser.Parser,exports.parse=function(){return parser.parse.apply(parser,arguments)},exports.main=function(args){args[1]||(console.log("Usage: "+args[0]+" FILE"),process.exit(1));var source=require("fs").readFileSync(require("path").normalize(args[1]),"utf8");return exports.parser.parse(source)},"undefined"!=typeof module&&require.main===module&&exports.main(process.argv.slice(1)))}.call(this,require("_process"))},{"./node":100,_process:147,fs:145,path:146}],102:[function(require,module){!function(define){"use strict";define(function(require){function Resolver(){this.parameters=[],this.rules=[]}var Value,Base;return Value=require("./value"),Base=require("panthrbase/index"),Resolver.types={},Resolver.addType=function(type,check,unwrap){return null==unwrap&&(unwrap=function(v){return v.value}),Resolver.types.hasOwnProperty(type)||(Resolver.types[type]={check:check,unwrap:unwrap,conversions:{}}),this},Resolver.addStandardType=function(type){return Resolver.addType(type,function(v){return v.type===type})},Resolver.hasType=function(type){return Resolver.types.hasOwnProperty(type)},Resolver.addConversion=function(from,to,fun){if(!Resolver.hasType(to))throw new Error("Asked to convert to unknown type: "+to);if(!Resolver.hasType(from))throw new Error("Asked to convert from unknown type: "+from);if(Resolver.types[from].conversions.hasOwnProperty(to))throw new Error("Already know how to convert from "+from+" to "+to);return Resolver.types[from].conversions[to]=fun,this},Resolver.getConversion=function(from,to){return Resolver.hasType(to)&&Resolver.hasType(from)&&Resolver.types[from].conversions.hasOwnProperty(to)?Resolver.types[from].conversions[to]:null},Resolver.prototype={},Resolver.prototype.addParameter=function(param,types,required){return required=required===!0,"string"==typeof types&&(types=[types]),"function"!=typeof types&&types.forEach(function(type){if(!Resolver.hasType(type))throw new Error("Unknown type: "+type)}),this.parameters.push({name:param,types:types,required:required}),this},Resolver.prototype.addDots=function(){return this.parameters.push({name:"..."}),this},Resolver.prototype.getParam=function(param){var i;for(i=0;i<this.parameters.length;i+=1)if(this.parameters[i].name===param)return this.parameters[i];return null},Resolver.prototype.addDefault=function(param,fun){if(!this.has(param))throw new Error("Cannot add default for unknown parameter: "+param);return this.rules.push({type:"default",param:param,fun:fun}),this},Resolver.prototype.addDependent=function(dependent,parent,fun){if(!this.has(dependent))throw new Error("Cannot add dependency for unknown parameter: "+dependent);if(!this.has(parent))throw new Error("Cannot add dependency with unknown parameter: "+parent);return this.rules.push({type:"dependency",dependent:dependent,parent:parent,fun:fun}),this},Resolver.prototype.addNormalize=function(fun){return this.rules.push({type:"normalize",fun:fun}),this},Resolver.prototype.has=function(param){var i;for(i=0;i<this.parameters.length;i+=1)if(this.parameters[i].name===param)return!0;return!1},Resolver.prototype.resolve=function(actuals){var processed,i,j,name,formal,params;for(processed=new Base.List,params=this.parameters,i=1;i<=actuals.length();)if(name=actuals.names(i),Base.utils.isMissing(name))i+=1;else{if(processed.has(name))throw new Error("Duplicate parameter name in function call: "+name);formal=this.getParam(name),null!=formal?(processed.set(name,Resolver.resolveValue(formal.types)(actuals.get(i))),actuals.delete(i)):i+=1}for(j=1,i=0;i<params.length;i+=1){for(;j<=actuals.length()&&!Base.utils.isMissing(actuals.names(j));)j+=1;formal=params[i],processed.has(formal.name)||("..."===formal.name?(processed.set("...",this.resolveDots(actuals)),actuals=new Base.List):j<=actuals.length()&&(processed.set(formal.name,Resolver.resolveValue(formal.types)(actuals.get(j))),actuals.delete(j)))}if(actuals.length()>0)throw new Error("Too many arguments passed to function call");for(this.rules.forEach(function(rule){switch(rule.type){case"default":processed.has(rule.param)||processed.set(rule.param,rule.fun(processed));break;case"dependency":!processed.has(rule.dependent)&&processed.has(rule.parent)&&processed.set(rule.dependent,rule.fun(processed.get(rule.parent)));break;case"normalize":rule.fun(processed);break;default:throw new Error("Unknown resolver rule type: "+rule.type)}}),i=0;i<params.length;i+=1)if(params[i].required&&!processed.has(params[i].name))throw new Error("Parameter required but not provided: "+params[i].name);return processed},Resolver.prototype.resolveDots=function(actuals){return actuals.map(Resolver.resolveValue(["any"]))},Resolver.getValueTypes=function(value){return Object.keys(Resolver.types).filter(function(type){return Resolver.types[type].check(value)})},Resolver.resolveValue=function(targetTypes){return function(value){var i,j,valueTypes,conversion;for(valueTypes=Resolver.getValueTypes(value),i=0;i<targetTypes.length;i+=1)if(-1!==valueTypes.indexOf(targetTypes[i]))return Resolver.types[targetTypes[i]].unwrap(value);for(i=0;i<targetTypes.length;i+=1)for(j=0;j<valueTypes.length;j+=1)if(conversion=Resolver.getConversion(targetTypes[i],valueTypes[j]),null!=conversion)return conversion(Resolver.types[valueTypes[j]].unwrap(value));throw new Error("Conversion error: "+value+" could not be converted to any of: "+targetTypes.join(", "))}},Resolver.addStandardType("scalar").addStandardType("logical").addStandardType("string").addStandardType("factor").addStandardType("datetime").addStandardType("ordinal").addStandardType("list").addStandardType("null").addType("function",function(v){return"builtin"===v.type||"closure"===v.type},Value.functionFromValue).addType("number",function(v){return"scalar"===v.type&&1===v.value.length()},function(v){return v.value.get(1)}).addType("boolean",function(v){return"logical"===v.type&&1===v.value.length()},function(v){return v.value.get(1)}).addType("variable",function(v){return v.value instanceof Base.Variable}).addType("any",function(){return!0}).addType("undefined",function(v){return"undefined"===v.type}),Resolver})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./value":103,"panthrbase/index":50}],103:[function(require,module){!function(define){"use strict";define(function(require){function Value(type,value){this.type=type,this.value=value}function evalBuiltin(fun,resolver){return function(actuals){var resolvedActuals;return resolvedActuals=resolver.resolve(actuals),fun(resolvedActuals)}}function evalClosure(fun,env){return function(actuals){function matchNamed(i,j){var actual,name;return i>actuals.length()?null:(actual=actuals.get(i),name=actuals.names(i),name?j>=formals.length?matchNamed(i+1,0):"param"!==formals[j].name&&"param_default"!==formals[j].name||formals[j].id!==name?matchNamed(i,j+1):(closExtFrame.store(formals[j].id,actual),formals.splice(j,1),actuals.delete(i),matchNamed(i,0)):matchNamed(i+1,0))}var formals,body,closExtFrame,actualPos;for(formals=fun.params.slice(),body=fun.body,closExtFrame=env.extend(),matchNamed(1,0),actualPos=1;0!==formals.length;){for(;actualPos<=actuals.length()&&actuals.names(actualPos);)actualPos+=1;"param_dots"===formals[0].name?(closExtFrame.store("...",Value.makeList(actuals)),actuals=new Base.List):actualPos<=actuals.length()&&"undefined"!==actuals.get(actualPos).type?(closExtFrame.store(formals[0].id,actuals.get(actualPos)),actuals.delete(actualPos)):("param_default"===formals[0].name?closExtFrame.store(formals[0].id,Value.makePromise(evalInFrame.bind(null,formals[0].default,closExtFrame))):closExtFrame.store(formals[0].id,Value.makeUndefined()),actualPos<=actuals.length()&&actuals.delete(actualPos)),formals.splice(0,1)}return evalInFrame(body,closExtFrame)}}var Base,evalInFrame;return Base=require("panthrbase/index"),evalInFrame=function(){throw new Error("Need to call call Value.setEvalInFrame first")},Value.null=new Value("null",null),Value.null.value=Value.null,Value.undefined=new Value("undefined"),Value.setEvalInFrame=function(f){return evalInFrame=f,Value},Value.functionFromValue=function(value){if("closure"===value.type||"builtin"===value.type)return value.value;throw new Error("Attempting to make function from non-function value.This should not be happening")},Value.makeValue=function(type,value){return new Value(type,value)},Value.makeError=function(err){return Value.makeValue("error",err)},Value.makeScalar=function(value){return Value.makeVariable(new Base.Variable([value],{mode:"scalar"}))},Value.makeString=function(value){return Value.makeVariable(new Base.Variable([value],{mode:"string"}))},Value.makeLogical=function(value){return Value.makeVariable(new Base.Variable([value],{mode:"logical"}))},Value.makeVariable=function(value){return Value.makeValue(value.mode(),value)},Value.makeList=function(value){return Value.makeValue("list",value)},Value.makeClosure=function(fun,env){var f;return f=evalClosure(fun,env),f.fun=fun,f.env=env,Value.makeValue("closure",f)},Value.makeBuiltin=function(fun,resolver){var f;return f=evalBuiltin(fun,resolver),f.fun=fun,f.resolver=resolver,Value.makeValue("builtin",f)},Value.makeMissing=function(){return Value.makeValue("missing",{})},Value.makeUndefined=function(){return Value.undefined},Value.makeNull=function(){return Value.null},Value.makePromise=function(thunk){return Value.makeValue("promise",{thunk:thunk})},Value.makePackage=function(pack){return Value.makeValue("pack",{"package":pack})},Value.wrap=function(v){if(null===v)return Value.makeNull();if("undefined"==typeof v)return Value.makeUndefined();if(v instanceof Value)return v;if(v instanceof Base.Variable)return Value.makeVariable(v);if(v instanceof Base.List)return Value.makeList(v);if(v instanceof Function){if(v.hasOwnProperty("env"))return Value.makeValue("closure",v);if(v.hasOwnProperty("resolver"))return Value.makeValue("builtin",v);throw new Error("Do not know how to convert arbitrary functions to Value")}if("number"==typeof v||"boolean"==typeof v||"string"==typeof v)return Value.makeVariable(new Base.Variable([v]));if(Array.isArray(v))return Value.makeVariable(new Base.Variable(v));throw new Error("Do not know how to convert this kind of value to Value: "+v)},Value.prototype.clone=function(){return this.value instanceof Base.Variable?Value.makeVariable(this.value.clone()):"list"===this.type?Value.makeList(this.value.clone()):this},Value.prototype.resolve=function(){var val;if("promise"===this.type)val=this.value.thunk(),this.type=val.type,this.value=val.value;else if("undefined"===this.type)throw new Error("missing argument");return this},Value.prototype.toString=function(){switch(this.type){case"error":return"Error: "+this.value.message.toString()+" near "+(null==this.value.loc?"":this.value.loc.firstLine+":"+this.value.loc.firstColumn);default:return"<"+this.type+": "+this.value.toString()+">"}},Value})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"panthrbase/index":50}],104:[function(require,module){!function(define){"use strict";define(function(require){var panthrLang,Parser,parser,Node,Evaluate,Console;return Node=require("./panthrLang/node"),Console=require("./panthrLang/console"),Evaluate=require("./panthrLang/evaluate"),parser=require("./panthrLang/parser").parser,Parser=require("./panthrLang/parser").Parser,Parser.prototype.parseError=function(str,hash){function _parseError(msg,hash2){this.message=msg,this.hash=hash2}if(!hash.recoverable)throw _parseError.prototype=Error,new _parseError(str,hash);this.myError={str:str,hash:hash},this.trace(str)},panthrLang={Node:Node,Console:Console,Evaluate:Evaluate,parse:function(str,action){return null==action&&(action=function(x){console.log(x)}),parser.yy.emit=function(node){action(node)},parser.parse(str)},eval:function(str){var ev;return ev=new Evaluate,ev.parseAndEval("library(base)"),ev.parseAndEval(str)}},Evaluate.addPackage("base",require("./packages/base")),panthrLang})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./packages/base":96,"./panthrLang/console":97,"./panthrLang/evaluate":98,"./panthrLang/node":100,"./panthrLang/parser":101}],105:[function(require,module){!function(define){"use strict";define(function(){function Loader(main){this.setMain(main)}function normalizeArguments(module,name,method){var bindings,regexp;if(bindings={},regexp=/^(.*)\.([^\.]*)$/,"undefined"==typeof method){if("function"!=typeof name)return{module:module,methods:name};if(module=module.match(regexp),null==module)throw new Error("Invalid module method specification in addModuleMethod");bindings[module[2]]=name,module=module[1]}else bindings[name]=method;return{module:module,methods:bindings}}function getSetProperty(root,path,property){for(Array.isArray(path)||(path=path.split("."));path.length>1;){if(!root.hasOwnProperty(path[0]))throw new Error("bad path: "+path[0]);root=root[path.shift()]}if(null==property){if(!root.hasOwnProperty(path[0]))throw new Error("bad path: "+path[0]);return root[path[0]]}if(root.hasOwnProperty(path[0]))throw new Error("Warning!!!! Trying to set existing property: "+path[0]);root[path[0]]=property}function safeMixin(obj1,obj2){Object.keys(obj2).forEach(function(key){obj1.hasOwnProperty(key)?console.error("Warning!!!! Trying to set existing property: ",key):obj1[key]=obj2[key]})}return Loader.prototype={setMain:function(newMain){this.main=newMain},requireModule:function(name){return getSetProperty(this.main,name)},addModule:function(name,obj){getSetProperty(this.main,name,obj)},requireClass:function(name){return getSetProperty(this.main,name)},addClass:function(name,obj){return getSetProperty(this.main,name,obj),this},getClass:function(name){return getSetProperty(this.main,name)},addModuleMethod:function(module,name,method){var params;return params=normalizeArguments(module,name,method),safeMixin(this.requireModule(params.module),params.methods),this},addClassMethod:function(type,name,method){var params;return params=normalizeArguments(type,name,method),safeMixin(this.getClass(params.module),params.methods),this},addInstanceMethod:function(type,name,method){var params;return params=normalizeArguments(type,name,method),safeMixin(this.getClass(params.module).prototype,params.methods),this},loadModule:function(moduleFun){moduleFun(this)}},Loader})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],106:[function(require,module){!function(define){"use strict";define(function(require){var panthrMath,mixin,rgen;return mixin=require("./panthrMath/utils").mixin,panthrMath={},panthrMath.C=require("./panthrMath/constants"),panthrMath.Polynomial=require("./panthrMath/polynomial"),panthrMath.Rational=require("./panthrMath/rational"),rgen=require("./panthrMath/rgen/rgen"),["setAlgorithm","getAlgorithms","setSeed","setRandomSeed","random"].forEach(function(key){panthrMath[key]=rgen[key]}),mixin(panthrMath,require("./panthrMath/basicfunc"),require("./panthrMath/distributions")),panthrMath})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./panthrMath/basicfunc":121,"./panthrMath/constants":122,"./panthrMath/distributions":123,"./panthrMath/polynomial":138,"./panthrMath/rational":139,"./panthrMath/rgen/rgen":143,"./panthrMath/utils":144}],107:[function(require,module){!function(define){"use strict";define(function(require){function bd0(x,y){var ej,j,s,sTemp,v;if(!utils.isFinite(x)||!utils.isFinite(y)||0===y)return 0/0;if(Math.abs(x-y)<.1*(x+y)){for(v=(x-y)/(x+y),s=(x-y)*v,ej=2*x*v,j=1;1e4>j;j+=1){if(ej*=v*v,sTemp=s+ej/(2*j+1),sTemp===s)return sTemp;s=sTemp}throw new Error("bd0(x, y) made it to 10000 ...")}return x*Math.log(x/y)+y-x}var utils;return utils=require("../utils"),{bd0:bd0}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../utils":144}],108:[function(require,module){!function(define){"use strict";define(function(require){function bcorr(a,b){return a>b?bcorr(b,a):stirlerr(a)+algdiv(a,b)+(a+b-.5)*Math.log(1+a/b)+a*(Math.log(b)-1)}function brcomp(a,b,x,y){var lambda;return lambda=a-(a+b)*x,Math.min(a,b)<8?a*Math.log(x)+b*Math.log(y)-lbeta(a,b):.5*(Math.log(a)+Math.log(b)-C.log2pi-Math.log(a+b))-a*phi(1-lambda/a)-b*phi(1+lambda/b)-bcorr(a,b)}function fromLower(lp){return{lower:lp,upper:log1p(-Math.exp(lp))}}function fromUpper(lq){return{lower:log1p(-Math.exp(lq)),upper:lq}}function tailFlip(o){return{lower:o.upper,upper:o.lower}}function bpser(a,b,x){var c,ser;return c=1,ser=a*series(function(i){return 0===i?0:(c=c*(1-b/i)*x,c/(a+i))}),ser=ser>-1?log1p(ser):-1/0,-lbeta(a,b)+a*Math.log(x)-Math.log(a)+ser}function bup(a,b,x,y,n){var logSeries;return logSeries=Math.log(series(function(i,v){return 0===i?1:v*x*(1+(b-1)/(a+i))},n)),a*Math.log(x)+b*Math.log(y)-lbeta(a,b)-Math.log(a)+logSeries}function bgrat(a,b,x){var T,fTs,u,logH,logM,lnx2s,lnx2sn,ps,cs,j,ser;return T=a+.5*(b-1),fTs=1/(4*T*T),u=-T*Math.log(x),logH=Math.log(b)+log1p(gam1(b))+b*Math.log(u)-u,logM=logH-(algdiv(b,a)+b*Math.log(T)),cs=[1],ps=[1],lnx2s=.5*Math.log(x),lnx2s*=lnx2s,lnx2sn=1,j=gratR(b,u,logH),ser=Math.log(series(function(n){var mbmn;return mbmn=-n,n>0&&(j=(b+2*n-2)*(b+2*n-2+1)*j+(u+b+2*n-2+1)*lnx2sn,j*=fTs,cs[n]=cs[n-1]/(2*n)/(2*n+1),ps[n]=(b-1)*cs[n]+1/n*series(function(m){return 0===m?0:(mbmn+=b,mbmn*cs[m]*ps[n-m])},n),lnx2sn*=lnx2s),ps[n]*j})),logM+ser}function bfrac(a,b,x,y){var lambda;return lambda=a-(a+b)*x,brcomp(a,b,x,y)+Math.log(contFrac(function(i){var n;return n=i-1,0===i?0:n+n*(b-n)*x/(a+2*n-1)+(a+n)/(a+2*n+1)*(lambda+1+n*(1+y))},function(i){var n;return n=i-1,1===i?1:(a+n-1)*(a+b+n-1)/(a+2*n-1)/(a+2*n-1)*n*(b-n)*x*x}))}function basym(a,b,x,y){var z,p,q,bg,bgn,Ls,as,bs,cs,es,r,ab,sgn,abnp1,root2z,root2znm1,ser;return p=a/(a+b),q=b/(a+b),bg=b>a?Math.sqrt(q/a):Math.sqrt(p/b),bgn=1/bg,z=Math.sqrt(a*phi(x/p)+b*phi(y/q)),Ls=[],as=[],cs=[],es=[],ab=b>=a?a/b:b/a,abnp1=1,root2z=Math.sqrt(2)*z,root2znm1=1,sgn=-1,ser=series(function(n){var i,seriesTerms;if(bgn*=bg,abnp1=-abnp1*ab,sgn=-sgn,0===n)es[0]=1,Ls[0]=Math.sqrt(Math.PI)/4*Math.exp(z*z)*erfc(z);else if(1===n)as[1]=2/3*(1-abnp1)*(b>=a?q:sgn*p),cs[1]=-.5*as[1],es[1]=-cs[1],Ls[1]=Math.pow(2,-1.5);else{for(root2znm1*=root2z,Ls[n]=Math.pow(2,-1.5)*root2znm1+(n-1)*Ls[n-2],as[n]=2/(n+2)*(1-abnp1)*(b>=a?q:sgn*p),r=(-n-1)/2,seriesTerms=function(j){return 0===j?0:((i-j)*r-j)*bs[j]*as[i-j]},bs=[1,r*as[1]],i=2;n>=i;i+=1)bs[i]=r*as[i]+1/i*series(seriesTerms,i);cs[n]=bs[n]/(n+1),es[n]=-series(function(k){return es[k]*cs[n-k]},n)}return es[n]*Ls[n]*bgn},100),Math.log(2/Math.sqrt(Math.PI))-bcorr(a,b)-z*z+Math.log(ser)}function bratioLog(a,b,x){var p,q,y,bint,bbar,lambda;return p=a/(a+b),q=b/(a+b),y=1-x,bint=Math.floor(b),bbar=b-bint,0===bbar&&(bbar+=1,bint-=1),lambda=a>b?(a+b)*y-b:a-(a+b)*x,0===a?{lower:0,upper:-1/0}:0===b?{lower:-1/0,upper:0}:Math.min(a,b)<=1?x>.5?tailFlip(bratioLog(b,a,y)):Math.max(a,b)>1?1>=b?fromLower(bpser(a,b,x)):x>=.3?fromUpper(bpser(b,a,y)):.1>x&&Math.pow(x*b,a)<=.7?fromLower(bpser(a,b,x)):b>15?fromUpper(bgrat(b,a,y)):fromUpper(logspaceAdd(bup(b,a,y,x,20),bgrat(b+20,a,y))):a>=Math.min(.2,b)?fromLower(bpser(a,b,x)):Math.pow(x,a)<=.9?fromLower(bpser(a,b,x)):x>=.3?fromUpper(bpser(b,a,y)):fromUpper(logspaceAdd(bup(b,a,y,x,20),bgrat(b+20,a,y))):x>p?tailFlip(bratioLog(b,a,y)):40>b?.7>=b*x||lambda>650?fromLower(bpser(a,b,x)):.7>=x?fromLower(logspaceAdd(bup(bbar,a,y,x,bint),bpser(a,bbar,x))):a>15?fromLower(logspaceAdd(bup(bbar,a,y,x,bint),bgrat(a,bbar,x))):fromLower(logspaceAdd(logspaceAdd(bup(bbar,a,y,x,bint),bup(a,bbar,x,y,20)),bgrat(a+20,bbar,x))):b>=a?100>=a?fromLower(bfrac(a,b,x,y)):.97*p>x?fromLower(bfrac(a,b,x,y)):fromLower(basym(a,b,x,y)):100>=b?fromLower(bfrac(a,b,x,y)):y>1.03*q?fromLower(bfrac(a,b,x,y)):fromLower(basym(a,b,x,y))}function bratio(a,b,x,lowerTail,logp){var resLog;return resLog=bratioLog(a,b,x),lowerTail=lowerTail!==!1,logp=logp===!0,resLog=lowerTail?resLog.lower:resLog.upper,logp?resLog:Math.exp(resLog)}var C,stirlerr,log1p,gam1,algdiv,series,contFrac,logspaceAdd,phi,lbeta,erfc,gratR;return C=require("../constants"),stirlerr=require("./stirlerr").stirlerr,log1p=require("./log1p").log1p,gam1=require("./gam1").gam1,phi=require("./phi").phi,erfc=require("./erf").erfc,lbeta=require("./lbeta").lbeta,series=require("../utils").series,contFrac=require("../utils").contFrac,logspaceAdd=require("../utils").logspaceAdd,gratR=require("./gratio").gratR,algdiv=function(){var ds;return ds=[.0833333333333333,-.00277777777760991,.00079365066682539,-.00059520293135187,.000837308034031215,-.00125322962780713],function(a,b){var w,p,q,s;return p=a/(a+b),q=b/(a+b),s=1,w=p/b*series(function(i){return 0===i?ds[0]:(s+=Math.pow(q,2*i-1)+Math.pow(q,2*i),ds[i]*s/Math.pow(b,2*i))},6),w-(a+b-.5)*Math.log(1+a/b)-a*(Math.log(b)-1)}}(),{bratio:bratio}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"../utils":144,"./erf":111,"./gam1":113,"./gratio":114,"./lbeta":115,"./log1p":117,"./phi":119,"./stirlerr":120}],109:[function(require,module){!function(define){"use strict";define(function(require){function dbinomLog(size,p){return 0===p?function(x){return 0===x?0:-1/0}:1===p?function(x){return x===size?0:-1/0}:function(x){return 0===x?0===size?0:size*log1p(-p):x===size?size*Math.log(p):stirlerr(size)-stirlerr(x)-stirlerr(size-x)-bd0(x,size*p)-bd0(size-x,size*(1-p))+.5*Math.log(size/(C.twopi*x*(size-x)))}}var C,stirlerr,bd0,log1p;return C=require("../constants"),stirlerr=require("./stirlerr").stirlerr,bd0=require("./bd0").bd0,log1p=require("./log1p").log1p,{dbinomLog:dbinomLog}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"./bd0":107,"./log1p":117,"./stirlerr":120}],110:[function(require,module,exports){arguments[4][109][0].apply(exports,arguments)},{"../constants":122,"./bd0":107,"./log1p":117,"./stirlerr":120,dup:109}],111:[function(require,module){!function(define){"use strict";define(function(require){var erf,erfc,R4small,R8med,R5large,Rational,piSqrtInv;return piSqrtInv=1/Math.sqrt(Math.PI),Rational=require("../rational"),R4small=Rational.new([.18577770618460315,3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694],[1,23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171]),R8med=Rational.new([2.1531153547440383e-8,.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972],[1,15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495]),R5large=Rational.new([-.016315387137302097,-.30532663496123236,-.36034489994980445,-.12578172611122926,-.016083785148742275,-.0006587491615298378],[1,2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]),erf=function(x){return-.5>x?-erf(-x):.5>x?x*R4small.evalAt(x*x):1-erfc(x)},erfc=function(x){var x2inv;
return-.5>x?2-erfc(-x):.5>x?1-erf(x):4>=x?Math.exp(-x*x)*R8med.evalAt(x):(x2inv=1/(x*x),Math.exp(-x*x)/x*(piSqrtInv+x2inv*R5large.evalAt(x2inv)))},{erf:erf,erfc:erfc}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rational":139}],112:[function(require,module){!function(define){"use strict";define(function(require){var Rational,expm1;return Rational=require("../rational"),expm1=function(){var R;return R=Rational.new([.0238082361044469,9.14041914819518e-10,1],[.000595130811860248,-.0119041179760821,.107141568980644,-.499999999085958,1]),function(x){return-.15>x?Math.exp(x)-1:x>.15?Math.exp(x)*(1-1/Math.exp(x)):x*R.evalAt(x)}}(),{expm1:expm1}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rational":139}],113:[function(require,module){!function(define){"use strict";define(function(require){function gam1(x){return-1>=x?0/0:-.5>x||x>1.5?1/gamma(x+1)-1:0>=x?x*(1+w.evalAt(x)):.5>=x?x*w1.evalAt(x):1>=x?(x-1)/x*w.evalAt(x-1):(x-1)/x*(w1.evalAt(x-1)-1)}var w,w1,gamma,Rational;return gamma=require("./lgamma").gamma,Rational=require("../rational"),w=Rational.new([-.000132674909766242,.000266505979058923,.00223047661158249,-.0118290993445146,.000930357293360349,.118378989872749,-.244757765222226,-.771330383816272,-.422784335098468],[.0559398236957378,.273076135303597,1]),w1=Rational.new([.000589597428611429,-.00514889771323592,.0076696818164949,.0597275330452234,-.230975380857675,-.409078193005776,.577215664901533],[.00423244297896961,.0261132021441447,.158451672430138,.427569613095214,1]),{gam1:gam1}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rational":139,"./lgamma":116}],114:[function(require,module){!function(define){"use strict";define(function(require){function e(y){return.5-(1-y/3)*Math.sqrt(y/Math.PI)}function j(a,x){var v;return v=-x,-a*series(function(i){return 0===i?0:1===i?-x/(a+1):(v=v*-x/i,v/(a+i))})}function gratio(a){return 0>=a?function(){return 0/0}:.5===a?function(x){return erf(Math.sqrt(x))}:1>a?smallP(a):BIG>a?mediumP(a):bigP(a)}function gratioc(a){return 0>=a?function(){return 0/0}:.5===a?function(x){return erfc(Math.sqrt(x))}:1>a?smallQ(a):BIG>a?mediumQ(a):bigQ(a)}function findx0SmallA(a,p,q){var B,u,temp;return B=q*gamma(a),B>.6||B>=.45&&a>=.3?(u=B*q>1e-8?Math.pow(p*gamma(a+1),1/a):Math.exp(-q/a-eulerGamma),u/(1-u/(a+1))):.3>a&&B>=.35&&.6>=B?(temp=Math.exp(-eulerGamma-B),u=temp*Math.exp(temp),temp*Math.exp(u)):(temp=-Math.log(B),u=temp-(1-a)*Math.log(temp),B>=.15?temp-(1-a)*Math.log(u)-Math.log(1+(1-a)/(1+u)):B>.01?temp-(1-a)*Math.log(u)-Math.log((u*u+2*(3-a)*u+(2-a)*(3-a))/(u*u+(5-a)*u+2)):findx0TinyB(a,temp))}function findx0TinyB(a,y){var c1;return c1=(a-1)*Math.log(y),y+Polynomial.new([(a-1)*Polynomial.new([-.25,(11*a-17)/6,-3*a*a+13*a-13,(2*a*a*a-25*a*a+72*a-61)/2,(25*a*a*a-195*a*a+477*a-379)/12]).evalAt(c1),(a-1)*Polynomial.new([1/3,(3*a-5)/2,a*a-6*a+7,(11*a*a-46*a+47)/6]).evalAt(c1),(a-1)*(-.5*c1*c1+(a-2)*c1+(3*a-5)/2),(a-1)*(1+c1),c1]).evalAt(1/y)}function findx0BigA(a,p,q){function snTerm(x){return function(n,v){return 0===n?1:v*x/(a+n)}}function f(x,n){return Math.exp((logpg+x-Math.log(series(snTerm(x),n+1)))/a)}var w,s,D,B,u,z,zbar,logpg;return logpg=Math.log(p*gamma(a+1)),B=q*gamma(a),D=Math.max(2,a*(a-1)),s=funS(p,q),w=a+s*Math.sqrt(a)+(s*s-1)/3+(s*s*s-7*s)/(36*Math.sqrt(a))-(3*s*s*s*s+7*s*s-16)/(810*a)+(9*s*s*s*s*s+256*s*s*s-433*s)/(38880*a*Math.sqrt(a)),a>=500&&Math.abs(1-w/a)<1e-6?w:p>.5?3*a>w?w:B<Math.pow(10,-D)?findx0TinyB(a,-Math.log(B)):(u=-Math.log(B)+(a-1)*Math.log(w)-Math.log(1+(1-a)/(1+w)),-Math.log(B)+(a-1)*Math.log(u)-Math.log(1+(1-a)/(1+u))):(z=w>.15*(a+1)?w:f(f(f(f(w,1),3),3),4),.01*(a+1)>=z||z>.7*(a+1)?z:function(){var N,term;N=0,term=1;do N+=1,term=snTerm(z)(N,term);while(term>1e-4);return zbar=f(z,N+1),zbar*(1-(a*Math.log(zbar)-zbar-logpg+Math.log(series(snTerm(z),N+1)))/(a-zbar))}())}function step(x,a,p,q){var temp,w;return temp=.5>=p?gratio(a)(x)-p:q-gratioc(a)(x),temp/=r(a,x),w=(a-1-x)/2,Math.max(Math.abs(temp),Math.abs(w*temp))<=.1?x*(1-(temp+w*temp*temp)):x*(1-temp)}function gaminv(a){return 0>=a?function(){return 0/0}:function(p,lower){var q,x;return lower===!1?(q=p,p=1-q):q=1-p,0===p?0:1===p?1/0:0>p||p>1?0/0:1===a?-Math.log(q):(x=1>a?findx0SmallA(a,p,q):findx0BigA(a,p,q),repeat(x,function(){return x=step(x,a,p,q)}))}}function gratR(a,x,logr){var ser,z,l,h,rinv;return rinv=Math.exp(-logr),0===x?rinv:0===a?0:.5===a?.25>x?(1-erf(Math.sqrt(x)))*rinv:Math.exp(x)*erfc(Math.sqrt(x))/Math.sqrt(x)*Math.sqrt(Math.PI):(z=a*Math.log(x),l=expm1(z),h=gam1(a),1.1>x?(ser=a*x*series(function(c,v){return function(i){return c+=1,i>0&&(v=v*-x/(i+1)),v/c}}(a,1)),x>=.25&&x/2.59>a||z>-.13394?Math.max(0,((Math.exp(z)*ser-l)*(1+h)-h)*rinv):(1-Math.exp(z)*(1+h)*(1-ser))*rinv):cf(a,x))}var phi,gam1,repeat,series,contFrac,cf,BIG,x0,e0,t,logroot,r,Rational,Polynomial,gamma,lgamma,erf,erfc,expm1,smallP,smallQ,mediumP,mediumQ,bigP,bigQ,eulerGamma,funS;return Rational=require("../rational"),Polynomial=require("../polynomial"),gamma=require("./lgamma").gamma,lgamma=require("./lgamma").lgamma,erf=require("./erf").erf,erfc=require("./erf").erfc,repeat=require("../utils").repeat,series=require("../utils").series,contFrac=require("../utils").contFrac,expm1=require("./expm1").expm1,eulerGamma=require("../constants").eulerGamma,gam1=require("./gam1").gam1,phi=require("./phi").phi,logroot=Math.log(Math.sqrt(.765)),BIG=20,x0=31,e0=25e-5,t=function(){var cs;return cs=[new Polynomial([-4.382036018453353e-9,1.0261809784240309e-8,6.707853543401498e-9,-1.7665952736826078e-7,8.296711340953087e-7,-185406221071516e-20,-2185448510679992e-21,3919263178522438e-20,-.0001787551440329218,.0003527336860670194,.0011574074074074073,-.014814814814814815,.08333333333333333,-.3333333333333333]),new Polynomial([1.1951628599778148e-8,-5.752545603517705e-8,1.378633446915721e-7,4.647127802807434e-9,-16120900894563446e-22,764916091608111e-20,-18098550334489977e-21,-4.018775720164609e-7,.00020576131687242798,-.0009902263374485596,.0026455026455026454,-.003472222222222222,-.001851851851851852]),new Polynomial([1.4280614206064242e-7,-6.298992138380055e-7,13721957309062934e-22,3.423578734096138e-8,-12760635188618728e-21,52923448829120125e-21,-.0001073665322636516,20093878600823047e-22,.0007716049382716049,-.0026813271604938273,.004133597883597883]),new Polynomial([14230900732435883e-22,-56749528269915965e-22,11082654115347302e-21,-2.396505113867297e-7,-7561801671883977e-20,.00026772063206283885,-.0004691894943952557,.00022947209362139917,.0006494341563786008]),new Polynomial([11375726970678419e-21,-3968365047179435e-20,6641498215465122e-20,-14638452578843418e-22,-.0002990724803031902,.0007840392217200666,-.0008618882909167117]),new Polynomial([6797780477937208e-20,-.00019932570516188847,.0002772753244959392,-6972813758365857e-20,-.00033679855336635813]),new Polynomial([.0002708782096718045,-.0005921664373536939,.0005313079364639922])],function(a,lambda){var z,atomk;return atomk=a,z=(lambda>=1?1:-1)*Math.sqrt(2*phi(lambda)),cs.reduce(function(sum,poly){return atomk/=a,sum+poly.evalAt(z)*atomk},0)}}(),r=function(){function delta(a){return lgamma(a)-(a-.5)*Math.log(a)+a-.5*Math.log(2*Math.PI)}return function(a,x){return 20>=a?Math.exp(-x)*Math.pow(x,a)/gamma(a):Math.sqrt(a/(2*Math.PI))*Math.exp(-a*phi(x/a)-delta(a))}}(),cf=function(a,x){function as(i){return 0===i?0:1===i%2?x:1}function bs(i){return 1===i%2?1===i?1:(i-1)/2:i/2-a}return contFrac(as,bs)},smallP=function(a){var gamm;return gamm=gamma(a+1),function(x){var alpha;return 1.1>x?(alpha=.5>x?logroot/Math.log(x):x/2.59,a>=alpha?Math.pow(x,a)*(1-j(a,x))/gamm:1-smallQ(a)(x)):1-smallQ(a)(x)}},smallQ=function(a){var gamm,ha;return gamm=gamma(a+1),ha=gam1(a),function(x){var alpha;return 1.1>x?(alpha=.5>x?logroot/Math.log(x):x/2.59,a>=alpha?1-smallP(a)(x):(Math.pow(x,a)*j(a,x)-expm1(a*Math.log(x)))/gamm-ha):r(a,x)*cf(a,x)}},mediumP=function(a){return function(x){return(a>x||x>=x0||a!==Math.round(2*a))&&x<=Math.max(a,Math.LN10)?r(a,x)/a*series(function(n,v){return 0===n?1:v*x/(a+n)}):1-mediumQ(a)(x)}},mediumQ=function(a){return function(x){return x>=a&&x0>x&&2*a===Math.round(2*a)?a===Math.floor(a)?Math.exp(-x)*series(function(i,v){return 0===i?1:v*x/i},a):erfc(Math.sqrt(x))+Math.exp(-x)/Math.sqrt(Math.PI*x)*series(function(i,v){return 0===i?0:1===i?x/.5:v*x/(i-.5)},Math.round(a+.5)):x<=Math.max(a,Math.LN10)?1-mediumP(a)(x):x0>x?r(a,x)*cf(a,x):r(a,x)/x*series(function(n,v){return 0===n?1:v*(a-n)/x})}},bigP=function(a){return function(x){var lambda,sigma,y;return lambda=x/a,sigma=Math.abs(1-lambda),y=a*phi(lambda),sigma<=e0/Math.sqrt(a)?lambda>1?1-bigQ(a)(x):e(y)-(1-y)/Math.sqrt(2*Math.PI*a)*t(a,lambda):.4>=sigma?lambda>1?1-bigQ(a)(x):.5*erfc(Math.sqrt(y))-Math.exp(-y)/Math.sqrt(2*Math.PI*a)*t(a,lambda):x<=Math.max(a,Math.LN10)?r(a,x)/a*series(function(n,v){return 0===n?1:v*x/(a+n)}):1-bigQ(a)(x)}},bigQ=function(a){return function(x){var lambda,sigma,y;return lambda=x/a,sigma=Math.abs(1-lambda),y=a*phi(lambda),sigma<=e0/Math.sqrt(a)?1>=lambda?1-bigP(a)(x):e(y)+(1-y)/Math.sqrt(2*Math.PI*a)*t(a,lambda):.4>=sigma?1>=lambda?1-bigP(a)(x):.5*erfc(Math.sqrt(y))+Math.exp(-y)/Math.sqrt(2*Math.PI*a)*t(a,lambda):x<=Math.max(a,Math.LN10)?1-bigP(a)(x):x0>x?r(a,x)*cf(a,x):r(a,x)/x*series(function(n,v){return 0===n?1:v*(a-n)/x})}},funS=function(){var ratFun;return ratFun=Rational.new([.213623493715853,4.28342155967104,11.6616720288968,3.31125922108741],[.036117081018842,1.27364489782223,6.40691597760039,6.61053765625462,1]),function(p,q){var temp;return temp=Math.sqrt(-2*Math.log(.5>p?p:q)),(.5>p?-1:1)*(temp-ratFun.evalAt(temp))}}(),{gratio:gratio,gratioc:gratioc,gaminv:gaminv,gratR:gratR}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"../polynomial":138,"../rational":139,"../utils":144,"./erf":111,"./expm1":112,"./gam1":113,"./lgamma":116,"./phi":119}],115:[function(require,module){!function(define){"use strict";define(function(require){function lbeta(a,b){return a>b?lbeta(b,a):0>a?0/0:0===a?1/0:1/0===b?-1/0:a>10?-.5*Math.log(b)+Math.log(sqrt2pi)+(stirlerr(a)+stirlerr(b)-stirlerr(a+b))+(a-.5)*Math.log(a/(a+b))+b*log1p(-a/(a+b)):b>=10?lgamma(a)+(stirlerr(b)-stirlerr(a+b))+a-a*Math.log(a+b)+(b-.5)*log1p(-a/(a+b)):lgamma(a)+(lgamma(b)-lgamma(a+b))}function beta(a,b){return Math.exp(lbeta(a,b))}var stirlerr,sqrt2pi,log1p,lgamma;return stirlerr=require("./stirlerr").stirlerr,log1p=require("./log1p").log1p,lgamma=require("./lgamma").lgamma,sqrt2pi=require("../constants").sqrt2pi,{lbeta:lbeta,beta:beta}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"./lgamma":116,"./log1p":117,"./stirlerr":120}],116:[function(require,module){!function(define){"use strict";define(function(require){function pade22(n1,n2,d1,d2,c,corr){return function(eps){var eps5,pade;return pade=c*(eps+n1)*(eps+n2)/((eps+d1)*(eps+d2)),eps5=eps*eps*eps*eps*eps,eps*(pade+eps5*corr.evalAt(eps))}}function gamma(x){return Math.exp(lgamma(x))}var C,lgamma,lgammaLanczos,lgammaNear1or2,Polynomial;return Polynomial=require("../polynomial"),C=require("../constants"),lgammaLanczos=function(){var cs;return cs=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],function(z){var t,i,ser;for(t=z+7.5,t-=(z+.5)*Math.log(t),ser=cs[0],i=1;i<cs.length;i+=1)ser+=cs[i]/(z+i);return-t+Math.log(C.sqrt2pi*ser/z)}}(),lgammaNear1or2=function(){var p1,p2;return p1=pade22(-1.001741928234951,1.736483920992288,1.2433006018858752,5.045627410027401,2.081626518866269,new Polynomial([.03141928755021455,-.0259402739872502,.01931961413960498,-.01192457083645441,.004785324257581753])),p2=pade22(1.0008958347866692,4.209376735287755,2.618851904903217,10.857665599009835,2.853379987657819,new Polynomial([40722092786795e-18,-693271800931282e-19,.0001067287169183665,-.0001365435269792533,.0001139406357036744])),function(x){return 1.6>=x?p1(x-1):p2(x-2)}}(),lgamma=function(x){return 0>=x?0/0:1===x||2===x?0:Math.abs(x-1)<=.01||Math.abs(x-2)<=.01?lgammaNear1or2(x):lgammaLanczos(x)},{lgamma:lgamma,gamma:gamma}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"../polynomial":138}],117:[function(require,module){!function(define){"use strict";define(function(require){var Rational,log1p;return Rational=require("../rational"),log1p=function(){var R;return R=Rational.new([-.0178874546012214,.405303492862024,-1.29418923021993,1],[-.0845104217945565,.747811014037616,-1.62752256355323,1]),function(x){var t;return Math.abs(x)>.375?Math.log(1+x):(t=x/(x+2),2*t*R.evalAt(t*t))}}(),{log1p:log1p}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rational":139}],118:[function(require,module){!function(define){"use strict";define(function(require){function lpoisson(lambda){return function(x){return 0===lambda?0===x?0:-1/0:utils.isFinite(lambda)?0>x?-1/0:0===x?-lambda:1/0===x?-lambda+x*Math.log(lambda)-1/0:-stirlerr(x)-bd0(x,lambda)-.5*Math.log(C.twopi*x):-1/0}}var C,bd0,stirlerr,utils;return C=require("../constants"),bd0=require("./bd0").bd0,stirlerr=require("./stirlerr").stirlerr,utils=require("../utils"),{lpoisson:lpoisson}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"../utils":144,"./bd0":107,"./stirlerr":120}],119:[function(require,module){!function(define){"use strict";define(function(require){function phi(x){var rat;return 0>x?0/0:0===x?1/0:.82>x||x>1.18?x-1-Math.log(x):(rat=(x-1)/(x+1),2*rat*rat*(1/(1-rat)-rat*phi1.evalAt(rat*rat)))}var phi1,Rational;return Rational=require("../rational"),phi1=new Rational([.00620886815375787,-.224696413112536,.333333333333333],[.354508718369557,-1.27408923933623,1]),{phi:phi}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rational":139}],120:[function(require,module){!function(define){"use strict";define(function(require){function stirlerr(n){var nsq;return nsq=n*n,15>=n?2*n===Math.floor(2*n)?precomputed[2*n]:lgamma(n+1)-(n+.5)*Math.log(n)+n-Math.log(C.sqrt2pi):n>500?(cs[0]-cs[1]/nsq)/n:n>80?(cs[0]-(cs[1]-cs[2]/nsq)/nsq)/n:n>35?(cs[0]-(cs[1]-(cs[2]-cs[3]/nsq)/nsq)/nsq)/n:(cs[0]-(cs[1]-(cs[2]-(cs[3]-cs[4]/nsq)/nsq)/nsq)/nsq)/n}var cs,precomputed,lgamma,C;return lgamma=require("./lgamma").lgamma,C=require("../constants"),cs=[1/12,1/360,1/1260,1/1680,1/1188],precomputed=[0/0,.15342640972002736,.08106146679532726,.05481412105191765,.0413406959554093,.03316287351993629,.02767792568499834,.023746163656297496,.020790672103765093,.018488450532673187,.016644691189821193,.015134973221917378,.013876128823070748,.012810465242920227,.01189670994589177,.011104559758206917,.010411265261972096,.009799416126158804,.009255462182712733,.008768700134139386,.00833056343336287,.00793411456431402,.007573675487951841,.007244554301320383,.00694284010720953,.006665247032707682,.006408994188004207,.006171712263039458,.0059513701127588475,.0057462165130101155,.005554733551962801],{stirlerr:stirlerr}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"./lgamma":116}],121:[function(require,module){!function(define){"use strict";define(function(require){var basicFunc,mixin;return mixin=require("./utils").mixin,basicFunc={},mixin(basicFunc,require("./basicFunc/log1p"),require("./basicFunc/expm1"),require("./basicFunc/erf"),require("./basicFunc/lbeta"),require("./basicFunc/lgamma"),require("./basicFunc/bd0"),require("./basicFunc/gam1"),require("./basicFunc/phi"),require("./basicFunc/stirlerr"),require("./basicFunc/bratio"),require("./basicFunc/gratio")),basicFunc})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./basicFunc/bd0":107,"./basicFunc/bratio":108,"./basicFunc/erf":111,"./basicFunc/expm1":112,"./basicFunc/gam1":113,"./basicFunc/gratio":114,"./basicFunc/lbeta":115,"./basicFunc/lgamma":116,"./basicFunc/log1p":117,"./basicFunc/phi":119,"./basicFunc/stirlerr":120,"./utils":144}],122:[function(require,module){!function(define){"use strict";define(function(){var C;return C={twopi:2*Math.PI,sqrt2pi:Math.sqrt(2*Math.PI),log2pi:Math.log(2*Math.PI),eulerGamma:.5772156649015329},Object.freeze(C)})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],123:[function(require,module){!function(define){"use strict";define(function(require){var distributions,mixin;return mixin=require("./utils.js").mixin,distributions=mixin({},require("./distributions/finite"),require("./distributions/normal"),require("./distributions/gamma"),require("./distributions/chisq"),require("./distributions/poisson"),require("./distributions/t"),require("./distributions/f"),require("./distributions/uniform"),require("./distributions/beta"),require("./distributions/exp"),require("./distributions/geom"),require("./distributions/lognormal"),require("./distributions/nbinom"),require("./distributions/binom"))})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./distributions/beta":124,"./distributions/binom":125,"./distributions/chisq":126,"./distributions/exp":127,"./distributions/f":128,"./distributions/finite":129,"./distributions/gamma":130,"./distributions/geom":131,"./distributions/lognormal":132,"./distributions/nbinom":133,"./distributions/normal":134,"./distributions/poisson":135,"./distributions/t":136,"./distributions/uniform":137,"./utils.js":144}],124:[function(require,module){!function(define){"use strict";define(function(require){function dbeta(a,b,logp){return logp=logp===!0,function(x){var lb,p,n,alogx,blogmx;return utils.hasNaN(x,a,b)||0>a||0>b?0/0:(0>x||x>1?lb=-1/0:0===a&&0===b?lb=0===x||1===x?1/0:-1/0:1/0===a&&1/0===b?lb=.5===x?1/0:-1/0:0===a/b?lb=0===x?1/0:-1/0:0===b/a?lb=1===x?1/0:-1/0:2>=a||2>=b?(alogx=1===a&&0===x?0:(a-1)*Math.log(x),blogmx=1===b&&1===x?0:(b-1)*log1p(-x),lb=alogx+blogmx-lbeta(a,b)):(p=x,x=a-1,n=a+b-2,lb=Math.log(a+b-1)+dbinomLog(n,p)(x)),logp?lb:Math.exp(lb))}}function pbeta(a,b,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,function(x){return utils.hasNaN(x,a,b)||0>a||0>b?0/0:0>=x?utils.adjustLower(0,lowerTail,logp):x>=1?utils.adjustLower(1,lowerTail,logp):0===a&&0===b?logp?Math.log(.5):.5:1/0===a&&1/0===b?utils.adjustLower(.5>x?0:1,lowerTail,logp):0===a/b?utils.adjustLower(1,lowerTail,logp):0===b/a?utils.adjustLower(0,lowerTail,logp):bratio(a,b,x,lowerTail,logp)}}function qbeta(a,b,lowerTail,logp){var f;return lowerTail=lowerTail!==!1,logp=logp===!0,f=pbeta(a,b,lowerTail,logp),utils.hasNaN(a,b)||0>a||0>b?function(){return 0/0}:utils.qhelper(lowerTail,logp,0,1,function(p){var l,u,incr,unloggedp;if(utils.hasNaN(p))return 0/0;if(unloggedp=logp?Math.exp(p):p,0===a&&0===b)return.5>unloggedp?0:unloggedp>.5?1:.5;if(1/0===a&&1/0===b)return.5;if(0===a/b)return 0;if(0===b/a)return 1;for(incr=.1,l=.1;f(l)>p===lowerTail;)if(l*=incr,1e-80>l)return new Error("qbeta failed to find left endpoint");for(u=1-incr;f(u)<p===lowerTail;)if(incr*=.1,u=1-incr,1e-80>incr)return new Error("qbeta failed to find right endpoint");return solve(function(x){return f(x)},p,l,u)})}function rbeta(a,b){var a0,b0,alpha,beta,gamma,delta,k1,k2;return 0>=a||0>=b?function(){return 0/0}:(a0=Math.min(a,b),b0=Math.max(a,b),alpha=a0+b0,1>=a0?(beta=1/a0,delta=1+b0-a0,k1=delta*(.0138889+.0416667*a0)/(b0*beta-.777778),k2=.25+(.5+.25/delta)*a0,function(){for(var u1,u2,v,w,y,z;;)if(u1=rgen.random(),u2=rgen.random(),y=u1*u2,z=u1*y,v=beta*Math.log(u1/(1-u1)),w=b0*Math.exp(v),1/0===w&&(w=Number.MAX_VALUE),.5>u1){if(k1>.25*u2+z-y&&alpha*(Math.log(alpha/(a0+w))+v)-1.3862944>=Math.log(z))break}else if(.25>=z||k2>z&&alpha*(Math.log(alpha/(a0+w))+v)-1.3862944>=Math.log(z))break;return a===a0?a0/(a0+w):w/(a0+w)}):(beta=Math.sqrt((alpha-2)/(2*a0*b0-alpha)),gamma=a0+1/beta,function(){for(var u1,u2,v,w,z,r,s;;)if(u1=rgen.random(),u2=rgen.random(),v=beta*Math.log(u1/(1-u1)),w=a0*Math.exp(v),1/0===w&&(w=Number.MAX_VALUE),z=u1*u1*u2,r=gamma*v-1.3862944,s=a+r-w,s+2.609438>=5*z||s>Math.log(z)||r+alpha*Math.log(alpha/(b0+w))>=Math.log(z))break;return a!==a0?b0/(b0+w):w/(b0+w)}))}var bratio,lbeta,solve,log1p,rgen,dbinomLog,utils;return utils=require("../utils"),log1p=require("../basicFunc/log1p").log1p,lbeta=require("../basicFunc/lbeta").lbeta,bratio=require("../basicFunc/bratio").bratio,dbinomLog=require("../basicFunc/dbinomlog").dbinomLog,solve=require("../utils").binSearchSolve,rgen=require("../rgen/rgen"),{betadistr:function(a,b){return{d:function(x,logp){return dbeta(a,b,logp)(x)},p:function(q,lowerTail,logp){return pbeta(a,b,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qbeta(a,b,lowerTail,logp)(p)},r:function(n){return rbeta(a,b)(n)}}},dbeta:dbeta,pbeta:pbeta,qbeta:qbeta,rbeta:rbeta}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/bratio":108,"../basicFunc/dbinomlog":110,"../basicFunc/lbeta":115,"../basicFunc/log1p":117,"../rgen/rgen":143,"../utils":144}],125:[function(require,module){!function(define){"use strict";define(function(require){function dbinom(size,p,logp){var lbinom;return logp=logp===!0,lbinom=dbinomLog(size,p),utils.hasNaN(size,p)||0>size||0>p||p>1||size!==Math.floor(size)?function(){return 0/0}:function(x){return utils.hasNaN(x)?0/0:0>x||x>size||Math.floor(x)!==x||utils.isInfinite(x)?logp?-1/0:0:logp?lbinom(x):Math.exp(lbinom(x))}}function pbinom(size,p,lowerTail,logp){var goodParams;return logp=logp===!0,lowerTail=lowerTail!==!1,goodParams=size>=0&&1/0>size&&size===Math.floor(size)&&p>=0&&1>=p,goodParams?function(x){var res;return isNaN(x)?0/0:(res=lowerTail===0>x?-1/0:0,x=Math.floor(x),x>=0&&size>x&&(res=pbeta(x+1,size-x,!lowerTail,!0)(p)),logp?res:Math.exp(res))}:function(){return 0/0}}function qbinom(size,prob,lowerTail,logp){var goodParams,mu,sigma,gamma;return logp=logp===!0,lowerTail=lowerTail!==!1,(goodParams=size>=0&&1/0>size&&size===Math.floor(size)&&prob>=0&&1>=prob)?0===prob?pWrap(lowerTail,logp,function(ps){return 0===ps.q?size:0}):1===prob?pWrap(lowerTail,logp,function(ps){return 0===ps.p?0:size}):(mu=size*prob,sigma=Math.sqrt(mu*(1-prob)),gamma=(1-2*prob)/sigma,utils.qhelper(lowerTail,logp,0,size,function(p){var z,ret;return utils.isFinite(size)&&utils.isFinite(prob)?0===size||0===prob?0:(z=qnorm(0,1,lowerTail,logp)(p),ret=Math.floor(mu+sigma*(z+gamma*(z*z-1)/6)+.5),ret>size&&(ret=size),lowerTail?discInvCdf(0,size,ret,p,pbinom(size,prob,!0,logp)):discInvCdf2(0,size,ret,p,pbinom(size,prob,!1,logp))):0/0})):function(){return 0/0}}function rbinom(size,p){var mode;return mode={val:Math.floor(size*p)},mode.prob=dbinom(size,p)(mode.val),inverseCDF(function(){return mode},function(){return 0===this.val?!1:(this.prob*=this.val/(size-this.val+1)*((1-p)/p),this.val-=1,!0)},function(){return this.val===size?!1:(this.prob*=(size-this.val)/(this.val+1)*(p/(1-p)),this.val+=1,!0)})}var dbinomLog,pbeta,qnorm,pWrap,discInvCdf,discInvCdf2,inverseCDF,utils;return dbinomLog=require("../basicFunc/dbinomLog").dbinomLog,pbeta=require("./beta").pbeta,qnorm=require("./normal").qnorm,pWrap=require("../utils").pWrap,utils=require("../utils"),discInvCdf=require("../utils").discInvCdf,discInvCdf2=require("../utils").discInvCdf2,inverseCDF=require("../rgen/inverseCDF"),{binom:function(size,p){return{d:function(x,logp){return dbinom(size,p,logp)(x)},p:function(q,lowerTail,logp){return pbinom(size,p,lowerTail,logp)(q)},q:function(prob,lowerTail,logp){return qbinom(size,p,lowerTail,logp)(prob)},r:function(){return rbinom(size,p)()}}},dbinom:dbinom,pbinom:pbinom,qbinom:qbinom,rbinom:rbinom}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/dbinomLog":109,"../rgen/inverseCDF":142,"../utils":144,"./beta":124,"./normal":134}],126:[function(require,module){!function(define){"use strict";define(function(require){function dchisq(df,logp){return gamma.dgamma(df/2,2,logp)}function pchisq(df,lowerTail,logp){return gamma.pgamma(df/2,2,lowerTail,logp)}function qchisq(df,lowerTail,logp){return gamma.qgamma(df/2,2,lowerTail,logp)}function rchisq(df){return gamma.rgamma(df/2,2)}var gamma;return gamma=require("./gamma"),{chisq:function(df){return{d:function(x,logp){return dchisq(df,logp)(x)},p:function(q,lowerTail,logp){return pchisq(df,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qchisq(df,lowerTail,logp)(p)},r:function(){return rchisq(df)()}}},dchisq:dchisq,pchisq:pchisq,qchisq:qchisq,rchisq:rchisq}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./gamma":130}],127:[function(require,module){!function(define){"use strict";define(function(require){function dexp(rate,logp){return logp=logp===!0,utils.hasNaN(rate)||0>rate?function(){return 0/0}:function(x){return 1/0===rate?0/0:0>x?logp?-1/0:0:logp?-rate*x+Math.log(rate):rate*Math.exp(-rate*x)}}function pexp(rate,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,utils.hasNaN(rate)?function(){return 0/0}:function(x){var ret;return utils.hasNaN(x)?0/0:0>rate&&rate!==-1/0?0/0:0>=x?(ret=lowerTail?0:1,logp?Math.log(ret):ret):lowerTail?logp?log1p(-Math.exp(-rate*x)):-expm1(-rate*x):logp?-rate*x:Math.exp(-rate*x)}}function qexp(rate,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,utils.hasNaN(rate)?function(){return 0/0}:utils.qhelper(lowerTail,logp,0,1/0,function(p){return 0>rate&&rate!==-1/0?0/0:logp?lowerTail?-Math.log(-expm1(p))/rate:-p/rate:lowerTail?-log1p(-p)/rate:-Math.log(p)/rate})}function rexp(rate){return 0>rate?function(){return 0/0}:function(){return sexp()/rate}}var sexp,log1p,expm1,rand,utils;return log1p=require("../basicFunc/log1p").log1p,expm1=require("../basicFunc/expm1").expm1,rand=require("../rgen/rgen").random,utils=require("../utils"),sexp=function(){var q,i,r;for(q=[Math.log(2)],r=1,i=1;16>i;i+=1)r*=Math.log(2)/(i+1),q[i]=q[i-1]+r;return function(){var a,u,ustar,umin;a=0;do u=rand();while(0>=u||u>=1);for(u+=u;1>=u;)u+=u,a+=q[0];if(u-=1,u<=q[0])return a+u;i=0,umin=rand();do ustar=rand(),umin>ustar&&(umin=ustar),i+=1;while(u>q[i]);return a+umin*q[0]}}(),{expdistr:function(rate){return{d:function(x,logp){return dexp(rate,logp)(x)},p:function(q,lowerTail,logp){return pexp(rate,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qexp(rate,lowerTail,logp)(p)},r:function(){return rexp(rate)()}}},dexp:dexp,pexp:pexp,qexp:qexp,rexp:rexp}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/expm1":112,"../basicFunc/log1p":117,"../rgen/rgen":143,"../utils":144}],128:[function(require,module){!function(define){"use strict";define(function(require){function df(df1,df2,logp){return logp=logp===!0,0>=df1||0>=df2||utils.hasNaN(df1,df2)?function(){return 0/0}:function(x){var f,q,p,dens;return utils.hasNaN(x)?0/0:0>x?logp?-1/0:0:0===x?df1>2?logp?-1/0:0:2===df1?logp?0:1:1/0:1/0===df1&&1/0===df2?1===x?1/0:logp?-1/0:0:1/0===df2?gamma.dgamma(df1/2,2/df1,logp)(x):df1>1e14?logp?gamma.dgamma(df2/2,2/df2,logp)(1/x)-2*Math.log(x):gamma.dgamma(df2/2,2/df2,logp)(1/x)/(x*x):(f=1/(df2+x*df1),q=df2*f,p=x*df1*f,df1>=2?(p=1/0===x?1:p,dens=dbinomLog((df1+df2-2)/2,p)((df1-2)/2),f=df1*q/2):(dens=dbinomLog((df1+df2)/2,p)(df1/2),f=df1*df1*q/(2*p*(df1+df2))),logp?Math.log(f)+dens:f*Math.exp(dens))}}function pf(df1,df2,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,0>=df1||0>=df2||utils.hasNaN(df1,df2)?function(){return 0/0}:function(x){return utils.hasNaN(x)?0/0:0>=x?utils.adjustLower(0,lowerTail,logp):1/0===df2?1/0===df1?1>x?utils.adjustLower(0,lowerTail,logp):1===x?logp?-Math.log(2):.5:utils.adjustLower(1,lowerTail,logp):chisq.pchisq(df1,lowerTail,logp)(x*df1):1/0===df1?chisq.pchisq(df2,!lowerTail,logp)(df2/x):df1*x>df2?beta.pbeta(df2/2,df1/2,!lowerTail,logp)(df2/(df2+df1*x)):beta.pbeta(df1/2,df2/2,lowerTail,logp)(df1*x/(df2+df1*x))}}function qf(df1,df2,lowerTail,logp){var qbeta;return logp=logp===!0,lowerTail=lowerTail!==!1,qbeta=beta.qbeta(df2/2,df1/2,!lowerTail,logp),0>=df1||0>=df2||utils.hasNaN(df1,df2)?function(){return 0/0}:utils.qhelper(lowerTail,logp,0,1/0,function(p){return df2>=df1&&df2>4e5?1/0===df1?1:chisq.qchisq(df1,lowerTail,logp)(p)/df1:df1>4e5?df2/chisq.qchisq(df2,!lowerTail,logp)(p):(1/qbeta(p)-1)*(df2/df1)})}function rf(df1,df2){var rchisqRatio;return rchisqRatio=function(d){return chisq.rchisq(d)()/d},0>=df1||0>=df2?function(){return 0/0}:function(){return rchisqRatio(df1)/rchisqRatio(df2)}}var gamma,beta,dbinomLog,chisq,utils;return dbinomLog=require("../basicFunc/dbinomLog").dbinomLog,gamma=require("./gamma"),beta=require("./beta"),chisq=require("./chisq"),utils=require("../utils"),{fdistr:function(df1,df2){return{d:function(x,logp){return df(df1,df2,logp)(x)},p:function(q,lowerTail,logp){return pf(df1,df2,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qf(df1,df2,lowerTail,logp)(p)},r:function(){return rf(df1,df2)()}}},df:df,pf:pf,qf:qf,rf:rf}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/dbinomLog":109,"../utils":144,"./beta":124,"./chisq":126,"./gamma":130}],129:[function(require,module){!function(define){"use strict";define(function(require){function finite(o){var sum,xs,ws,cumsLeft,cumsRight,i,finObj;if(o="function"==typeof o.f?popObjFromFunc(o):{xs:o.xs.slice(0),ws:o.ws.slice(0)},xs=o.xs,ws=o.ws,0===xs.length)throw new Error("finite: Need at least one x");if(xs.length!==ws.length)throw new Error("finite: xs and ws need to have the same length");for(i=0;i<xs.length;i+=1)if(utils.hasNaN(xs[i],ws[i]))return nanObject;for(xs.reduce(function(acc,v){if(acc>=v)throw new Error("finite: xs must be strictly increasing");return v}),sum=ws.reduce(function(acc,v){if(!(v>=0))throw new Error("finite: Cannot have negative weights");return v+acc},0),utils.relativelyCloseTo(sum,1)||(ws=ws.map(function(v){return v/sum})),sum=0,cumsLeft=ws.map(function(v){return sum+=v}),cumsRight=[],cumsRight[ws.length-1]=0,i=ws.length-2;i>=0;i-=1)cumsRight[i]=cumsRight[i+1]+ws[i+1];return finObj={d:function(x,logp){var ind,ret;return logp=logp===!0,utils.hasNaN(x)?0/0:(x<xs[0]||x>xs[xs.length-1]?ret=0:(ind=binSearch(xs,function(y){return x>=y}),ret=xs[ind]===x?ws[ind]:0),logp?Math.log(ret):ret)},p:function(q,lowerTail,logp){var ind,ret;return logp=logp===!0,lowerTail=lowerTail!==!1,utils.hasNaN(q)?0/0:(q<xs[0]?ret=lowerTail?0:1:q>=xs[xs.length-1]?ret=lowerTail?1:0:(ind=binSearch(xs,function(y){return q>=y}),ret=lowerTail?cumsLeft[ind]:cumsRight[ind]),ret=Math.min(ret,1),logp?Math.log(ret):ret)},q:function(p,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,logp&&(p=Math.exp(p)),utils.hasNaN(p)?0/0:p>=1?lowerTail?xs[xs.length-1]:xs[0]:0>=p?lowerTail?xs[0]:xs[xs.length-1]:lowerTail?xs[binSearch2(cumsLeft,function(y){return utils.relativelyCloseTo(y,p,1e-14)||y>p})]:xs[binSearch2(cumsRight,function(y){return utils.relativelyCloseTo(y,p,1e-14)||p>=y})]},r:function(){return finObj.q(rgen.random())}}}function binSearch(xs,pred){var a,b,mid;for(a=0,b=xs.length;b-a>1;)mid=Math.floor((a+b)/2),pred(xs[mid])?a=mid:b=mid;return a}function binSearch2(xs,pred){var a,b,mid;for(a=-1,b=xs.length-1;b-a>1;)mid=Math.floor((a+b)/2),pred(xs[mid])?b=mid:a=mid;return b}function popObjFromFunc(o){var i,obj;if(obj={xs:[],ws:[]},!(o.min<=o.max))throw new Error("finite: Invalid range specification, expected min <= max");for(i=o.min;i<=o.max;i+=1)obj.xs.push(i),obj.ws.push(o.f(i));
return obj}var utils,rgen,nanObject;return utils=require("../utils"),rgen=require("../rgen/rgen"),nanObject={d:function(){return 0/0},p:function(){return 0/0},q:function(){return 0/0},r:function(){return 0/0}},{finite:finite,dfinite:function(o,logp){var distr;return distr=finite(o),function(x){return distr.d(x,logp)}},pfinite:function(o,lowerTail,logp){var distr;return distr=finite(o),function(q){return distr.p(q,lowerTail,logp)}},qfinite:function(o,lowerTail,logp){var distr;return distr=finite(o),function(p){return distr.q(p,lowerTail,logp)}},rfinite:function(o){return finite(o).r}}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rgen/rgen":143,"../utils":144}],130:[function(require,module){!function(define){"use strict";define(function(require){function dgammaLog(a,s){return function(x){return utils.hasNaN(x,a,s)||0>a||0>=s?0/0:0>x?-1/0:0===a?0===x?1/0:-1/0:0===x?1>a?1/0:a>1?-1/0:-x/s-Math.log(s):1>a?Math.log(a/x)+lpoisson(x/s)(a):-Math.log(s)+lpoisson(x/s)(a-1)}}function dgamma(a,s,logp){return logp=logp===!0,function(x){return logp?dgammaLog(a,s)(x):Math.exp(dgammaLog(a,s)(x))}}function pgamma(a,s,lowerTail,logp){var f;return logp=logp===!0,lowerTail=lowerTail!==!1,f=lowerTail?gratio.gratio(a):gratio.gratioc(a),0>=s||0>a||utils.hasNaN(a,s)?function(){return 0/0}:function(x){return x/=s,utils.hasNaN(x)?0/0:0===a?utils.adjustLower(0>=x?0:1,lowerTail,logp):0>=x?utils.adjustLower(0,lowerTail,logp):1/0===x?utils.adjustLower(1,lowerTail,logp):utils.adjustLower(f(x),!0,logp)}}function qgamma(a,s,lowerTail,logp){var gaminv;return logp=logp===!0,lowerTail=lowerTail!==!1,gaminv=gratio.gaminv(a),utils.hasNaN(a,s)?function(){return 0/0}:utils.qhelper(lowerTail,logp,0,1/0,function(p){return 0>a||0>=s?0/0:utils.isInfinite(a)?1/0:0===a?0:s*gaminv(logp?Math.exp(p):p,lowerTail)})}function rgamma(a,s){return 1>a?gammaBest(a,s):a>1?gammaCheng(a,s):exponential(1/s)}function gammaBest(a,s){var t,b;return t=.07+.75*Math.sqrt(1-a),b=1+Math.exp(-t)*a/t,function(){for(var x,y,u1,u2,v;;)if(u1=rgen.random(),u2=rgen.random(),v=b*u1,1>=v){if(x=t*Math.pow(v,1/a),(2-x)/(2+x)>=u2||u2<=Math.exp(-x))return x*s}else if(x=-Math.log(t*(b-v)/a),y=x/t,1>=u2*(a+y*(1-a))||u2<=Math.pow(y,a-1))return x*s}}function gammaCheng(a,s){var c1,c2,c3,c4;return c1=a-1,c2=(a-1/(6*a))/c1,c3=2/c1,c4=c3+2,function(){for(var u1,u2,w;;){if(u1=rgen.random(),u2=rgen.random(),w=c2*u2/u1,c4>=c3*u1+w+1/w)return c1*w*s;if(c3*Math.log(u1)-Math.log(w)+w<1)return c1*w*s}}}var lpoisson,gratio,exponential,rgen,utils;return lpoisson=require("../basicFunc/lpoisson").lpoisson,gratio=require("../basicFunc/gratio"),exponential=require("../rgen/exponential"),rgen=require("../rgen/rgen"),utils=require("../utils"),{gammadistr:function(a,s){return{d:function(x,logp){return dgamma(a,s,logp)(x)},p:function(q,lowerTail,logp){return pgamma(a,s,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qgamma(a,s,lowerTail,logp)(p)},r:function(){return rgamma(a,s)()}}},dgamma:dgamma,pgamma:pgamma,qgamma:qgamma,rgamma:rgamma}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/gratio":114,"../basicFunc/lpoisson":118,"../rgen/exponential":141,"../rgen/rgen":143,"../utils":144}],131:[function(require,module){!function(define){"use strict";define(function(require){function dgeom(prob,logp){return logp=logp===!0,0>=prob||prob>1||utils.hasNaN(prob)?function(){return 0/0}:function(x){return utils.hasNaN(x)?0/0:0>x||Math.round(x)!==x?logp?-1/0:0:logp?Math.log(prob)+dbinomLog(x,prob)(0):prob*Math.exp(dbinomLog(x,prob)(0))}}function pgeom(prob,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,0>=prob||prob>1||utils.hasNaN(prob)?function(){return 0/0}:1===prob?function(x){var ret;return utils.hasNaN(x)?0/0:(ret=0>x?0:1,ret=lowerTail?ret:1-ret,logp?Math.log(ret):ret)}:function(x){var ret;return utils.hasNaN(x)?0/0:(x=Math.floor(x+1e-14),0>x?(ret=lowerTail?0:1,logp?Math.log(ret):ret):(ret=log1p(-prob)*(x+1),lowerTail?logp?log1p(-Math.exp(ret)):-expm1(ret):logp?ret:Math.exp(ret)))}}function qgeom(prob,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,0>=prob||prob>1?function(){return 0/0}:function(p){var res;if(logp){if(p>0)return 0/0;res=lowerTail?Math.log(-expm1(p)):p}else{if(!(p>=0&&1>=p))return 0/0;res=lowerTail?log1p(-p):Math.log(p)}return res=res/log1p(-prob)-1,Math.max(0,Math.ceil(res-1e-12))}}function rgeom(prob){var scale;return 0>=prob||prob>1?function(){return 0/0}:(scale=prob/(1-prob),function(){return rpois(rexp(scale)())()})}var log1p,expm1,rexp,rpois,dbinomLog,utils;return rexp=require("./exp").rexp,rpois=require("./poisson").rpois,log1p=require("../basicFunc/log1p").log1p,expm1=require("../basicFunc/expm1").expm1,dbinomLog=require("../basicFunc/dbinomLog").dbinomLog,utils=require("../utils"),{geom:function(prob){return{d:function(x,logp){return dgeom(prob,logp)(x)},p:function(q,lowerTail,logp){return pgeom(prob,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qgeom(prob,lowerTail,logp)(p)},r:function(){return rgeom(prob)()}}},dgeom:dgeom,pgeom:pgeom,qgeom:qgeom,rgeom:rgeom}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/dbinomLog":109,"../basicFunc/expm1":112,"../basicFunc/log1p":117,"../utils":144,"./exp":127,"./poisson":135}],132:[function(require,module){!function(define){"use strict";define(function(require){function dlnorm(meanlog,sdlog,logp){return logp=logp===!0,utils.hasNaN(meanlog,sdlog)||0>sdlog?function(){return 0/0}:function(x){var z;return utils.hasNaN(x)?0/0:0===sdlog?Math.log(x)===meanlog?1/0:logp?-1/0:0:0>=x?logp?-1/0:0:(z=(Math.log(x)-meanlog)/sdlog,logp?-(logRoot2pi+.5*z*z+Math.log(x*sdlog)):recipRoot2pi*Math.exp(-.5*z*z)/(x*sdlog))}}function plnorm(meanlog,sdlog,lowerTail,logp){var pnorm;return lowerTail=lowerTail!==!1,logp=logp===!0,utils.hasNaN(meanlog,sdlog)||0>sdlog?function(){return 0/0}:(pnorm=normal.pnorm(meanlog,sdlog,lowerTail,logp),function(x){return utils.hasNaN(x)?0/0:0>=x?lowerTail?logp?-1/0:0:logp?0:1:pnorm(Math.log(x))})}function qlnorm(meanlog,sdlog,lowerTail,logp){var qnorm;return logp=logp===!0,lowerTail=lowerTail!==!1,qnorm=normal.qnorm(meanlog,sdlog,lowerTail,logp),utils.hasNaN(meanlog,sdlog)?function(){return 0/0}:utils.qhelper(lowerTail,logp,0,1/0,function(p){return Math.exp(qnorm(p))})}function rlnorm(meanlog,sdlog){var rnorm;return rnorm=normal.rnorm(meanlog,sdlog),function(){return Math.exp(rnorm())}}var normal,C,logRoot2pi,recipRoot2pi,utils;return normal=require("./normal"),C=require("../constants"),logRoot2pi=.5*C.log2pi,recipRoot2pi=1/C.sqrt2pi,utils=require("../utils"),{lognormal:function(meanlog,sdlog){return{d:function(x,logp){return dlnorm(meanlog,sdlog,logp)(x)},p:function(q,lowerTail,logp){return plnorm(meanlog,sdlog,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qlnorm(meanlog,sdlog,lowerTail,logp)(p)},r:function(){return rlnorm(meanlog,sdlog)()}}},dlnorm:dlnorm,plnorm:plnorm,qlnorm:qlnorm,rlnorm:rlnorm}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"../utils":144,"./normal":134}],133:[function(require,module){!function(define){"use strict";define(function(require){function dnbinom(size,prob,logp){return logp=logp===!0,utils.hasNaN(prob,size)||0>=prob||prob>1||0>size?function(){return 0/0}:function(x){var p,ans;return utils.hasNaN(x)?0/0:0>x||x!==Math.floor(x)||utils.isInfinite(x)?logp?-1/0:0:0===x&&0===size?logp?0:1:(utils.isInfinite(size)&&(size=Number.MAX_VALUE),ans=dbinomLog(x+size,prob)(size),p=size/(size+x),logp?Math.log(p)+ans:p*Math.exp(ans))}}function pnbinom(size,prob,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,function(x){return utils.hasNaN(x,size,prob)||0>size||0>=prob||prob>1||utils.isInfinite(size)?0/0:0===size?utils.adjustLower(x>=0?1:0,lowerTail,logp):0>x?utils.adjustLower(0,lowerTail,logp):(x=Math.floor(x+1e-14),beta.pbeta(size,x+1,lowerTail,logp)(prob))}}function qnbinom(size,prob,lowerTail,logp){var mu,sigma,gamma;return logp=logp===!0,lowerTail=lowerTail!==!1,mu=size*(1-prob)/prob,sigma=Math.sqrt(size*(1-prob)/prob/prob),gamma=(2-prob)/prob/sigma,utils.hasNaN(prob,size)?function(){return 0/0}:0===prob&&0===size?function(p){return utils.hasNaN(p)?0/0:0}:0>=prob||prob>1||0>size?function(){return 0/0}:1===prob||0===size?function(p){return utils.hasNaN(p)?0/0:0}:utils.pWrap(lowerTail,logp,function(ps){var z,ret;return 0===ps.p?0:0===ps.q?1/0:1/0===size?1/0:(z=ps.p>.9?qnorm(0,1,!1)(ps.q):qnorm(0,1)(ps.p),ret=Math.floor(mu+sigma*(z+gamma*(z*z-1)/6)+.5),ps.p>.9?utils.discInvCdf2(0,1/0,ret,ps.q,pnbinom(size,prob,!1)):utils.discInvCdf(0,1/0,ret,ps.p,pnbinom(size,prob)))})}function rnbinom(size,prob){var rg;return 0>=size||0>=prob||prob>1?function(){return 0/0}:1===prob?function(){return 0}:(rg=rgamma(size,(1-prob)/prob),function(){return rpois(rg())()})}var beta,dbinomLog,qnorm,utils,rpois,rgamma;return dbinomLog=require("../basicFunc/dbinomLog").dbinomLog,beta=require("./beta"),qnorm=require("./normal").qnorm,utils=require("../utils"),rpois=require("./poisson").rpois,rgamma=require("./gamma").rgamma,{nbinom:function(size,prob){return{d:function(x,logp){return dnbinom(size,prob,logp)(x)},p:function(q,lowerTail,logp){return pnbinom(size,prob,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qnbinom(size,prob,lowerTail,logp)(p)},r:function(){return rnbinom(size,prob)()}}},dnbinom:dnbinom,pnbinom:pnbinom,qnbinom:qnbinom,rnbinom:rnbinom}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/dbinomLog":109,"../utils":144,"./beta":124,"./gamma":130,"./normal":134,"./poisson":135}],134:[function(require,module){!function(define){"use strict";define(function(require){function dnorm(mu,sigma,logp){var c;return logp=logp===!0,c=Math.log(twopi),function(x){var z,p;return utils.hasNaN(x,mu,sigma)?0/0:utils.isInfinite(sigma)?logp?-1/0:0:utils.isInfinite(x)&&mu===x?0/0:0>sigma?0/0:0===sigma?x===mu?1/0:logp?-1/0:0:(z=(x-mu)/sigma,p=-.5*(c+z*z)-Math.log(sigma),logp?p:Math.exp(p))}}function rnorm(mu,sigma){return function(){var v1,v2,rsq;do v1=2*rgen.random()-1,v2=2*rgen.random()-1,rsq=v1*v1+v2*v2;while(rsq>=1);return mu+sigma*v1*Math.sqrt(-2*Math.log(rsq)/rsq)}}var C,twopi,sqrt2pi,Rational,pnorm,qnorm,utils,rgen,adjustLower,adjustUpper;return C=require("../constants"),twopi=C.twopi,sqrt2pi=C.sqrt2pi,Rational=require("../rational"),utils=require("../utils"),rgen=require("../rgen/rgen"),adjustLower=require("../utils").adjustLower,adjustUpper=require("../utils").adjustUpper,pnorm=function(){function addExpTerm(x,rational){return Math.exp(-.5*x*x)*rational}var small,medium,large;return small=Rational.new([.06568233791820745,2.2352520354606837,161.02823106855587,1067.6894854603709,18154.98125334356],[1,47.202581904688245,976.0985517377767,10260.932208618979,45507.78933502673]),medium=Rational.new([1.0765576773720192e-8,.39894151208813466,8.883149794388377,93.50665613217785,597.2702763948002,2494.5375852903726,6848.190450536283,11602.65143764735,9842.714838383978],[1,22.266688044328117,235.387901782625,1519.3775994075547,6485.558298266761,18615.571640885097,34900.95272114598,38912.00328609327,19685.429676859992]),large=Rational.new([.023073441764940174,.215898534057957,.12740116116024736,.022235277870649807,.0014216191932278934,29112874951168793e-21],[1,1.284260096144911,.4682382124808651,.06598813786892856,.0037823963320275824,7297515550839662e-20]),function(mu,sigma,lowerTail,logp){return lowerTail=lowerTail!==!1,logp=logp===!0,function(x){var z,absz,oneOverzsq,r;return utils.hasNaN(x,mu,sigma)?0/0:utils.isInfinite(x)&&x===mu?0/0:0>sigma?0/0:0===sigma?adjustLower(mu>x?0:1,lowerTail,logp):(z=(x-mu)/sigma,utils.isFinite(z)?(z>5&&!lowerTail&&(z=-z,lowerTail=!0),absz=Math.abs(z),.66291>absz?adjustLower(.5+z*small.evalAt(z*z),lowerTail,logp):5.656854>absz?(r=addExpTerm(z,medium.evalAt(absz)),z>0?adjustUpper(r,lowerTail,logp):adjustLower(r,lowerTail,logp)):z>28.572?adjustLower(1,lowerTail,logp):-37.519>z?adjustLower(0,lowerTail,logp):(oneOverzsq=1/(z*z),r=oneOverzsq*large.evalAt(oneOverzsq),r=addExpTerm(z,(1/sqrt2pi-r)/absz),z>0?adjustUpper(r,lowerTail,logp):adjustLower(r,lowerTail,logp))):adjustLower(mu>x?0:1,lowerTail,logp))}}}(),qnorm=function(){var small,medium,large;return small=Rational.new([2509.0809287301227,33430.57558358813,67265.7709270087,45921.95393154987,13731.69376550946,1971.5909503065513,133.14166789178438,3.3871328727963665],[5226.495278852854,28729.085735721943,39307.89580009271,21213.794301586597,5394.196021424751,687.1870074920579,42.31333070160091,1]),medium=Rational.new([.0007745450142783414,.022723844989269184,.2417807251774506,1.2704582524523684,3.6478483247632045,5.769497221460691,4.630337846156546,1.4234371107496835],[1.0507500716444169e-9,.0005475938084995345,.015198666563616457,.14810397642748008,.6897673349851,1.6763848301838038,2.053191626637759,1]),large=Rational.new([2.0103343992922881e-7,27115555687434876e-21,.0012426609473880784,.026532189526576124,.29656057182850487,1.7848265399172913,5.463784911164114,6.657904643501103],[2.0442631033899397e-15,1.421511758316446e-7,18463183175100548e-21,.0007868691311456133,.014875361290850615,.1369298809227358,.599832206555888,1]),function(mu,sigma,lowerTail,logp){return lowerTail=lowerTail!==!1,logp=logp===!0,utils.hasNaN(mu,sigma)?function(){return 0/0}:utils.qhelper(lowerTail,logp,-1/0,1/0,function(prob){var dp,minp,r,ps;return utils.hasNaN(prob)?0/0:(ps=utils.trueProbs(prob,lowerTail,logp),0>sigma?0/0:0===sigma?mu:(dp=ps.p-.5,minp=ps.p<.5?ps.p:ps.q,0===ps.q?1/0:0===ps.p?-1/0:(Math.abs(dp)<=.425?r=dp*small.evalAt(.180625-dp*dp):(r=Math.sqrt(-Math.log(minp)),r=5>=r?medium.evalAt(r-1.6):large.evalAt(r-5),r=ps.p<.5?-r:r),mu+sigma*r)))})}}(),{normal:function(mu,sigma){return{d:function(x,logp){return dnorm(mu,sigma,logp)(x)},p:function(q,lowerTail,logp){return pnorm(mu,sigma,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qnorm(mu,sigma,lowerTail,logp)(p)},r:function(){return rnorm(mu,sigma)()}}},dnorm:dnorm,pnorm:pnorm,qnorm:qnorm,rnorm:rnorm}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../constants":122,"../rational":139,"../rgen/rgen":143,"../utils":144}],135:[function(require,module){!function(define){"use strict";define(function(require){function dpois(lambda,logp){return logp=logp===!0,function(x){return utils.hasNaN(x,lambda)||0>lambda?0/0:x!==Math.floor(x)||utils.isInfinite(x)?logp?-1/0:0:logp?lpoisson(lambda)(x):Math.exp(lpoisson(lambda)(x))}}function ppois(lambda,lowerTail,logp){return lowerTail=lowerTail!==!1,logp=logp===!0,lambda>=0?function(x){return utils.hasNaN(x)?0/0:0>x?utils.adjustLower(0,lowerTail,logp):0===lambda||1/0===x?utils.adjustLower(1,lowerTail,logp):pgamma(Math.floor(x+1e-10)+1,1,!lowerTail,logp)(lambda)}:function(){return 0/0}}function qpois(lambda,lowerTail,logp){var goodParams,mu,sigma,gamma;return logp=logp===!0,lowerTail=lowerTail!==!1,(goodParams=lambda>=0&&1/0>lambda)?0===lambda?function(prob){return utils.hasNaN(prob)?0/0:0}:(mu=lambda,sigma=Math.sqrt(lambda),gamma=1/sigma,pWrap(!0,logp,function(ps){var z,ret;return 0===ps.p?lowerTail?0:1/0:0===ps.q?lowerTail?1/0:0:(z=qnorm(0,1,lowerTail)(ps.p),-10>z&&(z=-10),z>10&&(z=10),ret=Math.floor(mu+sigma*(z+gamma*(z*z-1)/6)+.5),lowerTail?discInvCdf(0,1e10,ret,ps.p,ppois(lambda)):discInvCdf2(0,1e10,ret,ps.p,ppois(lambda,!1)))})):function(){return 0/0}}function rpois(lambda){var mode;return mode={val:Math.floor(lambda)},mode.prob=Math.exp(-lambda+mode.val*Math.log(lambda)-lgamma(mode.val+1)),inverseCDF(function(){return mode},function(){return 0===this.val?!1:(this.prob*=this.val/lambda,this.val-=1,!0)},function(){return this.val+=1,this.prob*=lambda/this.val,!0})}var lpoisson,lgamma,pgamma,pWrap,qnorm,discInvCdf,discInvCdf2,inverseCDF,utils;return lpoisson=require("../basicFunc/lpoisson").lpoisson,lgamma=require("../basicFunc/lgamma").lgamma,pgamma=require("./gamma").pgamma,pWrap=require("../utils").pWrap,discInvCdf=require("../utils").discInvCdf,discInvCdf2=require("../utils").discInvCdf2,qnorm=require("./normal").qnorm,inverseCDF=require("../rgen/inverseCDF"),utils=require("../utils"),{pois:function(lambda){return{d:function(x,logp){return dpois(lambda,logp)(x)},p:function(q,lowerTail,logp){return ppois(lambda,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qpois(lambda,lowerTail,logp)(p)},r:function(){return rpois(lambda)()}}},dpois:dpois,ppois:ppois,qpois:qpois,rpois:rpois}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/lgamma":116,"../basicFunc/lpoisson":118,"../rgen/inverseCDF":142,"../utils":144,"./gamma":130,"./normal":134}],136:[function(require,module){!function(define){"use strict";define(function(require){function dtlog(df){var t;return t=-bd0(df/2,(df+1)/2)+stirlerr((df+1)/2)-stirlerr(df/2),function(x){var x2n,logx2n,u;return utils.hasNaN(x,df)||0>=df?0/0:(x2n=x*x/df,logx2n=Math.log(1+x2n)/2,u=x2n>.2?df*logx2n:x*x/2-bd0(df/2,(df+x*x)/2),t-u-(logx2n+Math.log(sqrt2pi)))}}function dt(df,logp){var dtl;return logp=logp===!0,dtl=dtlog(df),1/0===df?normal.dnorm(0,1,logp):logp?dtl:function(x){return Math.exp(dtl(x))}}function ptlog(df,lowerTail){return function(x){var val;return utils.hasNaN(x,df)||0>=df?0/0:(val=df>x*x?bratio(.5,df/2,x*x/(df+x*x),!1,!0):bratio(df/2,.5,1/(1+x/df*x),!0,!0),0>=x&&(lowerTail=!lowerTail),lowerTail?log1p(-.5*Math.exp(val)):val-Math.log(2))}}function pt(df,lowerTail,logp){var ptl;return lowerTail=lowerTail!==!1,logp=logp===!0,ptl=ptlog(df,lowerTail),1/0===df?normal.pnorm(0,1,lowerTail,logp):logp?ptl:function(x){return Math.exp(ptl(x))}}function qt(df,lowerTail,logp){return lowerTail=lowerTail!==!1,logp=logp===!0,utils.hasNaN(df)?function(){return 0/0}:utils.qhelper(lowerTail,logp,-1/0,1/0,function(p){return 0>=df?0/0:utils.binSearchSolve(function(x){return pt(df,lowerTail,logp)(x)},p)})}function rt(df){return function(){var u1,u2,rsq;do u1=2*rgen.random()-1,u2=2*rgen.random()-1,rsq=u1*u1+u2*u2;while(rsq>=1);return u1*Math.sqrt(df*(Math.pow(rsq,-2/df)-1)/rsq)}}var C,bd0,stirlerr,sqrt2pi,bratio,log1p,utils,rgen,normal;return C=require("../constants"),bd0=require("../basicFunc/bd0").bd0,stirlerr=require("../basicFunc/stirlerr").stirlerr,sqrt2pi=C.sqrt2pi,bratio=require("../basicFunc/bratio").bratio,log1p=require("../basicFunc/log1p").log1p,utils=require("../utils"),rgen=require("../rgen/rgen"),normal=require("./normal"),{tdistr:function(df){return{d:function(x,logp){return dt(df,logp)(x)},p:function(q,lowerTail,logp){return pt(df,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qt(df,lowerTail,logp)(p)},r:function(){return rt(df)()}}},dt:dt,pt:pt,qt:qt,rt:rt}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../basicFunc/bd0":107,"../basicFunc/bratio":108,"../basicFunc/log1p":117,"../basicFunc/stirlerr":120,"../constants":122,"../rgen/rgen":143,"../utils":144,"./normal":134}],137:[function(require,module){!function(define){"use strict";define(function(require){function dunif(a,b,logp){return logp=logp===!0,utils.hasNaN(a,b)||a>=b?function(){return 0/0}:function(x){var p;return utils.hasNaN(x)?0/0:(p=a>x||x>b?0:1/(b-a),logp?Math.log(p):p)}}function punif(a,b,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,a>b||!utils.isFinite(a)||!utils.isFinite(b)?function(){return 0/0}:function(x){return utils.hasNaN(x)?0/0:x>=b?utils.adjustLower(1,lowerTail,logp):a>=x?utils.adjustLower(0,lowerTail,logp):utils.adjustLower((lowerTail?x-a:b-x)/(b-a),!0,logp)}}function qunif(a,b,lowerTail,logp){return logp=logp===!0,lowerTail=lowerTail!==!1,a>b||!utils.isFinite(a)||!utils.isFinite(b)?function(){return 0/0}:function(p){return p=logp?Math.exp(p):p,0>p||p>1?0/0:lowerTail?a+p*(b-a):b-p*(b-a)}}function runif(a,b){return function(){return a+(b-a)*rgen.random()}}var rgen,utils;return rgen=require("../rgen/rgen"),utils=require("../utils"),{unif:function(a,b){return{d:function(x,logp){return dunif(a,b,logp)(x)},p:function(q,lowerTail,logp){return punif(a,b,lowerTail,logp)(q)},q:function(p,lowerTail,logp){return qunif(a,b,lowerTail,logp)(p)},r:function(){return runif(a,b)()}}},dunif:dunif,punif:punif,qunif:qunif,runif:runif}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"../rgen/rgen":143,"../utils":144}],138:[function(require,module){!function(define){"use strict";define(function(){function Polynomial(coefs){return coefs instanceof Polynomial?coefs:(this.coefs=coefs,this)}return Polynomial.new=function(coefs){return new Polynomial(coefs)},Polynomial.prototype.evalAt=function(x){return this.coefs.reduce(function(acc,coef){return acc*x+coef},0)},Polynomial})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],139:[function(require,module){!function(define){"use strict";define(function(require){function Rational(num,denom){this.num=new Polynomial(num),this.denom=new Polynomial(denom)}var Polynomial;return Polynomial=require("./polynomial"),Rational.new=function(num,denom){return new Rational(num,denom)},Rational.prototype.evalAt=function(x){return this.num.evalAt(x)/this.denom.evalAt(x)},Rational})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./polynomial":138}],140:[function(require,module){!function(define){"use strict";define(function(){function slcg(a,c,m){function random(){var k;for(k=Math.floor(x/q),x=a*(x-k*q)-k*r+c;0>x;)x+=m;return x/m}function setSeed(i){return x=i,this}var x,q,r;return q=Math.floor(m/a),r=m%a,{random:random,setSeed:setSeed}}return slcg})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{}],141:[function(require,module){!function(define){"use strict";define(function(require){var rgen;return rgen=require("./rgen"),function(lambda){return function(){return-Math.log(rgen.random())/lambda}}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./rgen":143}],142:[function(require,module){!function(define){"use strict";define(function(require){function getNext(first,second){if(first.update())return first;if(second.update())return second;throw new Error("both sides exhausted -- error!")}var rgen;return rgen=require("./rgen"),function(getMode,updateLeft,updateRight){var mode,left,right;return mode=getMode.apply(this,arguments),left={update:updateLeft},right={update:updateRight},function(){var current,u;left.val=right.val=mode.val,left.prob=right.prob=mode.prob,current=right,u=rgen.random();do{if(u<=current.prob)return current.val;u-=current.prob,current=current===left?getNext(right,left):getNext(left,right)}while(u>=0);throw new Error("total probability exceeds 1")}}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./rgen":143}],143:[function(require,module){!function(define){"use strict";define(function(require){var rgen,slcg;return rgen={algorithms:{},setSeed:function(){throw new Error("need to select an algorithm first")},random:function(){throw new Error("need to select an algorithm first")},setAlgorithm:function(name){return rgen.random=rgen.algorithms[name].random,rgen.setSeed=rgen.algorithms[name].setSeed,rgen.setRandomSeed()},getAlgorithms:function(){return Object.keys(rgen.algorithms)}},rgen.setRandomSeed=function(){return rgen.setSeed(new Date)},slcg=require("./algorithms/slcg"),rgen.algorithms.slcg=slcg(16807,0,Math.pow(2,31)-1),rgen.setAlgorithm("slcg"),rgen})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./algorithms/slcg":140}],144:[function(require,module){!function(define){"use strict";define(function(require){function inferEndpoint(f,y,lower,e){var comp;if(null!=e)return e;for(e=lower?-1:1,comp=f(e)<f(2*e);f(e)>y!==comp;)if(e*=2,-e>1e200)throw new Error("Binary search: Cannot find "+(lower?"lower":"upper")+" endpoint.");return e}var utils,log1p,expm1;return log1p=require("./basicFunc/log1p").log1p,expm1=require("./basicFunc/expm1").expm1,utils={mixin:function(target){return Array.prototype.slice.call(arguments,1).forEach(function(source){Object.keys(source).forEach(function(key){target[key]=source[key]})}),target},maxSteps:1e3,repeat:function(init,step,stop){var prev,curr,done,reps;if(curr=init,reps=utils.maxSteps,0===stop)return curr;for(done="function"==typeof stop?stop:stop>0?function(){return stop-=1,0===stop}:function(){return utils.relativelyCloseTo(curr,prev,1e-13)};reps>0&&!done()&&!isNaN(curr);)reps-=1,prev=curr,curr=step();return isNaN(curr)&&console.log("repeat returned NaN"),0===reps&&console.log("repeat terminated after too many repetitions"),curr},series:function(f,stop){var sum,curr,i;return i=0,curr=f(0),sum=curr,utils.repeat(sum,function(){return i+=1,curr=f(i,curr),sum+=curr},stop)},contFrac:function(a,b,stop){var A,A1,A2,B,B1,B2,an,bn,i;return an=a(0),A=an,A1=1,bn=1,B=bn,B1=0,i=0,utils.repeat(A/B,function(){return A2=A1,A1=A,B2=B1,B1=B,i+=1,an=a(i,an),bn=b(i,bn),A=A1*an+A2*bn,B=B1*an+B2*bn,A/B},stop)},binSearchSolve:function binSearchSolve(f,y,a,b){var mid,vmid,niters;if(a=inferEndpoint(f,y,!0,a),b=inferEndpoint(f,y,!1,b),f(a)>f(b))return binSearchSolve(function(x){return-f(x)},-y,a,b);if(utils.relativelyCloseTo(f(a),y))return a;if(utils.relativelyCloseTo(f(b),y))return b;if(f(a)>y||f(b)<y)throw new Error("Binary search: Desired value not between endpoint values.");for(niters=0;niters<utils.maxSteps;){if(mid=(a+b)/2,niters+=1,vmid=f(mid),utils.relativelyCloseTo(a,b)&&utils.relativelyCloseTo(vmid,y))return mid;y>vmid?a=mid:b=mid}throw new Error("Binary search: Too many iterations")},discInvCdf:function(min,max,x,p,f){var incr;if(0===p)return min;if(1===p)return max;for(x>max&&(x=max),min>x&&(x=min),incr=Math.min(x-min,max-x),incr=Math.max(Math.floor(.001*incr),1);incr>1;)f(x)<p?(x+=incr,f(x)>=p&&(incr=Math.floor(incr/2))):(x-=incr,f(x)<p&&(incr=Math.floor(incr/2)));for(min>x&&(x=min),x>max&&(x=max);;)if(x===min){if(f(x)>=p||utils.relativelyCloseTo(f(x),p,1e-14))return x;x+=1}else if(f(x-1)>=p||utils.relativelyCloseTo(f(x-1),p,1e-14)){if(Math.abs(f(x)-p)<Math.abs(f(x-1)-p))return x;x-=1}else{if(x===max||f(x)>=p||utils.relativelyCloseTo(f(x),p,1e-14))return x;x+=1}},discInvCdf2:function(min,max,x,p,f){var incr;if(0===p)return max;if(1===p)return min;for(x>max&&(x=max),min>x&&(x=min),incr=Math.min(x-min,max-x),incr=Math.max(Math.floor(.001*incr),1);incr>1;)f(x)>p?(x+=incr,f(x)<=p&&(incr=Math.floor(incr/2))):(x-=incr,f(x)>p&&(incr=Math.floor(incr/2)));for(min>x&&(x=min),x>max&&(x=max);;)if(x===min){if(f(x)<=p||utils.relativelyCloseTo(f(x),p,1e-14))return x;x+=1}else if(f(x-1)<=p||utils.relativelyCloseTo(f(x-1),p,1e-14)){if(Math.abs(f(x)-p)<Math.abs(f(x-1)-p))return x;x-=1}else{if(x===max||f(x)<=p||utils.relativelyCloseTo(f(x),p,1e-14))return x;x+=1}},precision:1e-10,relativelyCloseTo:function(x,x0,delta){var absMax;return delta=delta||utils.precision,absMax=Math.max(Math.abs(x0),Math.abs(x)),isNaN(absMax)?isNaN(x)&&isNaN(x0):1/0===absMax?x0===x:0===absMax?!0:0===x?utils.isEssentiallyZero(x0):0===x0?utils.isEssentiallyZero(x):Math.abs(x-x0)/absMax<delta},isEssentiallyZero:function(x){return Math.abs(x)<1e-100},logspaceAdd:function(lx,ly){return Math.max(lx,ly)+log1p(Math.exp(-Math.abs(lx-ly)))},adjustLower:function(p,lowerTail,logp){return 1===p&&(p=0,lowerTail=!lowerTail),0===p?lowerTail?logp?-1/0:0:logp?0:1:lowerTail?logp?Math.log(p):p:logp?log1p(-p):1-p},adjustUpper:function(q,lowerTail,logp){return lowerTail?logp?log1p(-q):1-q:logp?Math.log(q):q},hasNaN:function(){return[].reduce.call(arguments,function(soFar,x){return soFar||x!=x||"number"!=typeof x},!1)},isInfinite:function(x){return 1/0===x||x===-1/0},isFinite:function(x){return!utils.isInfinite(x)&&!utils.hasNaN(x)},logProbs:function(prob,lowerTail,logp){return logp?lowerTail?{p:prob,q:Math.log(-expm1(prob))}:{p:Math.log(-expm1(prob)),q:prob}:lowerTail?{p:Math.log(prob),q:log1p(-prob)}:{p:log1p(-prob),q:Math.log(prob)}},trueProbs:function(prob,lowerTail,logp){return logp?lowerTail?{p:Math.exp(prob),q:-expm1(prob)}:{p:-expm1(prob),q:Math.exp(prob)}:lowerTail?{p:prob,q:1-prob}:{p:1-prob,q:prob}},pWrap:function(lowerTail,logp,f){return function(prob){var probs;return probs=utils.trueProbs(prob,lowerTail,logp),probs.p>=0&&probs.q>=0?f(probs):0/0}},qhelper:function(lowerTail,logp,xmin,xmax,f){return logp?function(p){return p===-1/0?lowerTail?xmin:xmax:0===p?lowerTail?xmax:xmin:0>p?f(p):0/0}:function(p){return 0===p?lowerTail?xmin:xmax:1===p?lowerTail?xmax:xmin:p>0&&1>p?f(p):0/0}}}})}("function"==typeof define&&define.amd?define:function(factory){"use strict";module.exports=factory(require)})},{"./basicFunc/expm1":112,"./basicFunc/log1p":117}],145:[function(){},{}],146:[function(require,module,exports){!function(process){function normalizeArray(parts,allowAboveRoot){for(var up=0,i=parts.length-1;i>=0;i--){var last=parts[i];"."===last?parts.splice(i,1):".."===last?(parts.splice(i,1),up++):up&&(parts.splice(i,1),up--)}if(allowAboveRoot)for(;up--;up)parts.unshift("..");return parts}function filter(xs,f){if(xs.filter)return xs.filter(f);for(var res=[],i=0;i<xs.length;i++)f(xs[i],i,xs)&&res.push(xs[i]);return res}var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,splitPath=function(filename){return splitPathRe.exec(filename).slice(1)};exports.resolve=function(){for(var resolvedPath="",resolvedAbsolute=!1,i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if("string"!=typeof path)throw new TypeError("Arguments to path.resolve must be strings");path&&(resolvedPath=path+"/"+resolvedPath,resolvedAbsolute="/"===path.charAt(0))}return resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/"),(resolvedAbsolute?"/":"")+resolvedPath||"."},exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash="/"===substr(path,-1);return path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/"),path||isAbsolute||(path="."),path&&trailingSlash&&(path+="/"),(isAbsolute?"/":"")+path},exports.isAbsolute=function(path){return"/"===path.charAt(0)},exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p){if("string"!=typeof p)throw new TypeError("Arguments to path.join must be strings");return p}).join("/"))},exports.relative=function(from,to){function trim(arr){for(var start=0;start<arr.length&&""===arr[start];start++);for(var end=arr.length-1;end>=0&&""===arr[end];end--);return start>end?[]:arr.slice(start,end-start+1)}from=exports.resolve(from).substr(1),to=exports.resolve(to).substr(1);for(var fromParts=trim(from.split("/")),toParts=trim(to.split("/")),length=Math.min(fromParts.length,toParts.length),samePartsLength=length,i=0;length>i;i++)if(fromParts[i]!==toParts[i]){samePartsLength=i;break}for(var outputParts=[],i=samePartsLength;i<fromParts.length;i++)outputParts.push("..");return outputParts=outputParts.concat(toParts.slice(samePartsLength)),outputParts.join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(path){var result=splitPath(path),root=result[0],dir=result[1];return root||dir?(dir&&(dir=dir.substr(0,dir.length-1)),root+dir):"."},exports.basename=function(path,ext){var f=splitPath(path)[2];return ext&&f.substr(-1*ext.length)===ext&&(f=f.substr(0,f.length-ext.length)),f},exports.extname=function(path){return splitPath(path)[3]};var substr="b"==="ab".substr(-1)?function(str,start,len){return str.substr(start,len)}:function(str,start,len){return 0>start&&(start=str.length+start),str.substr(start,len)
}}.call(this,require("_process"))},{_process:147}],147:[function(require,module){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}]},{},[95]);